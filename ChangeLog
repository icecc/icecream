2013-07-11  Luboš Luňák  <l.lunak@suse.cz>  [2d010d6351f2b9701fa22eea3c2c6b5644b33043]

	1.0.1 final


2013-07-11  Luboš Luňák  <l.lunak@suse.cz>  [d8786c56d4bfe13d395d9e01cceb79db69e7dc4e]

	require logrotate for suse package

	From a rpmlint warning.

2013-07-11  Luboš Luňák  <l.lunak@suse.cz>  [bc32ca4e2dceebe14b7ba63e35028895b785723b]

	use su option for logrotate


2013-06-29  Luboš Luňák  <l.lunak@suse.cz>  [cce3f55f92afdcd3717825bb7d9d9e3578ea1c1c]

	preparations for 1.0.1 , RC1


2013-06-29  David Vest  <davve@opera.com>  [e5373d97bcb8a87ed04ee9c98f2b92ad0ca6057b]

	Fix off-by-one error

	The array 'suffs' has four entries. The nested for-loop, however, only
	traversed up to the third entry and failed to reach the fourth entry
	'.tgz'.

	Signed-off-by: David Vest <davve@opera.com>

	Conflicts:
		client/remote.cpp

2013-06-29  Luboš Luňák  <l.lunak@suse.cz>  [1b318265c2acfe9d443c00742217f5162f7fbb3f]

	add "[Cc]annot allocate memory" to the list of OOM error messages

	Conflicts:
		daemon/workit.cpp

2013-06-29  Rodrigo Belem  <rodrigo.belem@gmail.com>  [fb2cedfb5c9fb6d25b4123d37e4502a309b83240]

	Detect gcc "out of memory allocating" as EXIT_OUT_OF_MEMORY. Closes #49

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

	Conflicts:
		daemon/workit.cpp

2013-06-29  mscherer  <martin.scherer@gcsc.uni-frankfurt.de>  [02b02c8b41b42a2ad05c220f3347e620299f87cf]

	swap arguments for kill() call, since pid is the first argument


2013-06-29  David Vest  <davve@opera.com>  [a73308ab49553973dc3a5ba1b94d8687339ced2d]

	Remove filenames from md5sum output

	Before this patch, since the filenames contain a temporary directory
	name, icecc-create-env may create new tarball names even though the
	content is exactly the same.

2013-06-29  Luboš Luňák  <l.lunak@suse.cz>  [a56115dbdc2efe76055952325b993ff469b34d86]

	detect bad_alloc as out-of-memory

	Clang prints the bad_alloc message on out-of-memory, and sadly only
	sometimes, other times it just crashes, but this is better than nothing.
	Icecream's detection of actual running out of memory seems to be broken
	(and the code looks fishy to me).

2013-06-29  Vitaliy Kharin  <vitaliy.kharin@lge.com>  [6fe1f06bb3f312ddf228442e053dcb5bd9a6e291]

	Avoid symlinks in the absolute paths


2013-06-29  Luboš Luňák  <l.lunak@suse.cz>  [756567a62633c3101598fd87824574d66c862d6d]

	make sure to not hide e.g. SEGV from a tool with exit code 0

	In particular, 'icerun <foo>' should not exit with 0 if foo segfaulted.

2013-06-27  Luboš Luňák  <l.lunak@suse.cz>  [714e64160f2002693d760b1144f7ece8b74fd203]

	fix /var/run/icecc handling

	Was severely broken by 203b51b588fa2e550feeeef73d91e6d72afeafa9.
	It first created /var/run/icecc, which was successful and didn't have
	the follow-up chown/chmod, so they ended up as root-owned, because
	this happened before dropping privileges using libcap-ng. This caused
	the later access() check for it to fail, and ended up using the user
	path, which however crashed because of there being no $HOME set.
	So after every boot, if /var/run was empty, the first launch failed.
	All following launches were successful, because the mkdir() failed,
	leaving to proper chown/chmod.

	Fix by always doing chown/chmod unconditionally. Also do not use
	the access() check for detecting if it's the system or user way of launching.

2013-06-19  Luboš Luňák  <l.lunak@suse.cz>  [0cf16396711724d1d7ad8ccc5baf688dd0936987]

	fix icecc-create-env with clang 3.3+

	It now has a subdirectory in its internal include directory, so plain wildcard
	doesn't work well, use find to get paths for each file.

2013-04-08  Lubos Lunak  <l.lunak@suse.cz>  [d9b5f61ff026211553b67a484e2f677bb61864d2]

	uninstall also SUSE-specific files when uninstalling


2013-04-08  Lubos Lunak  <l.lunak@suse.cz>  [42e04be96c10edaa2608a344b2323d253c0691ab]

	add missing cap-ng.m4

	missing from 11cacc67f8c9763bce1eb9437561a76674e9930c

2013-04-08  Luboš Luňák  <l.lunak@suse.cz>  [cce2f32b5efe6432fdef089de7cc94a41b4704d5]

	libicecream-devel may require libcap-ng-devel


2013-04-08  Luboš Luňák  <l.lunak@suse.cz>  [5aa24f5ea8aa855717d66cdab930bc787fbf355c]

	if -lcap-ng is needed for icecc.a, add it to .pc file (for icemon)


2013-04-08  Luboš Luňák  <l.lunak@suse.cz>  [c7606a569d0152032956d71d32f49d4edfc196b5]

	use m4/ and ship cap-ng.m4 there

	Otherwise if libcap-ng-devel package is missing, configure will report
	and error but otherwise continue after passing the unknown macro, and e.g.
	AC_SUBST(CAPNG_LIBADD) will not be expanded later.

2013-04-04  Luboš Luňák  <l.lunak@suse.cz>  [a2f769cd055a4dd6fa550c9ecb0daabb3ef7d200]

	install COPYING, README.md and NEWS as useful user documentation

	Dirk, from the package.

2013-04-04  Stephan Kulow  <coolo@suse.de>  [bdfaa43321171e2c4307a5a5b514a90a3be208d9]

	fix the default dist rule


2013-04-04  Luboš Luňák  <l.lunak@suse.cz>  [6e5032719a63ddf3906e50d928059ec330b3140a]

	bump to 1.0.0 (final)


2013-02-20  Luboš Luňák  <l.lunak@suse.cz>  [efa383262af60f04be2b7c6f80aeeca4d3322ebf]

	AC_CONFIG_HEADERS instead of obsolete and removed AM_CONFIG_HEADER

	AC_CONFIG_HEADERS has been around for rather a while, so this should be safe.

2013-02-15  Luboš Luňák  <l.lunak@suse.cz>  [855dd61dedb34b4fb86cc2be35c01bdb8ebff165]

	sync the ccache section between README.md and the manpage

	There should be something done about the duplication.

2013-02-15  Luboš Luňák  <l.lunak@suse.cz>  [b00d4eafb0d32bb01e6f36370696568850ca6087]

	adjust references to icecream path

	Now that it is usually /usr/lib/icecc/bin instead of /opt/icecream/bin .

2013-02-15  Luboš Luňák  <l.lunak@suse.cz>  [12c99bdfca99f3e47f491fcad685db48639b88b3]

	remove unnecessary references to KDE to make icecream look KDE-specific


2013-02-12  llunak  <l.lunak@suse.cz>  [ee8ca483a1e5263b6a12caeab6ec903cd7c7166b]

	Merge pull request #31 from llunak/master

	Fix icerun-wrapped commands failing if the command's path contains 'clang' anywhere
2013-02-11  Luboš Luňák  <l.lunak@suse.cz>  [00c9b8bccc449fd2ef939fd0af26a30e0d046920]

	prevent icerun-wrapped commands failing if path contains 'clang'

	'icerun /path/contains/clang/some_command' would make compiler_is_clang()
	return true, because analyze_program() keeps the path in compilerName()
	for Lang_Custom CompileJob , unlike the other CompileJob kinds, which
	store the compiler name without a path. This problem would show when
	running this command, because analyse_argv() based on this would try
	to add -fcolor-diagnostics to the command arguments in some circumstances.

2013-02-07  llunak  <l.lunak@suse.cz>  [2a1423c86905396f7a9d9a7911b341da3e98cd52]

	Merge pull request #29 from llunak/master

	fix clang wrappers build in specfile
2013-02-07  Luboš Luňák  <l.lunak@suse.cz>  [124a7eb8dff22969e685d4e8ceebeacb42f373f6]

	Linux3_ nodes may not compile on other nodes either, actually


2013-02-07  Luboš Luňák  <l.lunak@suse.cz>  [e91a690bc80ab3b0cb26339dc6da77082d92a6c0]

	mention the Linux3_ hack leading to nodes sometimes not being used


2013-02-07  Luboš Luňák  <l.lunak@suse.cz>  [c0518d83d6936ad2293423ad8d949aa143a2b128]

	refer to icecream-users@googlegroups.com ML as the contact


2013-01-24  Luboš Luňák  <l.lunak@suse.cz>  [b36fcde8cadd21cdb536db69c4bb7f6f1a5aedd1]

	fix clang wrappers build

	The package is unconditionally built, so the wrappers should be
	unconditional too, even if they don't get actually used without clang.

2013-01-09  Stephan Kulow  <coolo@suse.de>  [8a3c82bb4dd9bf5bc9ff4eb1dc80f4568c92afec]

	mild relicensing, the code taken from ksysguardd is really a minor part by now


2013-01-08  Stephan Kulow  <coolo@kde.org>  [33d42d2c08f2bf187e0aa55c2ef66aabbeb18b0f]

	Merge pull request #27 from llunak/master

	do not provide clang symlinks unless clang is installed
2013-01-08  Luboš Luňák  <l.lunak@suse.cz>  [ea9e6508029c1e7c5f0c9478519cb5f0b615c7cc]

	make clang wrappers package also require clang


2013-01-08  Luboš Luňák  <l.lunak@suse.cz>  [d8151240c5446ad14124b97bd2497f32169a2154]

	adjust specfile for optional clang symlinks

	See previous commit. Providing an executable for a compiler that's not
	actually there can break things.

2013-01-08  Luboš Luňák  <l.lunak@suse.cz>  [ef2ecba8db03eb8ac897718247bcd18687e182b2]

	install clang/clang++ wrappers symlinks conditionally again

	The idea to make them unconditional is flawed, as it the clang->icerun symlink
	can be easily confused by the real compiler executable (e.g. in configure scripts
	checking for the specific compiler), but it doesn't work like one if the real
	compiler is not installed. Make them again optional, and add a configure option
	to force them.
	This reverts commit 517330435ff963d35ea1481dbba8b985aaadfe09 and adds the option.

2013-01-07  Stephan Kulow  <coolo@suse.de>  [168d4e9244409fe63ff52e03edba0b0a4aeefdb4]

	add the README.md to the tar


2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [419d76234a1e001eccf909df5453f63f621697eb]

	avoid unused parameter warnings


2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [b5b2999289586ba856c9e48520e58000e72d01e1]

	avoid debug message without endl

	if a connection with duplicate IP gets disconnected, \n's weren't right

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [3f1ddaff89eec9421c9ab730baaff3d6471c271f]

	with cap-ng geteuid() is not a sign of being able to do chroot

	And without this, there would be no remote jobs sent to this host.

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [422750088448a91939f9a95f603504e03a71605a]

	fix scheduler binary name in suse specfile


2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [561d5fe2c776b996d15189b84d915796748208a6]

	cleanup envs dir in %post in specfile

	A different way of handling 2eed54af1c000968f164e68a59c5219002278c96 .

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [f5ed4437f10e6a63c6c2ad9a05d3355218385b2a]

	Revert "cleanup envs dir still with root privileges"

	This reverts commit 2eed54af1c000968f164e68a59c5219002278c96.
	Only quite old icecream versions caused this, and it feels somewhat less
	hackish to just clean up in specfile.

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [ed4165d023b9f3fff976960388402317df938265]

	mkdir -p


2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [2eed54af1c000968f164e68a59c5219002278c96]

	cleanup envs dir still with root privileges

	Otherwise upgrade from older versions which kept some files
	there owned by root:root may not work :(.

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [f382b4add06e61f3893117bc9fe67b7853102b26]

	be more careful when cleaning up envs directory

	I'm not sure if this could be actually (ab)used, but the original code,
	if it failed to remove a symlink to a directory for some reason, could then
	descend into this directory and start removing stuff there.

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [137e683760707c690df496516432d72d8f7a81d3]

	chmod/chown envs dir when preparing this

	This will ensure we have the necesary rights or fail.

2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [69f70ea5c4afe2be3a86e06e3fb644b47a13377a]

	if getuid() != 0, then our u/gid will be getu/gid() the whole time


2013-01-06  Luboš Luňák  <l.lunak@suse.cz>  [603b328a265c7c9f6632e6cbffd10c017ab6d243]

	log error message when cleaning up cache fails during startup


2013-01-06  Stephan Kulow  <coolo@suse.de>  [0eec8e1c79eda9f91995e02ad8904b4620303505]

	bump to 0.9.98.2


2013-01-06  Stephan Kulow  <coolo@suse.de>  [be054887b10b3265b9c45201b07282804bcf2764]

	do not require docbook2man

	rely on the man pages in the tar as mentioned in pull request #21

2013-01-06  Tomas Chvatal  <tchvatal@suse.cz>  [92e4e8af58076140c13858218f9fb07c691f1e26]

	Use docbook2man to generate manpages rather than KDE calls.


2013-01-06  Rodrigo Belem  <rodrigo.belem@gmail.com>  [4773946597adc48f8dd6fc638bfd34c5fc20d6e6]

	Update libcap-ng entries on configure.ac

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2013-01-06  Ragner Magalhaes  <ragner.magalhaes@gmail.com>  [57e468195bd5bc460219a24b34878b5325656e49]

	Fix icecc-create-env for relative paths

	Sometimes the path where gcc finds liblto_plugin.so or specs file
	is relative to its path. Therefore when gcc is added to the tarball
	file in /usr/bin it looses the path to liblto_plugin.so or specs file.

	Usually this bugs occurs to cross-compilling environments.

	Signed-off-by: Ragner Magalhaes <ragner.magalhaes@gmail.com>

2013-01-06  Johannes Obermayr  <johannesobermayr@gmx.de>  [9bb8f1901a4bd3300b3a32c0feb0d9fba6191ccd]

	suse: Backports from OBS and create symlinks in /opt/icecream/bin on openSUSE <= 12.2.


2013-01-05  Stephan Kulow  <coolo@kde.org>  [5958bad494fc36181cbaa5d9526ca5a6e4429788]

	Merge pull request #25 from llunak/master

	fixes for opensuse
2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [d339f61aea1d0d26c4da6b400c8e8e826b9874b0]

	do not complain needlessly about missing icecc user


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [6913f480b56594c4b6d888c18efd2312ba6d06be]

	do not chown() with root uid

	The daemon no longer runs as root.

2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [4e5f12ab8370011c475ddd368e4c07d17c9ba857]

	do not remove env. basedir itself

	Since the change to run as non-root, the daemon cannot remove e.g.
	/var/cache/icecream because of no rights to modify /var/cache.

2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [6308e1c7fc6fed67adf15687789006b8268cecdf]

	fix location of suse logfiles

	After the switch to make the daemon run as non-root user, it has no rights
	to do anything in /var/log . These suse-specific changes were missed
	in the commit that did the changes.

2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [37703ef7c40900921e28c966c546498d34c3990b]

	icecream user on suse is 'icecream', not 'icecc'


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [158e3c9831f7c6a279d0bf703b07d2963e16222a]

	fix usage of %attr in specfile


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [b811006a55e4ca2e98341b0203439b332214f3e4]

	fix builddir != srcdir


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [a3641dd5603e96aca47d501982249f85c4d15957]

	wrapper symlinks have been moved


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [361c892e5e9dffa5bc44f85749b9bb6a8537d10f]

	update building instructions


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [d3a063dd1897cd6d41cf4d3c2b2a653fc8b507d0]

	use the clang rewrite options in opensuse specfile


2013-01-05  Luboš Luňák  <l.lunak@suse.cz>  [ac14317e3822d67c9d9a7fcb377150bc3d07af4c]

	explicit configure option for whether to use clang's include rewriting


2013-01-04  Luboš Luňák  <l.lunak@suse.cz>  [ce9c12acf98b4ce92bca2b25501c5aa37b081779]

	icecream doesn't use m4 directory


2013-01-04  Luboš Luňák  <l.lunak@suse.cz>  [271b9b6971e2cbb796a304a7117aad203a639174]

	update opensuse.spec.in from the actual specfile


2013-01-04  Luboš Luňák  <l.lunak@suse.cz>  [816e7acddbe9a2c8d13b4153acbc182b7b3dbad2]

	fix libexec dir name in opensuse specfile


2012-12-26  Stephan Kulow  <coolo@suse.de>  [5970d9ef019498f6bf4abd14cc8bc9869ea0814f]

	restore the package name


2012-12-26  Stephan Kulow  <coolo@suse.de>  [051a345135598125dc67be3a0131c503f1c4ae37]

	small fix for suse install


2012-12-26  Stephan Kulow  <coolo@suse.de>  [3f0b302ba7f54b0a034f9e719ad3e6a4fbab5a09]

	bump to 0.98.1


2012-12-26  Stephan Kulow  <coolo@suse.de>  [38281f0793ec64e087fc9aff634c3a1f88480d41]

	ignore if meinproc is not avilable


2012-12-26  Johannes Obermayr  <johannesobermayr@gmx.de>  [e58f1236d61c106caf8a2d989e294189aabb6967]

	Move openSUSE's rpm install scripts to suse/Makefile.am.

	Because automake sets 'host_vendor = suse' we can check for it and install contents only on openSUSE.

2012-12-26  Johannes Obermayr  <johannesobermayr@gmx.de>  [517330435ff963d35ea1481dbba8b985aaadfe09]

	Remove CLANG_SYMLINK_WRAPPERS variable and install clang++ clang symlinks unconditionally.

	This is possible because clang support becomes build also when clang/clang++ is not present at build time.

2012-12-26  Stephan Kulow  <coolo@kde.org>  [22c6843252a698b573d71e0ff9dfb70b0d8d7d46]

	Merge pull request #18 from scarabeusiv/master

	Version bump minilzo to 2.0.6
2012-12-25  Tomas Chvatal  <tchvatal@suse.cz>  [137ceaba2835037009b048c64c20747b12a01377]

	Version bump minilzo to 2.0.6.


2012-12-19  Stephan Kulow  <coolo@kde.org>  [15e77b71f9e4236bb6dd3ce81b532e6d3246ac1d]

	Merge pull request #17 from rbelem/scheduler-root

	Change to icecc or nobody uid when running the scheduler as root.
2012-12-19  Stephan Kulow  <coolo@kde.org>  [8b0d54d7ff06f8367aab6f90b98e6d0608bf8afc]

	Merge pull request #13 from rbelem/libexec-pkglibexec

	Links installation should be pkglibexec instead of libexec
2012-12-19  Stephan Kulow  <coolo@kde.org>  [5716807c24c967b3c7e11b5fd803f8f8b90e04df]

	Merge pull request #16 from rbelem/scheduler-name

	Rename scheduler to icecc-scheduler to avoid name clash
2012-12-19  Rodrigo Belem  <rodrigo.belem@gmail.com>  [6c2bc138363df23a00c1b8b9bc775b5c76bc9c5a]

	Move scheduler logs to icecc specific dir

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-19  Rodrigo Belem  <rodrigo.belem@gmail.com>  [12f163f97883b0f8299efe8dac756ffdd4c0c371]

	Change to an unprivileged user when running the scheduler as root.

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-19  Rodrigo Belem  <rodrigo.belem@gmail.com>  [5708f0f6f0453ea7d29b9239d7935a841cc05c91]

	Rename scheduler to icecc-scheduler to avoid name clash

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-18  Rodrigo Belem  <rodrigo.belem@gmail.com>  [6968182786b973221c198a965f2d4da7ce69aafa]

	Links installation should be pkglibexec instead of libexec

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-18  Stephan Kulow  <coolo@suse.de>  [127f9cb56ea7504e1957cda571669a40a02949bb]

	bump to 0.9.98


2012-12-18  Stephan Kulow  <coolo@suse.de>  [5acc5248ac97069147266395325c4f39bbfcd9c0]

	fix bug tracker reference :)


2012-12-18  Stephan Kulow  <coolo@suse.de>  [a74b0d17303483fb03c1a94c3e265f24825ecd74]

	0.9.98 news


2012-12-18  Stephan Kulow  <coolo@suse.de>  [c91a72cee5d3e222a0525a61abc26c50f66d5684]

	some readme generated from en.opensuse.org content


2012-12-18  Stephan Kulow  <coolo@suse.de>  [f502b9a3ecee7c6774599deff70c66c227206720]

	0.9.97 - update news


2012-12-18  Stephan Kulow  <coolo@suse.de>  [a67395b13e51c76f7d231f9f81b91277176a6703]

	fix generation of man pages

	They are part of the tarball, but not in git. otherwise people will
	touch them instead of the docbook

2012-12-18  Stephan Kulow  <coolo@suse.de>  [a733506bbc881aa8be99b43e27762fad670646df]

	fix for assembler usage during kvm builds


2012-12-18  Rodrigo Belem  <rodrigo.belem@gmail.com>  [6264e13b2426ecd67cb6dc2e74d3ac15d9b8fec4]

	Install icecc links in a more convenient dir

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-18  Stephan Kulow  <coolo@kde.org>  [5d16e82b75aa5c1f507c95fbcc26ebff41dc105c]

	Merge pull request #11 from rbelem/makefile-fix

	Replace four spaces by tabs on Makefiles
2012-12-18  Rodrigo Belem  <rodrigo.belem@gmail.com>  [181e0bd0cb40680fb9ba876c9d8fd886af3b8ff8]

	Replace four spaces by tabs on Makefiles

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-18  Tomas Chvatal  <tchvatal@suse.cz>  [b2b11c51455d090da8817d963ea833c749b58563]

	Update autoconf and automake macros

	 - Rename configure.in to configure.ac
	 - Add autogen.sh script
	 - Update gitignore for out of tree builds
	 - Update the autotools build system to be bit more readable.
	 - Whitespace 4spaces instead of tabs.
	 - Update the automake check to be done in one step.

2012-12-16  Stephan Kulow  <coolo@kde.org>  [cc6b9eceaf36dfec5c9834f60b03df5333a375f6]

	Merge pull request #7 from rbelem/libcap-ng

	libcap-ng support
2012-12-16  Stephan Kulow  <coolo@kde.org>  [996b2cce35fa8d16d8152fb29f7577796a259fdd]

	Merge pull request #1 from pinotree/reduce-path-max

	Reduce PATH_MAX usage
2012-12-16  Stephan Kulow  <coolo@kde.org>  [7824697de4f02c43e6ce012d1fd3e2de4e1afbc6]

	Merge pull request #4 from ragner/parse_atfile_option

	Parse @file option
2012-12-15  Stephan Kulow  <coolo@kde.org>  [203cf0505a4c00a062fd49f5741c2690130b0ad9]

	Merge pull request #6 from ragner/skip_header_dot_h

	Skip .[h,hpp] header files and check precompiled headers from -include o...
2012-12-11  Rodrigo Belem  <rodrigo.belem@gmail.com>  [203b51b588fa2e550feeeef73d91e6d72afeafa9]

	Add support for libcap-ng

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-11  Rodrigo Belem  <rodrigo.belem@gmail.com>  [92007525eaa1946352918be370fc5cd01fdd0766]

	Rename nobody to user

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-11  Rodrigo Belem  <rodrigo.belem@gmail.com>  [e1e519573aa2a7fd9afd3e3f7991388bf1f369dc]

	Move log and socket to an icecc especific folder

	Signed-off-by: Rodrigo Belem <rodrigo.belem@gmail.com>

2012-12-05  Ragner Magalhaes  <ragner.magalhaes@gmail.com>  [5f8cc4985e89e39e3f99575b83ebbcb85d16c6f4]

	Skip .[h,hpp] header files and check precompiled headers from -include opts

	Skip .[h,hpp] header files from -include options and
	check just the precompiled headers if them exist
	in the preprocessor's working directory.

	Signed-off-by: Ragner Magalhaes <ragner.magalhaes@gmail.com>

2012-12-03  Ragner Magalhaes  <ragner.magalhaes@gmail.com>  [3302daa4c3f66ff099317e747574e045dd7adbed]

	Parse @file option

	Implements support to parse @file option.
file: Reads command-line options from file.

	Signed-off-by: Ragner Magalhaes <ragner.magalhaes@gmail.com>

2012-11-17  Stephan Kulow  <coolo@kde.org>  [58e86233e433c1ddae0852acddeba518705f473d]

	Merge pull request #3 from ragner/fix-SIGSEGV

	Fix SIGSEGV calling build_native without args
2012-11-05  Ragner Magalhaes  <ragner.magalhaes@gmail.com>  [e4220e0b7ed1dce0e30ed6cd09a9b78e988ec3fe]

	Fix SIGSEGV calling build_native without args

	Fix Segmentation fault running icecc --build-native
	without the compiler name.

	Signed-off-by: Ragner Magalhaes <ragner.magalhaes@gmail.com>

2012-11-05  Ragner Magalhaes  <ragner.magalhaes@gmail.com>  [881aed57282fede5d129d7be06bf29e4b8b248c7]

	Fix build-native to add default GNU assembler

	'gcc -print-prog-name=as' returns 'as' without its path to the
	native compiler. So this patch adds /usr/bin/as as the default assembler.

	Signed-off-by: Ragner Magalhaes <ragner.magalhaes@gmail.com>

2012-10-26  Luboš Luňák  <l.lunak@suse.cz>  [21ed9420d92aaa926e79269ac47d59b56aefeb79]

	do not access element after removal


2012-10-26  Luboš Luňák  <l.lunak@suse.cz>  [fe5f2c4e09e9f483d256df023798f16c5995b834]

	force env. tarball regeneration if it doesn't exist

	Which should not be the case, but just in case.

2012-10-25  Pino Toscano  <toscano.pino@tiscali.it>  [0b900733e2dad7d848fe19ef3701fcedc0e91d7d]

	read_output: use a smaller buffer

	Instead of use PATH_MAX as size of the read() buffer, use a smaller value;
	the results of the various reads are appended to "output" anyway.

2012-10-25  Pino Toscano  <toscano.pino@tiscali.it>  [1eaadc1b4c8ec1bfe86c2137d4da191ebdd4a617]

	get_absfilename: use a growing buffer for getcwd

	Instead of a PATH_MAX-size buffer, start from a 1024-sized buffer and grow it until getcwd does not fail with ERANGE.
	This also gets rid of the fallback to getwd (if getcwd has not been detected), also because getwd is just broken.

2012-10-25  Pino Toscano  <toscano.pino@tiscali.it>  [4b77907d97072604d5b546c32cb7dcff0550091b]

	add and use resolve_link

	New small function to encapsulate readlink(), with its errno as return value on failure;
	this function will allow to remove the PATH_MAX usage more easily.

2012-10-25  Pino Toscano  <toscano.pino@tiscali.it>  [14ab4f742607c60063f329f82654b8f27ef42eb4]

	dcc_make_tmpnam: allocate the string for the result

	Instead of passing the pointer to a stack-allocated buffer, make dcc_make_tmpnam allocate itself the char*;
	this way, it relies less on constants like PATH_MAX.

	Introduce a simple CharBufferDeleter struct to ease in a couple of cases the cleanup of the allocated buffer.

2012-10-23  Lubos Lunak  <l.lunak@suse.cz>  [30898e4e2e34d4b122a62e10bc59014a01814cb0]

	.gitignore for the common autotools noise in the source dir


2012-10-23  Lubos Lunak  <l.lunak@suse.cz>  [40d093db9a01d5e5c6cbc859642db77b76ac993a]

	avoid clang warning about string literal + int

	warning: adding 'int' to a string does not append to the string [-Wstring-plus-int]
	The extra ?: makes the expression complicated enough for clang to not see
	it is still indexing the string literal, so this cosmetic change silences
	the warning.

2012-10-23  Lubos Lunak  <l.lunak@suse.cz>  [74474adfaa603133aab4f899f231040ec43f8efe]

	avoid -Wcast-align with clang

	As I understand the gcc manpage, it warns with -Wcast-align only if the cast
	would actually be a problem on the particular platform, so in other words it
	never warns on the usual platforms. Clang on the other hand warns always,
	and there are in fact a number of places where such casts do take place.
	If these are actual problems in practice, I'll leave fixing them to somebody
	who actually runs and compiles icecream on such a platform.

2012-10-23  Lubos Lunak  <l.lunak@suse.cz>  [7ad699ba286e7e796ac3aa2c3613ec6eacf7ce8d]

	avoid clang null dereference warning

	warning: indirection of non-volatile null pointer will be deleted, not trap

2012-10-15  Luboš Luňák  <l.lunak@kde.org>  [c4be94b11598444c71e53c3f6db98c9b75243d8c]

	small --help fixes

	svn path=/trunk/icecream/; revision=1320585

2012-10-09  Pino Toscano  <pino@kde.org>  [90fe7da3d3c0317f9a9ac9bae62e7bf6d0c55973]

	shorten prefix_output to the required size

	just use 32 characters for prefix_output, which are more than the required for the string, instead of misuse PATH_MAX (which would waste 4kb on Linux (and others) systems)

	svn path=/trunk/icecream/; revision=1319788

2012-09-14  Luboš Luňák  <l.lunak@kde.org>  [1f2b0bf12d2494b2b0b6e62fa9c3b7592f08290c]

	do not use gcc when creating env.tarball for clang

	svn path=/trunk/icecream/; revision=1316308

2012-09-04  Stephan Kulow  <coolo@kde.org>  [4f2552bffec843a5acf70f38fcc597c49852f888]

	fixing typos in config file

	Author: Kacper Kowalik

	svn path=/trunk/icecream/; revision=1314748

2012-09-04  Stephan Kulow  <coolo@kde.org>  [b093a6b8b68e8bb081d87ba2e49f971fc81cd7ec]

	Author: Kacper Kowalik

	use gcc to provide path to 'as' in icecc-create-env, 
	since we don't want to use /usr/bin/as when
	crosscompiling

	svn path=/trunk/icecream/; revision=1314747

2012-08-02  Luboš Luňák  <l.lunak@kde.org>  [b6dc7a56dac16cda113596a7e2a986f2af0c9db7]

	ICECC_EXTRAFILES, extra files to include in the environment

	Modelled after CCACHE_EXTRAFILES. To be used e.g. when a compiler plugin
	needs some extra file that would not be found by icecream otherwise.


	svn path=/trunk/icecream/; revision=1308923

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [1f45c7c4fdf191da79ff29335a7f8a9c5fec3c8d]

	include paths in tarball md5sum

	Otherwise two environments with the same plugin but in a different
	path would get the same md5sum.


	svn path=/trunk/icecream/; revision=1308596

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [94e182224af701d23c5be4f45857f347012084d6]

	no "basic" native env really anymore, now with env per each compiler

	svn path=/trunk/icecream/; revision=1308595

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [fd77a0fffb3fbabf07660ab7dbab3fab0e6598f6]

	keep native envs longer only if there aren't too many

	svn path=/trunk/icecream/; revision=1308594

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [4adc2d8936d3a34dd80e4ab7e8e2d50beb3f07d3]

	check env cache size also when creating new native environment

	Otherwise too many plugin combinations (or the host never getting
	new envs from other hosts) could make the cache grow a lot.


	svn path=/trunk/icecream/; revision=1308593

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [b2b26a7c76f8bf0f6fa787260fbc96006a1fa2aa]

	do not create environments containing both gcc and clang

	Now that there can be more than one native environment, this doesn't
	make much sense. Bigger environments would more likely fill up
	cache size on remotes, especially with more environments because
	of using compiler plugins, leading to environments getting discarded.
	This commit partially breaks backwards compatibility with previous
	clang-capable icecream from svn, but not with the last icecream release.


	svn path=/trunk/icecream/; revision=1308592

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [7343491f5507c3b33760354b94636380c3cec6b3]

	support for compiler plugins / multiple native environments

	Compiler plugins are supported using multiple native environments,
	everytime a plugin is needed as well, a new native environment
	is created including that plugin.
	Which means also making the daemon actually support multiple native
	environments, use the right one depending on which/whether compiler
	plugins are used for compilation, clean up old native environments,
	etc.


	svn path=/trunk/icecream/; revision=1308591

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [d44a4e46154728dfa7b366bc5a067768f275b590]

	remove duplicated code

	svn path=/trunk/icecream/; revision=1308590

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [4fadc53dfe280feaef514f0457b4b520759f3808]

	get the environment tarball name directly from icecc-create-env

	Instead of listing the native/ directory in order to find it. To
	be used when using several native environments at the same time (TODO).


	svn path=/trunk/icecream/; revision=1308589

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [6ede6ba522c5d86da2e27a4ff6da2b0af28f82de]

	add [compiler] to the command line template in --help

	svn path=/trunk/icecream/; revision=1308588

2012-07-30  Luboš Luňák  <l.lunak@kde.org>  [06f6769f34349b0fdddf45223c204aff375823df]

	some files I forgot to add in r1304629 (clang compiler wrapper)

	svn path=/trunk/icecream/; revision=1308587

2012-07-22  Luboš Luňák  <l.lunak@kde.org>  [ac969294f0082a6ced80f843677c43aed72ddb09]

	always include headers that are needed for struct rusage and sigprocmask()

	Patch by Lucas De Marchi <lucas.de.marchi@gmail.com> .


	svn path=/trunk/icecream/; revision=1307255

2012-07-18  Luboš Luňák  <l.lunak@kde.org>  [b96c62ec25e180a039e10799e1bd6d3d6a26e5e2]

	fix clang includes path if not in /usr prefix

	Since clang will be installed in /usr , it will be looking for them
	under that prefix as well.


	svn path=/trunk/icecream/; revision=1306367

2012-07-18  Luboš Luňák  <l.lunak@kde.org>  [1ca248183428c44e96661447317236c90189ac40]

	don't use -flto when preprocessing the source file

	svn path=/trunk/icecream/; revision=1306361

2012-07-16  Luboš Luňák  <l.lunak@kde.org>  [aa9386cab75266f780a4cf13d8081035e4a3a71a]

	setting to avoid using hosts where the environment cannot be checked

	Set ICECC_IGNORE_UNVERIFIED to avoid hosts where it cannot be checked
	that the environment works there. Usable only with old icecream nodes
	that cannot be upgraded.


	svn path=/trunk/icecream/; revision=1305965

2012-07-16  Luboš Luňák  <l.lunak@kde.org>  [89cacd9cee1ae71e8c4850da2f99ac17b947f503]

	check if the remote node can actually use an environment

	Too old nodes can fail to use an environment e.g. because their
	kernel is too for for the glibc. So after installing an environment
	first try to run bin/true to verify. If that fails, blacklist
	the node for that environment.


	svn path=/trunk/icecream/; revision=1305964

2012-07-14  Luboš Luňák  <l.lunak@kde.org>  [0ba4458557ebb9ca3033c66358e64f2da3bffefc]

	use the right variable

	Otherwise 'target' is unused.


	svn path=/trunk/icecream/; revision=1305656

2012-07-14  Luboš Luňák  <l.lunak@kde.org>  [76f962a3ff4d6863699f6670fb99b5e17adb2af9]

	do not create /tmp manually in icecc-create-env

	The daemon does it when installing the environment.


	svn path=/trunk/icecream/; revision=1305655

2012-07-13  Luboš Luňák  <l.lunak@kde.org>  [a46be816d3ccf5c2d8ccec2bc0761248d9db23e8]

	-Wp,-rewrite-includes -> -frewrite-includes

	It looks like Clang upstream has renamed the option just for the fun of it,
	so let's try going with just the option upstream has.


	svn path=/trunk/icecream/; revision=1305558

2012-07-13  Luboš Luňák  <l.lunak@kde.org>  [87cb9662436b465e3b5c839fed4791a1df9cde7d]

	rebuild environment if the compiler changes

	Otherwise updating the compiler does not in practice take effect
	until daemon restart.


	svn path=/trunk/icecream/; revision=1305557

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [4aa294e7d697617bc14ebfaaa43b0bb03510f41d]

	allow normal users to actually connect to the daemon's unix socket

	svn path=/trunk/icecream/; revision=1304648

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [bcf22b24b8a105052af51d69d6be9ef499f7dc73]

	add clang wrapper symlinks

	svn path=/trunk/icecream/; revision=1304638

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [30068cb6cc076a7d2a3c0d24ce13996deec6ae49]

	icerun was missing in the list of wrappers to uninstall

	svn path=/trunk/icecream/; revision=1304637

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [53e90d69cf951671a2b275dcc59dac75e09e5068]

	hack for clang that will be in opensuse 12.2

	svn path=/trunk/icecream/; revision=1304635

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [dbd2ef3f56f2ea8a516ed8b19c9426f0bee656fe]

	add my changes to NEWS

	svn path=/trunk/icecream/; revision=1304634

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [f46c897b8ea2441a90a39c323c0037032cda9d92]

	rename ICECC_REWRITE_INCLUDES to ICECC_CLANG_REMOTE_CPP and add to --help

	svn path=/trunk/icecream/; revision=1304633

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [d0a260128caddffc2ce46b7cdbf473f2f7bab7e3]

	try to guess default for ICECC_REWRITE_INCLUDES

	based on clang present at icecream build time, which is simple and
	should generally work fine


	svn path=/trunk/icecream/; revision=1304631

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [b78ca31a18cbd24efe5a015da4734dc72afeb374]

	support for -rewrite-includes with clang

	Clang works suboptimally with separate preprocessing step, it e.g.
	quotes source in warning/error messages, or disables some warnings
	if they come from macro expansion. Therefore make it possible
	to do the preprocessing remotely together with compiling and only
	expand #include directives locally.

	There exists a Clang patch that implements -rewrite-includes for this,
	and it's been only recently merged upstream. Currently
	ICECC_REWRITE_INCLUDE is used to determine if the flag should be used
	or not.


	svn path=/trunk/icecream/; revision=1304630

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [8c913dfa2a980b0a34380d6ce8f1caa8cdebffd1]

	Hack for compiling with clang even on older icecream remotes.

	Older icecream versions had /usr/bin/{gcc|g++} hardcoded when
	invoking the compiler from the environment on the remote. In order
	to build on such remotes, if the environment also contains clang,
	include a wrapper around /usr/bin/{gcc|g++} that will either
	invoke real gcc or clang, depending on an argument added by icecream.

	Not entirely elegant, but it works, and the usual gcc-only case should
	be unaffected.


	svn path=/trunk/icecream/; revision=1304629

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [8bd46cf7bb3ffed68e8251bb4fa9476fe4d41b77]

	clang and clang++ are the same binary

	So it's not necessary to add it twice to the tarball, and remote
	nodes always pass -x c or -x c++ .


	svn path=/trunk/icecream/; revision=1304628

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [e83dbe1d8d65ba5b1110bd00f14dd680aff9d351]

	use the given compiler type and not always gcc

	Send the compiler name to the remote, so that it knows whether it has
	to use gcc or clang.

	Currently clang compilations will fail if the remote CS is older version than this.


	svn path=/trunk/icecream/; revision=1304627

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [4a5efe98220d89aba7d68e0330cfab90fc4a5399]

	make --build-native create env with compilers that are available

	svn path=/trunk/icecream/; revision=1304626

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [ad9e067cd568ae991736d2cebf40140e6e4cb66c]

	avoid iceccd restart bind() failure with the global unix socket too

	svn path=/trunk/icecream/; revision=1304606

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [c33a68f11f02fc45bd2146008c3818dfb6279d94]

	avoid infinite loop if the remote compiler crashes or exits prematurely

	svn path=/trunk/icecream/; revision=1304600

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [ce23d6b683a0cf3ccda6f3ade4be53862db4b404]

	update ccache instructions to use CCACHE_PREFIX

	svn path=/trunk/icecream/; revision=1304587

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [04fd08923151b72b4422b5409a5c1e2563941ec6]

	add a missing space to a message

	svn path=/trunk/icecream/; revision=1304581

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [8142f6aa1e25e4f3c2df4d25930e158842e3dd92]

	create-env is called icecc-create-env nowadays

	svn path=/trunk/icecream/; revision=1304580

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [673a07b9c25d2e514556ea1c11f67bf3d64491e1]

	make it possible to also include clang in the build env

	svn path=/trunk/icecream/; revision=1304578

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [583f25e93604372dc3d780254a91bde787ad6da0]

	fix colorify

	svn path=/trunk/icecream/; revision=1304577

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [a9603c8a4b63ab96cd0be57d5bbaaeb61a559216]

	clang knows -frandom-seed, but ignores it

	svn path=/trunk/icecream/; revision=1304576

2012-07-08  Luboš Luňák  <l.lunak@kde.org>  [2f69e31f2cfc45463a577e9063d2522450e94135]

	clang has its own color support, use that instead of icecream's own

	svn path=/trunk/icecream/; revision=1304575

2012-06-04  Stephan Kulow  <coolo@kde.org>  [babd2d694118278d47dfd2f976426bfd37bb0b3b]

	move the gcc specifics to a new source file - and make sure we can compile with automake 1.12

	svn path=/trunk/icecream/; revision=1298238

2012-06-01  Stephan Kulow  <coolo@kde.org>  [380b17daac3c2f068c469b18ed0a1475ee88067c]

	do not open /proc for debug

	svn path=/trunk/icecream/; revision=1297689

2012-06-01  Stephan Kulow  <coolo@kde.org>  [c146dff274f79b2e47faa85277cf76d2c778b79b]

	- let the daemon create a UNIX domain socket and listen to it   additionally to the TCP socket - let the client try the UNIX domain socket first before trying TCP

	svn path=/trunk/icecream/; revision=1297686

2012-05-07  Luboš Luňák  <l.lunak@kde.org>  [f3f81e6f321e674893205bb9ae2d575f34348732]

	make ICECC_CC/CXX work again

	I guess I got a bit carried away, if it's been explicitly specified to override
	the compiler to use, it should override everything.


	svn path=/trunk/icecream/; revision=1293416

2012-04-07  Luboš Luňák  <l.lunak@kde.org>  [86cd40cea4402d7d0ec1a7c50bcade9bc8885487]

	fix typo

	svn path=/trunk/icecream/; revision=1288519

2012-04-07  Luboš Luňák  <l.lunak@kde.org>  [477d6ddc9eb53aa75ba06638761e43bd551216ce]

	Find the compiler that should be actually used. Jobs already know what the compiler should be, so no need to search for it again (which may find a different one if ICECC_CC/CXX is not set). I think this change in practice makes ICECC_CC/CXX unnecessary.

	svn path=/trunk/icecream/; revision=1288518

2012-03-31  Luboš Luňák  <l.lunak@kde.org>  [ab94619949ca54d7c3ceb8c96e9853d797e4f7e8]

	recognize clang as C compiler (clang++ is already recognized by ++)

	svn path=/trunk/icecream/; revision=1287754

2012-03-31  Luboš Luňák  <l.lunak@kde.org>  [7d3afd43ad146c225b0c322c499f954bbaa86678]

	the first icecc argument must be the compiler, if it's not icecc option

	This is only about when invoked as icecc of course, not as wrapper symlink.


	svn path=/trunk/icecream/; revision=1287752

2012-03-30  Luboš Luňák  <l.lunak@kde.org>  [f6d97167a5e3921140d120739ea0e41b37331a84]

	recognize compiler in 'icecc <compiler> <args>'

	svn path=/trunk/icecream/; revision=1287631

2012-03-20  Stephan Kulow  <coolo@kde.org>  [dcdde45527db543780ce3342128b93243d4a9d50]

	apply patch from Lubos to schedule local jobs differently if the submitter is busy

	svn path=/trunk/icecream/; revision=1286336

2012-03-20  Luboš Luňák  <l.lunak@kde.org>  [1a87c36f8f537d6b1a9906cc8bfe3b5362306d9e]

	-Wimplicit is not valid for C++

	svn path=/trunk/icecream/; revision=1286330

2011-11-10  Stephan Kulow  <coolo@kde.org>  [55c75e526db76757994d150008386d1fdaa0252d]

	fix small typo

	svn path=/trunk/icecream/; revision=1263457

2011-09-22  Oswald Buddenhagen  <ossi@kde.org>  [dbc42ebbf100e88b4399d74849aef7f1e293d402]

	fix gcc 4.6 support for debian, take 2

	the fix for debian (and derivates) is mutually exclusive with
	everythinge else, so support both variants.

	svn path=/trunk/icecream/; revision=1254982

2011-09-01  Stephan Kulow  <coolo@kde.org>  [1ae53bcd94ba1661a05099a8e7d67550e7f202c4]

	revert ossi's commit - plugins are executables

	svn path=/trunk/icecream/; revision=1250772

2011-05-28  Oswald Buddenhagen  <ossi@kde.org>  [9c7793424dbb81c83e2e6b7ed9405ee4a2d7ecc2]

	actually fix gcc 4.6 support

	use the correct -print-foo option

	svn path=/trunk/icecream/; revision=1233883

2011-05-19  Stephan Kulow  <coolo@kde.org>  [95715acdd574a035c94e7c72a1f2cbe0a3415121]

	new version

	svn path=/trunk/icecream/; revision=1232780

2011-05-04  Stephan Kulow  <coolo@kde.org>  [e07ee54331fedc3b4d9da47048c7ef3cfd2f45ca]

	Patch from https://bugzilla.redhat.com/show_bug.cgi?id=675663

	svn path=/trunk/icecream/; revision=1230353

2011-02-21  Stephan Kulow  <coolo@kde.org>  [880e7e285fa41ff11ff4df8d174bb04d1eae1830]

	From: Torbjörn Svensson

	As I told you on IRC, I've found a bug in icecream related to .d  
	files. If you have -MD (or -MMD) and icecream should distribute the  
	job, then the .d will be creaded in the source tree and that's not  
	always what you want. My patch puts the .d file in the same directory  
	as the GCC would have done if invoked. The trick I'm using is to put  
	the -MF option in the local flags so that the .d file will be placed  
	in the target tree while the pre-processed C/C++ file is still dumped  
	on stdout.

	svn path=/trunk/icecream/; revision=1222062

2010-08-03  Stephan Kulow  <coolo@kde.org>  [53e7faca6b2c11729d0777748a09f40a6c14376a]

	update for 0.9.6

	svn path=/trunk/icecream/; revision=1158638

2010-08-03  Stephan Kulow  <coolo@kde.org>  [483a5435f2f9a9fdf3f61267017b161c4cdfaec3]

	support more local args (bnc#625621)

	svn path=/trunk/icecream/; revision=1158637

2010-06-20  Stephan Kulow  <coolo@kde.org>  [ab420b110b2067a9013b04e6ce010bf6487eeeb9]

	allow tgz as extension

	svn path=/trunk/icecream/; revision=1140313

2010-05-27  Dirk Mueller  <mueller@kde.org>  [d5e819dfcb18713d290fd96513d9006c173fbb59]

	fix run-failure with glibc 2.11

	svn path=/trunk/icecream/; revision=1131079

2010-04-22  Fathi Boudra  <fabo@kde.org>  [0c42d7c61dc793767335ec124eb1e8e0195e9ea6]

	Fix kFreeBSD build

	svn path=/trunk/icecream/; revision=1117433

2010-04-12  Stephan Kulow  <coolo@kde.org>  [e1e214b8b2ebfd45952cced500ae12aa97d9a1b2]

	add a value type of ticks in /proc - and make it long long (patch by Romain Lerallut)

	svn path=/trunk/icecream/; revision=1114097

2010-02-14  Michael Jansen  <kde@michael-jansen.biz>  [9848c027e763e778269750a80503b778ab84d798]

	Fix the second installation attempt. LN_S is 'ln -s' which obviously failes the second time. This should be identical.

	CCMAIL: l.lunak@suse.cz

	svn path=/trunk/icecream/; revision=1090191

2010-02-01  Stephan Kulow  <coolo@kde.org>  [8659d80fa4065158c43168d5958d72aafa7a2b0f]

	updating news

	svn path=/trunk/icecream/; revision=1083362

2010-02-01  Stephan Kulow  <coolo@kde.org>  [cc5803e4b5ad99efbc7f07516e266eb35fdad2d4]

	fix compilation warnings

	svn path=/trunk/icecream/; revision=1083361

2010-02-01  Stephan Kulow  <coolo@kde.org>  [5193129f0ce49d4f86b824aed42a50e44f637d52]

	a new release

	svn path=/trunk/icecream/; revision=1083360

2010-02-01  Stephan Kulow  <coolo@kde.org>  [8d3b7abd9f6f4dd6b111fb5e4cac8e8718ddd28b]

	commiting Lubos's support for an "icerun" symlink

	svn path=/trunk/icecream/; revision=1083357

2010-01-06  Frank Osterfeld  <frank.osterfeld@kdemail.net>  [c7a9d8865f5e54f7ac285365b1757f90e3dfc60c]

	include various prerequisite headers needed here on OS X 10.6 when checking for tcp_var.h

	svn path=/trunk/icecream/; revision=1070846

2009-10-24  Oswald Buddenhagen  <ossi@kde.org>  [f34827531687e7d69f9815294c862cc2f5013eba]

	clean up event loop of gcc invocation

	the sigchld handler which sets a flag is inherently racy (that's what
	pselect() was introduced for, but see the linux man page for it). so
	instead use a nicely synchronizing death pipe.
	also, consolidate the two event loops into one.
	as the code is running in a short-lived child, i made it lazy about
	freeing resources for legibility's sake.

	svn path=/trunk/icecream/; revision=1039764

2009-10-24  Oswald Buddenhagen  <ossi@kde.org>  [6e175ef5876a7f82fee6946660799cbbec1d04ce]

	allow get_msg() to fetch data from the kernel even if timeout is 0.

	after all, no timeout means that it may not wait for new packets, not
	that only userspace buffers can be checked for available data.

	svn path=/trunk/icecream/; revision=1039763

2009-10-24  Oswald Buddenhagen  <ossi@kde.org>  [df21f728a5c5eb7cb0a69d0a20a3e220ae7ca419]

	log PID even if no prefix is specified

	this makes debugging with multiple processes "slightly" simpler.

	svn path=/trunk/icecream/; revision=1039762

2009-10-24  Oswald Buddenhagen  <ossi@kde.org>  [95e5a9ae3fce5162867b9a990bc780c09f07b82a]

	Revert r951280 by osterfeld: "also check for EAGAIN (needed on OS X)"

	> As I didn't observe an actual problem here (was hunting some other
	> issue), that commit was probably premature and should be reverted
	> for now.

	svn path=/trunk/icecream/; revision=1039761

2009-07-29  Stephan Kulow  <coolo@kde.org>  [1a94dd70683754052bc2fe85e43ac02421e8bc69]

	close the file descriptor (novell bug 525799)

	svn path=/trunk/icecream/; revision=1004117

2009-04-30  Stephan Kulow  <coolo@kde.org>  [7ac6da93888e9501b6bbdf16ebc572c49fcb751b]

	a new release

	svn path=/trunk/icecream/; revision=961598

2009-04-30  Stephan Kulow  <coolo@kde.org>  [b869506c9887b2a03826a0d86f31d8375c69a046]

	Patch by Michal Schmid

	|The way icecream changes permissions of /var/cache/icecream is buggy.              
	|When the daemon initializes, it creates the directory owned by
	|root:root and readable for everyone. As soon as it installs a foreign
	|environment, it changes the owner to root:icecream and removes access
	|for everyone else.  This causes trouble for locally run icecc which 
	|wants read access to /var/cache/icecream/native. As a result, local 
	|compile jobs can no longer determine the native environment and fail 
	|to get distributed to other nodes.                                                                       
	|                                                                                   
	|This patch assigns the owners and permissions like this:                           
	|0755 root:root      /var/cache/icecream/                                           
	|0775 root:icecream  /var/cache/icecream/native/                                    
	|0770 root:icecream  /var/cache/icecream/target=<target>/                           
	|0770 root:icecream  /var/cache/icecream/target=<target>/<hash>/                    
	|                                                                                   
	|It also sets the umask in the initialization of the daemon so that we              
	|can depend on it being sane and we no longer need some of the chmods.              
	|                                                                                   
	|The access() check in start_install_environment() can be dropped,                  
	|because if we don't have access, we'll soon find out anyway.                       

	svn path=/trunk/icecream/; revision=961597

2009-04-30  Stephan Kulow  <coolo@kde.org>  [4af16ea05242c1d92a9cfdcdc280036dc31e5e6d]

	make a special exception for - in rest args (bnc#495786)

	svn path=/trunk/icecream/; revision=961593

2009-04-24  Helio Castro  <helio@kde.org>  [656aaddb739f8c31cba5afd3e2d13c357dccc898]

	- Fix compilation when using -Wformat -Werror=format-security flags

	svn path=/trunk/icecream/; revision=958794

2009-04-09  Frank Osterfeld  <frank.osterfeld@kdemail.net>  [7387eb7e3fe0ac93651a534274e649bdfca75d1b]

	add ICECC_LOGFILE to get trace() output into a file

	svn path=/trunk/icecream/; revision=951598

2009-04-08  Frank Osterfeld  <frank.osterfeld@kdemail.net>  [8000bfbde59fef647bac2d6ab65aa3d6dc961fd2]

	also check for EAGAIN (needed on OS X)

	svn path=/trunk/icecream/; revision=951280

2009-03-25  Frank Osterfeld  <frank.osterfeld@kdemail.net>  [5672de797472345d331fd59327bc4a7d5f419c6d]

	assert current_kids is > 0 before decrementing (it's unsigned)

	svn path=/trunk/icecream/; revision=944682

2009-03-02  Stephan Kulow  <coolo@kde.org>  [dcc966165794171a8961b76ccd3dfe86d185e150]

	more fixes from Michal Schmidt: - don't leak file descriptor to create-env - don't use the shell to call simple commands

	svn path=/trunk/icecream/; revision=934044

2009-02-16  Stephan Kulow  <coolo@kde.org>  [e9dc3aee46f80a756620d744bc8d130f921384a4]

	fix compilation warnings

	svn path=/trunk/icecream/; revision=926812

2009-02-15  Stephan Kulow  <coolo@kde.org>  [b1a772d91485d361d4c30c590a677494d8cfb6d8]

	new release

	svn path=/trunk/icecream/; revision=926474

2009-02-15  Stephan Kulow  <coolo@kde.org>  [714e318c3515e25fa87b656420bc4b906318df4b]

	another patch by Michal Schmidt:  In Fedora ld.so.conf contains an include directive with a relative path.  ldconfig does not accept relative include paths when using -r.  Instead of copying ld.so.conf verbatim, make a modified copy of it where  relative paths are replaced with absolute to make ldconfig happy.

	svn path=/trunk/icecream/; revision=926473

2009-02-15  Stephan Kulow  <coolo@kde.org>  [4ba9aa97f8fdfc50967a579ea1ad5473565ca689]

	patch by Michal Schmidt:   The check for "specs" would get confused if there was a file   called "specs" in the current directory.   Notice that gcc -print-file-name just prints the given file name in case   it does not have anything useful to give to give:

	svn path=/trunk/icecream/; revision=926472

2008-11-26  Dirk Mueller  <mueller@kde.org>  [4c88c8504c90d0cb0f8d1abe3ae0ebeabbc35dee]

	make sure that a too strict umask doesn't ruin the game fixes https://bugzilla.novell.com/show_bug.cgi?id=446329

	svn path=/trunk/icecream/; revision=889394

2008-11-25  Marcus Furlong  <furlongm@gmail.com>  [7151cd1127f16a170a225b4dac47fdeea196a1e9]

	Explicitly set group ownership and permissions on the base cache dir and target dir in case root has a umask of e.g. 0077. Otherwise nobody user won't be able to untar.

	svn path=/trunk/icecream/; revision=888663

2008-11-12  Fathi Boudra  <fabo@kde.org>  [53c61ee24dbc66479443816134a7fd2364725727]

	Fix FTBFS with GCC 4.4

	svn path=/trunk/icecream/; revision=883138

2008-11-02  Stephan Kulow  <coolo@kde.org>  [64fb72cfed31ee1c6b85348937cda1c79961c7ee]

	new release

	svn path=/trunk/icecream/; revision=879113

2008-10-21  Stephan Kulow  <coolo@kde.org>  [c34bc929be34970320de19479274a3ad62607a6d]

	another idea

	svn path=/trunk/icecream/; revision=874332

2008-10-06  Dirk Mueller  <mueller@kde.org>  [f228e81b4ba1a818acb6f623d22eac696270823d]

	proofreading feedback

	svn path=/trunk/icecream/; revision=868491

2008-09-02  Oswald Buddenhagen  <ossi@kde.org>  [13030b6266a92bcd3dd809e3c7289f42c2f9925e]

	if called as "icecc" (i.e., not through a symlink) and the first argument starts with a slash, use that as the command to run.

	svn path=/trunk/icecream/; revision=856402

2008-08-22  Stephan Kulow  <coolo@kde.org>  [36f44d64db080b613d35e75307f1c6feea496857]

	require stop

	svn path=/trunk/icecream/; revision=850964

2008-08-18  David Faure  <faure@kde.org>  [1abfdc27fca94e8e0b58c9239f8443f0c907cae3]

	also add accessor for network name

	svn path=/trunk/icecream/; revision=848834

2008-08-13  David Faure  <faure@kde.org>  [ab3830629ddb304c3a4ccbdd335cc9bceafc5b46]

	Unconfuse me; the IP that shows here isn't the scheduler IP's, but my own.

	svn path=/trunk/icecream/; revision=846168

2008-08-11  Michael Matz  <matz@kde.org>  [16fd95912b3c9ff7c67f03d667e1010c41b955cf]

	Only localize job if we find -Wa,.*-a[a-z]*= in an argument.  Otherwise we would also force local on things like -Wa,-mtune=something. Thanks Dmitry Baryshkov for the report and initial patch. CCMAIL: dbaryshkov@gmail.com

	svn path=/trunk/icecream/; revision=845331

2008-08-10  David Faure  <faure@kde.org>  [8d32f69527621f371611f0e470566fa023b6e71a]

	Add accessor for the hostname of the scheduler, so that we can show it in a tooltip in icemon in the future. [I see that icemon depends on released versions of this lib, so I'll have to wait another year I guess...] CCMAIL: coolo@kde.org

	svn path=/trunk/icecream/; revision=844758

2008-06-23  Frank Osterfeld  <frank.osterfeld@kdemail.net>  [682b9442ea8f37fb0e4eb753a6ad3e26fde27795]

	On OS X, append the release number to Darwin (Darwin8 for Tiger, Darwin9 for Leopard) as their icecream environments are not compatible

	svn path=/trunk/icecream/; revision=823480

2008-06-19  Stephan Kulow  <coolo@kde.org>  [b8120b599f126fe6f380abe149d1635d9278ec69]

	bug fix release

	svn path=/trunk/icecream/; revision=822103

2008-06-18  Stephan Kulow  <coolo@kde.org>  [ab934f223692e6a163cca32cd0fbca31c9b5bcce]

	trying to support gentoo x86_64

	svn path=/trunk/icecream/; revision=821708

2008-06-18  Stephan Kulow  <coolo@kde.org>  [9cfbd76d9e9306b78da67ce5997d59b04a2429da]

	-mcpu=native has to compile locally (gentoo bug 183586#c13)

	svn path=/trunk/icecream/; revision=821697

2008-05-27  Stephan Kulow  <coolo@kde.org>  [e264c107240e8058bf9ba9c01b237f2ba2b60b4e]

	another bug report

	svn path=/trunk/icecream/; revision=813369

2008-05-23  André Wöbbeking  <woebbeking@kde.org>  [87da7db3e890727c4f411f7f1c8825b6ba2995f9]

	don't compile C files with C++ compile if ICECC_CXX is set

	svn path=/trunk/icecream/; revision=811594

2008-05-12  Stephan Kulow  <coolo@kde.org>  [10a212a2afd977e0263e0564eb49028b83332d49]

	summarize the changes and give it a new version

	svn path=/trunk/icecream/; revision=807015

2008-05-12  Stephan Kulow  <coolo@kde.org>  [400b25444c863c76b0624103956e42eeda722d72]

	merge in 806992 - just so

	svn path=/trunk/icecream/; revision=807000

2008-03-04  Frank Osterfeld  <frank.osterfeld@kdemail.net>  [94583ee6b33909c668c8db9ee7c1e3dec7b6b64e]

	compile on OS X 10.5

	svn path=/trunk/icecream/; revision=782363

2008-01-09  Stephan Kulow  <coolo@kde.org>  [43eac3434d782d50da43cdc1e8ab0f8d86ad15dd]

	don't use the templates for descriptions

	svn path=/trunk/icecream/; revision=758853

2007-11-27  Stephan Kulow  <coolo@kde.org>  [3dac9b2c8eee4af934c0e3c1c96f82af06db6b3f]

	patch by Tais M. Hansen to ignore directories

	svn path=/trunk/icecream/; revision=742218

2007-07-27  André Wöbbeking  <woebbeking@kde.org>  [f5cc4ab383ed9d5a00c23c86626ff22496fb6da6]

	It's a long time to Xmas but who knows...

	svn path=/trunk/icecream/; revision=693139

2007-06-18  Stephan Kulow  <coolo@kde.org>  [e0e1803d183615c9fe1f55017ba51bb0ca3452f9]

	fixing the init script

	svn path=/trunk/icecream/; revision=677148

2007-05-26  Hasso Tepper  <hasso@kde.org>  [7594df89532321634b7be2699b6f8bf315a98885]

	Although DragonFly has sys/user.h, it's not really needed and including it only causes problems.

	svn path=/trunk/icecream/; revision=668577

2007-05-26  Hasso Tepper  <hasso@kde.org>  [62bd8cc911c43e087fa96a5676914a5d2a1b9658]

	Usual "make it compile again in non-linux platforms".

	svn path=/trunk/icecream/; revision=668576

2007-05-08  Mirko Boehm  <mirko@kde.org>  [e1cb66d1d3776fd3afc9582d149a9903cae4db45]

	- make it work again on non-Linux platforms: Jobs still reported their   environment platform as i386 etc, even if they came from Darwin or   BSD (thus the scheduler never finds a matching compile server, or   wrongly directs a non-Linux client to use a Linux compile server)

	svn path=/trunk/icecream/; revision=662630

2007-04-27  Stephan Kulow  <coolo@kde.org>  [b947a222820c9e480ea44370eedaee94a9580a87]

	merge in 658486

	svn path=/trunk/icecream/; revision=658488

2007-04-27  Stephan Kulow  <coolo@kde.org>  [7e1fa993e8ac1e2c3f6634489b1135dc97a1f37d]

	compile even under linux

	svn path=/trunk/icecream/; revision=658469

2007-04-27  Stephan Kulow  <coolo@kde.org>  [239eafd52696d88a0c1a915d68ae0642968b20ce]

	simplify the diff even more

	svn path=/trunk/icecream/; revision=658452

2007-04-27  Stephan Kulow  <coolo@kde.org>  [b9440c38ef3e8b23e0adb2afc39d9516b4db3874]

	merge in some whitespace diff

	svn path=/trunk/icecream/; revision=658448

2007-04-27  Stephan Kulow  <coolo@kde.org>  [4c78602e806c3ddc5c1c35c2fd3fda234dad499e]

	fix indenting

	svn path=/trunk/icecream/; revision=658447

2007-04-26  Stephan Kulow  <coolo@kde.org>  [f8ac62890dd088fc873d4b4a1f4d1f040fbbc3a5]

	summarize

	svn path=/trunk/icecream/; revision=658338

2007-04-26  Stephan Kulow  <coolo@kde.org>  [fea94b63ffb3430fa537f9d77d1e89b8f03b0a1c]

	compile

	svn path=/trunk/icecream/; revision=658324

2007-04-26  Stephan Kulow  <coolo@kde.org>  [46e936ad2fefd5d3ae896c047a5a2f0ccf0c56ef]

	prepend os if it's not Linux (as in Mirko's fork)

	svn path=/trunk/icecream/; revision=658316

2007-04-26  Stephan Kulow  <coolo@kde.org>  [b07e352cc5511e6cb0fc1ab062221321486e88c9]

	testing kde-commits

	svn path=/trunk/icecream/; revision=658173

2007-04-25  Stephan Kulow  <coolo@kde.org>  [dcda905160746e59f287e895bc433aa43567adf6]

	testing subversion 1.4

	svn path=/trunk/icecream/; revision=658077

2007-04-25  Hasso Tepper  <hasso@kde.org>  [7637316bc6eb8aef5c47396322757c8b600d2b26]

	Make it compile again on DragonFlyBSD.

	svn path=/trunk/icecream/; revision=658051

2007-04-25  Stephan Kulow  <coolo@kde.org>  [dab315f5790d258b3d8344c23bfc2fa9dae80104]

	implement load informations on OS X

	svn path=/trunk/icecream/; revision=658028

2007-04-25  Stephan Kulow  <coolo@kde.org>  [9c166a39db74f25d74638a9fd09fa341e7487dd8]

	hopefully easier for new BSDs :)

	svn path=/trunk/icecream/; revision=658022

2007-04-25  Stephan Kulow  <coolo@kde.org>  [83f38e3552262d3fe974ca1a9906f9ae935d93c7]

	more news

	svn path=/trunk/icecream/; revision=657991

2007-04-25  Stephan Kulow  <coolo@kde.org>  [57c406d748db9b876f6ec19b0750330df81beaed]

	don't hardcode tar path

	svn path=/trunk/icecream/; revision=657990

2007-04-25  Stephan Kulow  <coolo@kde.org>  [5e54c2677ee266e13d27c8a484823f7cabcd86d0]

	create a working env on OS X

	svn path=/trunk/icecream/; revision=657980

2007-04-25  Stephan Kulow  <coolo@kde.org>  [f3873d885a9ce6daa389cb5dc3f096dc545870b9]

	compile a bit better

	svn path=/trunk/icecream/; revision=657961

2007-04-25  Stephan Kulow  <coolo@kde.org>  [db1254c2fb2472c0f91c7041f4c279ae7713e38b]

	compile

	svn path=/trunk/icecream/; revision=657949

2007-04-25  Stephan Kulow  <coolo@kde.org>  [aedd010cc14c8c73424ab048c1206438030d80c6]

	fix make dist

	svn path=/trunk/icecream/; revision=657916

2007-04-25  Stephan Kulow  <coolo@kde.org>  [1222647b2d50e34db3e0a56f6323cfc5b308cde8]

	more NEWS

	svn path=/trunk/icecream/; revision=657903

2007-04-25  Stephan Kulow  <coolo@kde.org>  [d05fcc72d6c66a377576a87d514ad400f6af6550]

	I feel brave today - merging in remainings of make-it-cool

	svn path=/trunk/icecream/; revision=657902

2007-04-25  Stephan Kulow  <coolo@kde.org>  [d9ffa6128ba9272b4a54da86c84203d9d6bfc696]

	merge in some more

	svn path=/trunk/icecream/; revision=657898

2007-04-25  Stephan Kulow  <coolo@kde.org>  [72dc88c04a8035f67be6a325a650be0b2419ed66]

	merge in some chunks from make-it-cool that either fix simple things or reduce the diff

	svn path=/trunk/icecream/; revision=657880

2007-04-24  Hasso Tepper  <hasso@kde.org>  [e34464a4aaf05fdfae9c4d1e19c330edc98977a0]

	Make the result of make dist-gzip usable.

	svn path=/trunk/icecream/; revision=657491

2007-04-23  Hasso Tepper  <hasso@kde.org>  [9802065912078f792f1fd35f3bb7b2d7e7fd8f29]

	Make load calculation work in DragonFlyBSD. Fix warning during process - scan_one is used only on non-sysctl platforms.

	svn path=/trunk/icecream/; revision=657340

2007-04-23  Stephan Kulow  <coolo@kde.org>  [812c05b6e335f866cc2dd11086326514bf173d28]

	provide information as described on http://en.opensuse.org/SuSEfirewall2/Service_Definitions_Added_via_Packages

	svn path=/trunk/icecream/; revision=657220

2007-04-21  Hasso Tepper  <hasso@kde.org>  [e7cd7aa3109b0e491b62e135f0dac9afb617b3c3]

	Make it work for systems not having MSG_NOSIGNAL (like DragonFlyBSD for example).

	svn path=/trunk/icecream/; revision=656382

2007-04-20  Hasso Tepper  <hasso@kde.org>  [a2fbceaa168924cafc820ce2a70cd60e6f421c16]

	Make it (mostly) work on DragonFlyBSD. There is one remaining problem left I hope to fix in next days.

	svn path=/trunk/icecream/; revision=656281

2007-04-12  Stephan Kulow  <coolo@kde.org>  [92b0caeab4f78583ecaf459eac2f46d908119701]

	add support for --no-remote Patch by Matt Gruenke

	svn path=/trunk/icecream/; revision=652893

2007-03-19  Stephan Kulow  <coolo@kde.org>  [48d8541afa5842585841784ca488d4dddaa7c1d9]

	merging some of make-it-cool: r629108 | mueller | 2007-02-01 13:38:40 +0100 (Do, 01 Feb 2007) | 2 write a pid file. patch by Ismail Doenmez ------------------------------------------------------------------------ r641429 | mueller | 2007-03-11 11:11:42 +0100 (So, 11 Mär 2007) | 2 fix build ------------------------------------------------------------------------ r642814 | mueller | 2007-03-15 14:21:59 +0100 (Do, 15 Mär 2007) | 2 compiler warning-- ------------------------------------------------------------------------ r642821 | mueller | 2007-03-15 14:31:54 +0100 (Do, 15 Mär 2007) | 2 precompiled header support, needed for compiling Qt 4.3

	svn path=/trunk/icecream/; revision=644091

2007-03-19  Stephan Kulow  <coolo@kde.org>  [7c36e65b42bb75570d77b8b21da8b8b9bdf3bdb7]

	apply patch to support cygwin a bit better

	svn path=/trunk/icecream/; revision=644090

2006-12-29  Frerich Raabe  <raabe@kde.org>  [5bc9ba893fcb49054e138828697e5824f9d28daa]

	- Find md5 on my FreeBSD laptop

	svn path=/trunk/icecream/; revision=617573

2006-09-21  Stephan Kulow  <coolo@kde.org>  [f20d0104e76110401a4619edf4f2e63c63cf6c90]

	consistent output

	svn path=/trunk/icecream/; revision=586977

2006-09-13  Stephan Kulow  <coolo@kde.org>  [d7a7dc0d77959ca81fb89d72c70db338932cbc15]

	as 0.7.13 has a show stopper bug, I need another one

	svn path=/trunk/icecream/; revision=583722

2006-09-12  Stephan Kulow  <coolo@kde.org>  [58e86f08a48e7561d1f7ad2f53db3415da73f30a]

	fix debug

	svn path=/trunk/icecream/; revision=583580

2006-09-12  Stephan Kulow  <coolo@kde.org>  [b2b5519f75e8b1837d0f4a0f3d7227341377d068]

	if the compiler is supposed to keep temp files, then we have to do it locally

	svn path=/trunk/icecream/; revision=583553

2006-09-12  Dirk Mueller  <mueller@kde.org>  [e105796baa00f424c19615946c06b2a4529245da]

	guessing out of the blue: trying to make the scheduler kicks a little bit less frequent. the real fix is found in the make-it-cool branch though

	svn path=/trunk/icecream/; revision=583529

2006-09-12  Stephan Kulow  <coolo@kde.org>  [f7d79918b7e4571fec3f610b6eca1dd1b5ca32f4]

	add more to the internals dump

	svn path=/trunk/icecream/; revision=583496

2006-09-12  Stephan Kulow  <coolo@kde.org>  [72d15c510d30f7f943274761d88343ddea99bf86]

	merge in fix for send

	svn path=/trunk/icecream/; revision=583489

2006-09-12  Dirk Mueller  <mueller@kde.org>  [f58b9dd5c9c352683b70df5859c46b5d81fef644]

	- fix current_kids getting out of sync if send_scheduler   failes in an unfortunate moment

	svn path=/trunk/icecream/; revision=583488

2006-09-12  Stephan Kulow  <coolo@kde.org>  [3f77c6d3ecd31c00b0824094dd667deca1154210]

	the two fixes as discussed

	svn path=/trunk/icecream/; revision=583347

2006-09-11  Stephan Kulow  <coolo@kde.org>  [e7e68af1697343aef1a09bdf5a82d6cb2303f3e5]

	found two three big bugs

	svn path=/trunk/icecream/; revision=583243

2006-09-11  Stephan Kulow  <coolo@kde.org>  [d78540fa8e3b6df12ba0db1316b27b2614508024]

	merge in make it cool changes

	svn path=/trunk/icecream/; revision=583238

2006-09-11  Stephan Kulow  <coolo@kde.org>  [f9b1a60909d689425aea1c2333f663d956a41372]

	revert the huge debug output. The crashes are no longer happening

	svn path=/trunk/icecream/; revision=583232

2006-09-11  Stephan Kulow  <coolo@kde.org>  [eeb1277d163eedaf7419fec6cf6257934e0cf6f3]

	this should fix "the snell crash"

	svn path=/trunk/icecream/; revision=583164

2006-09-11  Stephan Kulow  <coolo@kde.org>  [10601a8dcf3ca77c6a513e9ee84cc8687ab4c1f8]

	ok, make sure the next backtrace will be useful :)

	svn path=/trunk/icecream/; revision=583156

2006-09-11  Stephan Kulow  <coolo@kde.org>  [1933cfa81fd473781d080a4c8a7fa217573f30bd]

	if the client is in WAITCOMPILE then it's waiting for some other host to compile, not this one. So job == 0 -> crash

	svn path=/trunk/icecream/; revision=583155

2006-09-11  Stephan Kulow  <coolo@kde.org>  [a2623f6ea53b9e73012c72ff0e00b89bffdcfca3]

	spam the log file for the moment (to be reverted in one I hope :)

	svn path=/trunk/icecream/; revision=583124

2006-09-11  Dirk Mueller  <mueller@kde.org>  [3c518f105a9fa89ea1d540e1bcc3b48ccc540a0f]

	some more debugging hints

	svn path=/trunk/icecream/; revision=583123

2006-09-11  Dirk Mueller  <mueller@kde.org>  [bc7ee1839eeb64a13f9bd5dda93f90850ae483b7]

	always pass back the return value.. somehow we should use exceptions

	svn path=/trunk/icecream/; revision=583122

2006-09-11  Dirk Mueller  <mueller@kde.org>  [bf9735d556589fa4d8d0b30bbdc0c73af0150d8e]

	merge the easy valgrind error

	svn path=/trunk/icecream/; revision=583108

2006-09-11  Stephan Kulow  <coolo@kde.org>  [4785a32055992ebcc60ad320853183a2207750ae]

	don't erase from the map - or my assert will hit too often

	svn path=/trunk/icecream/; revision=582972

2006-09-11  Stephan Kulow  <coolo@kde.org>  [0e6d7e57cc9e556d97ada624b63f14f2edc59622]

	this is just too interesting

	svn path=/trunk/icecream/; revision=582949

2006-09-10  Marcus Furlong  <furlongm@gmail.com>  [3c6d3bc096ad1ed2bc0301242995c830bff29acf]

	use file -L to follow symlinks. CCMAIL:sos@sokhapkin.dyndns.org

	svn path=/trunk/icecream/; revision=582897

2006-09-10  Stephan Kulow  <coolo@kde.org>  [aee842f831dbdfb65828d041c6e05ae7c4154f62]

	I'm unable to find another way to get stale pointers

	svn path=/trunk/icecream/; revision=582799

2006-09-06  Stephan Kulow  <coolo@kde.org>  [483d9532e74e93343bb6b7e0f3177c51695e6b4e]

	another grave bug -> another release

	svn path=/trunk/icecream/; revision=581454

2006-09-06  Dirk Mueller  <mueller@kde.org>  [ce1891c495afe5ac69c2f220b363a6d774c512cf]

	merge from make it cool

	svn path=/trunk/icecream/; revision=581408

2006-09-06  Stephan Kulow  <coolo@kde.org>  [5f9f9cb84cd5eaceff1841b38c54806d7fae31ad]

	do not waitpid before we're sure we read all of g++'s output otherwise g++ waits for us to read and we're waiting for g++ to finish -> deadlock

	svn path=/trunk/icecream/; revision=581383

2006-09-05  André Wöbbeking  <woebbeking@kde.org>  [8c1da228d973596e1fb5c36b105ab72056012f42]

	icecream just entered Debian Sid thanks to Fathi Boudra.

	The name of the package is icecc to solve a name clash with an already existing package.

	CCMAIL:kde-devel@kde.org

	svn path=/trunk/icecream/; revision=581262

2006-09-05  Dirk Mueller  <mueller@kde.org>  [ac45da538226a5da672b1c07285f80a3d1ef3aec]

	be more careful about error handling. Hopefully fixes a crash or two.

	svn path=/trunk/icecream/; revision=581190

2006-09-05  Stephan Kulow  <coolo@kde.org>  [80980451535fcedfe4304b361077bc89c748d970]

	another bugfix release

	svn path=/trunk/icecream/; revision=581076

2006-09-05  Stephan Kulow  <coolo@kde.org>  [2fed1d8cc9fec59503ba6fb7830f05d6de7426a6]

	merged in from make-it-cool:

	- separate stat handling from ping handling
	  to avoid excessive stat/ping loops
	- only reset scheduler ping time if the scheduler ping'ed us
	- even when we can't determine native environment, we
	  can still use the daemon for inter-process locking
	  instead of falling back to file locking.
	- quicker reap of dead daemons
	- improved load guessing
	- fix stupid logic bug in ping tracking


	svn path=/trunk/icecream/; revision=581072

2006-09-04  Stephan Kulow  <coolo@kde.org>  [55aa77c037be95b594668a28e92c24a407651eab]

	managed to reproduce the crash. job_id was only set to 0 when the scheduler is there and then we hit the assert in handle_end

	svn path=/trunk/icecream/; revision=580888

2006-09-04  Stephan Kulow  <coolo@kde.org>  [e504964f01474e0af2f0a9a8ec352aa96e7076a3]

	new release

	svn path=/trunk/icecream/; revision=580794

2006-09-04  Dirk Mueller  <mueller@kde.org>  [162fd2376f5b743f79c7ac1f04bf7328cd7c7ed7]

	add workaround for environment install blocking for a while

	svn path=/trunk/icecream/; revision=580767

2006-09-04  Dirk Mueller  <mueller@kde.org>  [7b24eff03355b8765ff03a78284ec838d5750cb9]

	we're not using sendfile anywhere

	svn path=/trunk/icecream/; revision=580765

2006-09-04  Stephan Kulow  <coolo@kde.org>  [0e76c86382c2e41b9a3c5b1a04435db3302ec1b3]

	merge in last_time change and remove unused msg

	svn path=/trunk/icecream/; revision=580760

2006-09-04  Stephan Kulow  <coolo@kde.org>  [0542726c61053880075939fdb9de4372e9df7f5d]

	this was just needed yesterday

	svn path=/trunk/icecream/; revision=580755

2006-09-04  Michael Matz  <matz@kde.org>  [9ceff262b92434de821016a60f48f505c38080f9]

	c++ buffered ostreams and forks don't go together too well.  Sending and endl would flush the buffer too, but we use '\n' most of the times. Making the whole stream unbuffered would work too, but seems to be too much overhead.  So just flush the debug buffer before each fork.  Most of the time there won't be anything to flush, so it's not slowing down the fork rate.

	svn path=/trunk/icecream/; revision=580752

2006-09-04  Dirk Mueller  <mueller@kde.org>  [82eb4d319a34c847457e0b69dacf25e93f2e92c2]

	merges from make-it-cool

	svn path=/trunk/icecream/; revision=580751

2006-09-04  Dirk Mueller  <mueller@kde.org>  [20dcefb91048375bcef022ea4165bf34cbcd039b]

	the child can't remove a directory that is owned by root anyway

	svn path=/trunk/icecream/; revision=580739

2006-09-04  Dirk Mueller  <mueller@kde.org>  [8bc9349baea851764cc4d852646e091465459aac]

	it sucks if you have more than 2^31 free bytes ;)

	svn path=/trunk/icecream/; revision=580737

2006-09-04  Stephan Kulow  <coolo@kde.org>  [68db01cba018ccf7f0993a1f07e819bb1f4056c3]

	two more flags that will generate files that need to be local

	svn path=/trunk/icecream/; revision=580732

2006-09-04  Stephan Kulow  <coolo@kde.org>  [d6164176d6a081dfa933136bca3201e83cf91160]

	if ICECC=no is set, then don't try to talk to the local daemon at all avoiding all kind of problems. If your icecream is hosed, you want a quick way out :)

	svn path=/trunk/icecream/; revision=580682

2006-09-04  Stephan Kulow  <coolo@kde.org>  [ecdfca26303613f3a4db49ede8c18320b9bc91dd]

	If a PENDING job is cancelled, the daemon does not remove it from the scheduler because it does not yet have a job_id associated with it. But still the scheduler has it in the toanswer list and will always dig it out if something is to do.

	The fix for this is a bit heavy as the toanswer list does not
	allow an easy access

	CCMAIL: matz@suse.de

	svn path=/trunk/icecream/; revision=580678

2006-09-03  Dirk Mueller  <mueller@kde.org>  [d4ba1e4dbac672485bd44659f9bb567981e850d6]

	- fix sigchld handling again - add -pipe to the command line to reduce disk usage

	svn path=/trunk/icecream/; revision=580537

2006-09-03  Stephan Kulow  <coolo@kde.org>  [7c926261bb54450069736d462623894af4144193]

	we need to avoid that people with full discs are messing up the whole system

	svn path=/trunk/icecream/; revision=580532

2006-09-03  Stephan Kulow  <coolo@kde.org>  [441e77397fffa7f9f84ef227f3054b691cad08b0]

	rework the logic, but it does not work yet due to SIGIGN

	svn path=/trunk/icecream/; revision=580521

2006-09-03  Stephan Kulow  <coolo@kde.org>  [4bdad84d180583679fbfbf5b54fcfededf7d95c4]

	redo the release

	svn path=/trunk/icecream/; revision=580499

2006-09-03  Dirk Mueller  <mueller@kde.org>  [93f1e54a8f39c7bec861cb5f7e2c535c2800d4be]

	merges from cool-branch

	svn path=/trunk/icecream/; revision=580485

2006-09-03  Stephan Kulow  <coolo@kde.org>  [d2e05b06a4ab4ba57c35cd972935ab11bb89062c]

	ok, let's reenable the debug output to see how much of a problem we have

	svn path=/trunk/icecream/; revision=580413

2006-09-03  Dirk Mueller  <mueller@kde.org>  [ee45f6fd4b60e2a16df8461648ed6db14692418e]

	the kill was a bit too over-eager

	svn path=/trunk/icecream/; revision=580384

2006-09-03  Stephan Kulow  <coolo@kde.org>  [1ef1e9a986175810ee8e19f309a82370ce9fabf1]

	one more fix

	svn path=/trunk/icecream/; revision=580380

2006-09-03  Stephan Kulow  <coolo@kde.org>  [a7a4bfc3d32b67d80234ca918d0076ce35655b5d]

	kill the pid whenever we leave

	svn path=/trunk/icecream/; revision=580378

2006-09-03  Dirk Mueller  <mueller@kde.org>  [a329f0c079d95e7551bf257215a47c55a960a2b9]

	this should fix the stale .o file problem..

	svn path=/trunk/icecream/; revision=580376

2006-09-03  Stephan Kulow  <coolo@kde.org>  [c29a93d5bdba5a0bafb15dde2ca54b0513ab8b8a]

	document the change

	svn path=/trunk/icecream/; revision=580325

2006-09-03  Stephan Kulow  <coolo@kde.org>  [ccb1f5b4d9d8a2e68ff0a3b14be376b581584ee2]

	don't output an error. too many of the exceptions are just happening without real consequence

	svn path=/trunk/icecream/; revision=580323

2006-09-03  Stephan Kulow  <coolo@kde.org>  [0166ec7bc4ad6d6ce1712a4d9506647387e2156d]

	found more whitespace annoyance - preparing another test release

	svn path=/trunk/icecream/; revision=580314

2006-09-02  Stephan Kulow  <coolo@kde.org>  [b57bd99660af7efc4ff28ff7c1c32bef2b4e4b49]

	merge more of Dirk

	svn path=/trunk/icecream/; revision=580182

2006-09-02  Stephan Kulow  <coolo@kde.org>  [93dbe682504cd3717fc6e849876fd7695347f501]

	ok, this is not really interesting in the common case

	svn path=/trunk/icecream/; revision=580169

2006-09-02  Stephan Kulow  <coolo@kde.org>  [7e4d3e611dc0c689b592901d7517b4cf2ed50812]

	make it possible to track what .o file belongs to whtat ID

	svn path=/trunk/icecream/; revision=580160

2006-09-02  Stephan Kulow  <coolo@kde.org>  [a9847abb3902cb7b2a20bc81d9db819c918ff738]

	as trace() adds timestamps, we need to be careful with having an endl in every of them

	svn path=/trunk/icecream/; revision=580156

2006-09-02  Stephan Kulow  <coolo@kde.org>  [e6430d5fd9a744aa17f9800afa388cd7e1d79429]

	configure min and max ping - without actually using the bench source

	svn path=/trunk/icecream/; revision=580151

2006-09-02  Stephan Kulow  <coolo@kde.org>  [fb8399308adeb87af04d142f3d739c1e0bfbc294]

	just whitespace fixes

	svn path=/trunk/icecream/; revision=580142

2006-09-02  Stephan Kulow  <coolo@kde.org>  [2ff3a74ab79c2313543006afc8916d79c485ba84]

	merge things that look not experimental

	svn path=/trunk/icecream/; revision=580134

2006-09-02  Stephan Kulow  <coolo@kde.org>  [b759517dddbfda9ae443b5b1514265cd942672ac]

	simplifying the diff (no harm done)

	svn path=/trunk/icecream/; revision=580125

2006-09-02  Stephan Kulow  <coolo@kde.org>  [10346b4ef5d89163c67d80b17cf0edf50121d1da]

	backport bugfix

	svn path=/trunk/icecream/; revision=580120

2006-09-02  Stephan Kulow  <coolo@kde.org>  [cb742b352e5f80a7ec8e487979d50124d316ff85]

	merge 579976 - looks useful

	svn path=/trunk/icecream/; revision=580117

2006-09-02  Stephan Kulow  <coolo@kde.org>  [323a87b5374513f4c4e3571978eeb5d92f0f3565]

	commit more of Dirk's patch

	svn path=/trunk/icecream/; revision=580114

2006-09-02  Stephan Kulow  <coolo@kde.org>  [5f2c7178f5099f6ff5833063aa9dbbc940981791]

	I can live without that debug output

	svn path=/trunk/icecream/; revision=580097

2006-09-02  Stephan Kulow  <coolo@kde.org>  [33053a46cc1b5e0d5e3faf2932a3cd315e62c325]

	merge in an easy hunk from make-it-cool

	svn path=/trunk/icecream/; revision=580093

2006-09-01  Stephan Kulow  <coolo@kde.org>  [7dcce530cdb18faa349ce212563959138b72f6fd]

	the regression was fixed before I release 0.7.8

	svn path=/trunk/icecream/; revision=579795

2006-09-01  Dirk Mueller  <mueller@kde.org>  [bad29605a037fe6a32f474ae12ece543dd358e0e]

	quick fix for daemon hanging now differently.

	svn path=/trunk/icecream/; revision=579750

2006-09-01  Stephan Kulow  <coolo@kde.org>  [3938de033a5614cb780ce5b2874931b3637d7cb9]

	that kind of bug just qualifies a new release

	svn path=/trunk/icecream/; revision=579713

2006-09-01  Dirk Mueller  <mueller@kde.org>  [deb4d420df43e351bbb4641889a45063c63a8ec6]

	backport of the fd leak fix, carefully undoing all the improvements from make-it-cool branch

	svn path=/trunk/icecream/; revision=579566

2006-08-29  Stephan Kulow  <coolo@kde.org>  [4ede80b54d51f629b72fadd965b4ac53cdeb3447]

	I'm not sure what was supposed to be fixed by it, but it breaks x86_64 (while it greped out linux-gate on i586) CCMAIL: raabe@kde.org

	svn path=/trunk/icecream/; revision=578379

2006-08-27  André Wöbbeking  <woebbeking@kde.org>  [ed5ab7e6b6795f7108d62460477ce79a3a794bb1]

	updated URL

	svn path=/trunk/icecream/; revision=577911

2006-08-27  André Wöbbeking  <woebbeking@kde.org>  [96e8e58217d7d81a74cbe6cb4ad5a51fc3d34e9a]

	this package was never in unstable

	svn path=/trunk/icecream/; revision=577786

2006-08-26  André Wöbbeking  <woebbeking@kde.org>  [dae4030894b85e5cb7852becb89c45007571efc8]

	for the interested people

	svn path=/trunk/icecream/; revision=577333

2006-08-26  André Wöbbeking  <woebbeking@kde.org>  [0c653da49095737bc9fdec532c612ea0aa66fa05]

	new release

	svn path=/trunk/icecream/; revision=577332

2006-08-26  André Wöbbeking  <woebbeking@kde.org>  [1bef9a90a636c1142df1585b114b6e1dd3863622]

	Added more build dependencies (patch by Eddy PetriÅor).

	CCMAIL:327462@bugs.debian.org

	svn path=/trunk/icecream/; revision=577329

2006-08-25  Stephan Kulow  <coolo@kde.org>  [9749ef160a9da9d7144cadeea5dc040c4944a40c]

	0.7.7

	svn path=/trunk/icecream/; revision=577181

2006-08-18  Dirk Mueller  <mueller@kde.org>  [5fbcf1662f4025940c3af80759c158112bf44a8f]

	various fixes merged from the make-it-cool branch

	svn path=/trunk/icecream/; revision=574260

2006-08-02  Dirk Mueller  <mueller@kde.org>  [fce9315efb292bf7dd2f6e4e748865511230f3cc]

	the same old usual issue of something being treated as failed while it actually did not at all.

	svn path=/trunk/icecream/; revision=568716

2006-08-02  Dirk Mueller  <mueller@kde.org>  [bcb93ad62a2364d20d18b2c46c947bca583d9895]

	this should fix the hanging-job problem

	svn path=/trunk/icecream/; revision=568715

2006-08-02  Dirk Mueller  <mueller@kde.org>  [61e4c851e92f62d718345a09d47a1be31baebf48]

	make the code less confusing. shouldn't make a difference, though.

	svn path=/trunk/icecream/; revision=568709

2006-08-02  Dirk Mueller  <mueller@kde.org>  [d96c291750acebcb2100f23e39a0db05d18ed2f9]

	revert this safety check. only makes things worse after the removal of the processing loop.

	svn path=/trunk/icecream/; revision=568697

2006-07-18  Stephan Kulow  <coolo@kde.org>  [cd89665b5ad7db576eb815ca249b4249e29bafc6]

	patches by Frerich to support FreeBSD

	svn path=/trunk/icecream/; revision=563742

2006-07-16  André Wöbbeking  <woebbeking@kde.org>  [e1ba778ae74796d9ed4449dd3531d7c4e5254a07]

	releases, releases and ... releases

	svn path=/trunk/icecream/; revision=563110

2006-07-15  Stephan Kulow  <coolo@kde.org>  [2f06fa25e400d0711ac5f986f3174ad6041dadf4]

	clear all internal maps

	svn path=/trunk/icecream/; revision=562539

2006-07-13  Jonathan Riddell  <jr@jriddell.org>  [9143dc3e2a204c9c4f6e7c2a00505c62e3e7f801]

	Revert previous change, doc/ already has manpages

	svn path=/trunk/icecream/; revision=561899

2006-07-13  Jonathan Riddell  <jr@jriddell.org>  [9938976fd0aab0df763e408dec99742e99881c4d]

	Man pages

	svn path=/trunk/icecream/; revision=561876

2006-07-13  Stephan Kulow  <coolo@kde.org>  [d841e8b81f0064b73371d559ea45c01ad1093f12]

	found a pretty heavy bug that justifies a new release

	svn path=/trunk/icecream/; revision=561765

2006-07-12  Stephan Kulow  <coolo@kde.org>  [e1f092cd1a433ff1bfd9b9e537cb50b8fc1b3e4f]

	display the error

	svn path=/trunk/icecream/; revision=561636

2006-07-12  Stephan Kulow  <coolo@kde.org>  [e8655153744663e5d70d6c41c487e0008c612739]

	report the error message to the client

	svn path=/trunk/icecream/; revision=561631

2006-07-12  André Wöbbeking  <woebbeking@kde.org>  [942ec513f2e696ae7b2a68934b14526be6240835]

	make coolo happy

	svn path=/trunk/icecream/; revision=561629

2006-07-12  Dirk Mueller  <mueller@kde.org>  [765e2712b45288c3c73c14aed500e03e28918a78]

	ensure nobody uses -u root

	svn path=/trunk/icecream/; revision=561624

2006-07-12  Michael Matz  <matz@kde.org>  [da51b94f90f28fbea3d817179510b5f5ce5494c8]

	Work-around a bug in older libstdc++.

	svn path=/trunk/icecream/; revision=561601

2006-07-12  Michael Matz  <matz@kde.org>  [7c6fcdeb334f3d54fffb2667f17282bf8dc12638]

	Fix an ugly problem with x86-64 (e.g.) machines which have only the i686 native env but not the x86-64 native env with the same name anymore.  The scheduler was giving them out nevertheless as if they got the x86-64 env already.

	svn path=/trunk/icecream/; revision=561593

2006-07-12  Stephan Kulow  <coolo@kde.org>  [31c6ab82eb4c5991d9aaaea633fd380f15cc658f]

	got some stats

	svn path=/trunk/icecream/; revision=561487

2006-07-12  Stephan Kulow  <coolo@kde.org>  [53c9aac0d753402d8d7626600b9fc80e4f12c0a8]

	Dirk might not want to merge that change :)

	svn path=/trunk/icecream/; revision=561482

2006-07-12  Stephan Kulow  <coolo@kde.org>  [e6379f55ae6fb3728343d4db2141c998945bbc6e]

	keeping the debian package busy

	svn path=/trunk/icecream/; revision=561481

2006-07-11  Michael Matz  <matz@kde.org>  [b1b25aaff613d206de905be32dfa6e5abd5d6364]

	If we have a scheduler host set, the discover fd will be -1.  Don't enter it into select sets.

	svn path=/trunk/icecream/; revision=560804

2006-07-11  Michael Matz  <matz@kde.org>  [76a48560d5dc02d9b31a99b8e919da7e35ea98e4]

	Don't block while looking for a scheduler over broadcast search.

	svn path=/trunk/icecream/; revision=560800

2006-07-10  Stephan Kulow  <coolo@kde.org>  [4931ea1a713f34d9432030f7619a97a68754b6b2]

	big bug, no easy solution ;( CCMAIL: matz@kde.org

	svn path=/trunk/icecream/; revision=560669

2006-07-10  Michael Matz  <matz@kde.org>  [9a35791fa6b00ebeb042a582e6ff4a4c8624c182]

	Try to fix logrotation.

	svn path=/trunk/icecream/; revision=560437

2006-07-10  Stephan Kulow  <coolo@kde.org>  [85b91747546dd600c328644cdfde1abde098224f]

	rotate defaults to 0

	svn path=/trunk/icecream/; revision=560435

2006-07-10  Dirk Mueller  <mueller@kde.org>  [66cd1188de8d30bddca42aa85f7cffbd06de9d79]

	- reindent using GNU indenting rules - immediately kick broken daemon connections (thanks to Matz for   noticing)

	svn path=/trunk/icecream/; revision=560421

2006-07-09  Stephan Kulow  <coolo@kde.org>  [d016569a0e5f2120c0f0389442c42bf66dc7b533]

	_bad_ idea as "-l log" is no valid option

	svn path=/trunk/icecream/; revision=560108

2006-07-09  Stephan Kulow  <coolo@kde.org>  [5095b30bda2f1803f3095d1157b5764c5c5bb15d]

	I don't really understand the problem, but somehow the .close() can't be reopened

	svn path=/trunk/icecream/; revision=560106

2006-07-09  Stephan Kulow  <coolo@kde.org>  [6ad0a0adda6e9c42ee44f8390d647b4fbb851449]

	this closes automatically

	svn path=/trunk/icecream/; revision=560099

2006-07-09  André Wöbbeking  <woebbeking@kde.org>  [db20ec947d80e7ec121bbc9cb202b986b24cab36]

	- new version - patches aren't necessary any longer

	svn path=/trunk/icecream/; revision=560071

2006-07-08  Stephan Kulow  <coolo@kde.org>  [5d26bcdf09fb07ed323df146f68dac61ec583e20]

	oops

	svn path=/trunk/icecream/; revision=559956

2006-07-08  Stephan Kulow  <coolo@kde.org>  [6f1f6b396c23b2d2118ff879a8856075b7f0de67]

	move the pkgconfig too

	svn path=/trunk/icecream/; revision=559948

2006-07-08  Stephan Kulow  <coolo@kde.org>  [27e802c1ab9386fe5dccbc6b7c2af966cf491bba]

	overly optimistic

	svn path=/trunk/icecream/; revision=559939

2006-07-08  Stephan Kulow  <coolo@kde.org>  [1da7db0e5ead0d40ca399814b279c27e40f3bf52]

	moving

	svn path=/trunk/icecream/; revision=559938

2006-07-08  Stephan Kulow  <coolo@kde.org>  [b8e19d00f8cdb198868b98eb9c71dfb38cccbfb9]

	rename the tar

	svn path=/trunk/icecream/; revision=559928

2006-07-08  Stephan Kulow  <coolo@kde.org>  [9fc78b141aa8ea385241f31af13e1e8c7dd5ab97]

	adding news for 0.7.4

	svn path=/trunk/icecream/; revision=559927

2006-07-08  Stephan Kulow  <coolo@kde.org>  [d9fc9981e7de8772e8153cee5c1cfa6ff22cc184]

	apply debian patches

	svn path=/trunk/icecream/; revision=559919

2006-07-08  Stephan Kulow  <coolo@kde.org>  [26af20f7eee9e60abafb8f9d3db49663ea3bc042]

	avoid "real" underflow

	svn path=/trunk/icecream/; revision=559917

2006-07-08  David Faure  <faure@kde.org>  [da4332ccdd2e1f08287a2a6c87ec4bc033a30130]

	this isn't kdenonbeta anymore

	svn path=/trunk/icecream/; revision=559916

2006-07-08  Stephan Kulow  <coolo@kde.org>  [d6c25a1b8db3d4a9111af46c0291dee1e94bc6cc]

	Matz was right: the End message is an important part of the protocol. It's missing caused half the jobs to be "failed" in my monitor

	svn path=/trunk/icecream/; revision=559910

2006-07-08  André Wöbbeking  <woebbeking@kde.org>  [e6e24894c945f0db5b10ca79621bcd824e3072cd]

	forgot to update the patch

	svn path=/trunk/icecream/; revision=559761

2006-07-07  André Wöbbeking  <woebbeking@kde.org>  [07fa570f9f55f398e6caa2465a6d1b4b3f6ceff9]

	use -fPIC also for C files

	svn path=/trunk/icecream/; revision=559422

2006-07-06  Stephan Kulow  <coolo@kde.org>  [0872c28fb3466ca06f654b051e249c4f04604b52]

	better do it everywhere

	svn path=/trunk/icecream/; revision=559180

2006-07-06  Dirk Mueller  <mueller@kde.org>  [c482340a91aec3a0d794b4d91a94f2072cd965e3]

	fix assertion failures in daemon upon sigchild delivery

	svn path=/trunk/icecream/; revision=559106

2006-07-05  Dirk Mueller  <mueller@kde.org>  [05bfc095b317eb9f8350aebf1b42dfc9da1c9ef8]

	its not a good idea to loop here. we might end up in the TOCOMPILE state and then not select() on the filedescriptor anymore, so the daemon gets stuck.

	trust me, this is the last bug.

	svn path=/trunk/icecream/; revision=558747

2006-07-05  Dirk Mueller  <mueller@kde.org>  [851162e5a46dd2a37756f6669dc0be52bf924f2c]

	ugh, so much missing error handling and that in the scheduler

	svn path=/trunk/icecream/; revision=558685

2006-07-05  Dirk Mueller  <mueller@kde.org>  [2e67aa785d7ba18025315e8390e4699f172dd4e3]

	a lot more error handling

	svn path=/trunk/icecream/; revision=558684

2006-07-05  Dirk Mueller  <mueller@kde.org>  [1fe5c2d30ddcb8e3913d28597311b1e62f4e0f2f]

	lovely, nice bug. when it wasn't able to talk to the daemon, it waited for a reply forever.

	svn path=/trunk/icecream/; revision=558681

2006-07-05  Dirk Mueller  <mueller@kde.org>  [5cabbdb76c2a9e591db0f4a99765d666fb8b2e42]

	fix std exception. finally found the error

	svn path=/trunk/icecream/; revision=558653

2006-07-05  Stephan Kulow  <coolo@kde.org>  [acf2bbcdb80d63083da4cf0744ca60105ad22bff]

	commit (changed) patch for Gentoo from "Marcus Furlong"

	svn path=/trunk/icecream/; revision=558598

2006-07-05  Dirk Mueller  <mueller@kde.org>  [4a048311dd129fd4ede6a602de3d74496733e705]

	add debug information otherwise its almost impossible to find out who breaks the build

	svn path=/trunk/icecream/; revision=558515

2006-07-05  Dirk Mueller  <mueller@kde.org>  [aaf7f5e04835c4bc46a61a8e952eab41172f7f90]

	even an empty source file is bigger than 512 bytes

	svn path=/trunk/icecream/; revision=558421

2006-07-04  Dirk Mueller  <mueller@kde.org>  [9ef2fe2952926ec54ff699ce0ec22a6d27a66bf3]

	fix deletion of old environments

	svn path=/trunk/icecream/; revision=558069

2006-07-03  André Wöbbeking  <woebbeking@kde.org>  [c28345bbeff765dfd3bf86521cb1ed893504111b]

	- also create a group icecc for the user icecc - build with -O2

	svn path=/trunk/icecream/; revision=557748

2006-07-03  Dirk Mueller  <mueller@kde.org>  [97b1b909b251bacf4794d50176cb1e5f8390cc51]

	this is debugging information

	svn path=/trunk/icecream/; revision=557619

2006-07-03  Dirk Mueller  <mueller@kde.org>  [a07d5c701e0f3d6cc19ce9d3fc0939bd948bc2f1]

	find the compiler even though icecc wasn't in the path

	svn path=/trunk/icecream/; revision=557587

2006-07-03  Dirk Mueller  <mueller@kde.org>  [4cf4142d49cbe28cd4f6a49770fe964f424d4052]

	work without setup_logging being called

	svn path=/trunk/icecream/; revision=557442

2006-07-02  Simon Hausmann  <hausmann@kde.org>  [fc160469acbe7949b7940e13204a0c29ee759a44]

	- need libtool

	svn path=/trunk/icecream/; revision=557274

2006-07-02  Will Stephenson  <wstephenson@kde.org>  [e040ed983ae46021f684e9fae9633386d7defc11]

	Add -fpreprocessed argument so the compiler knows what it's getting. (See dirk for details)

	svn path=/trunk/icecream/; revision=557266

2006-07-02  André Wöbbeking  <woebbeking@kde.org>  [4036312e228cdc4b7853a4a5b8c824498142f547]

	removed non existent configure options

	svn path=/trunk/icecream/; revision=557220

2006-07-02  Aaron J. Seigo  <aseigo@kde.org>  [d33d4c09b9f42cea478603ee746a1a92cb6a783e]

	make this work on OSes where the libs are possibly deeply nested, such as /lib/tls/i686/cmov/libc.so.6 on kubuntu. ok'd by dirk

	svn path=/trunk/icecream/; revision=557215

2006-07-02  André Wöbbeking  <woebbeking@kde.org>  [9813eabfc5965bf9b58f56aa5328d358ff096f08]

	- create libicecc-dev package for icemon - simplified debian files?!?

	svn path=/trunk/icecream/; revision=557194

2006-07-02  Dirk Mueller  <mueller@kde.org>  [7e4ca1adbbe7fe0821b41a398761c6df454f8293]

	fix daemons getting stuck after a while with 100% CPU

	svn path=/trunk/icecream/; revision=557131

2006-07-02  Dirk Mueller  <mueller@kde.org>  [90170c7975026b03710d356d8b39020ed401a67c]

	always initialize

	svn path=/trunk/icecream/; revision=557120

2006-07-01  André Wöbbeking  <woebbeking@kde.org>  [2eae79ed4661414c0887d7f72325cc813150e556]

	Made icecc --build-native work.

	svn path=/trunk/icecream/; revision=556876

2006-07-01  André Wöbbeking  <woebbeking@kde.org>  [5e4b8b3a801f526ef09de514b836239d78996e27]

	updated to new version:

	- /usr/bin/create-env is now /usr/lib/icecc/icecc-create-env
	- icecc-mon is moved to another place
	- copied debianrules from now non existent admin/ to debian/

	probably not perfect but it builds a package :-)

	svn path=/trunk/icecream/; revision=556862

2006-06-27  Dirk Mueller  <mueller@kde.org>  [00876c40bcbd33dd085f7f2bcb07db7414be76bf]

	add todo

	svn path=/trunk/icecream/; revision=555568

2006-06-21  Stephan Kulow  <coolo@kde.org>  [4eb450f3511ab0440508d64570812758b6ae5321]

	smaller fixes

	svn path=/trunk/icecream/; revision=553504

2006-06-21  Dirk Mueller  <mueller@kde.org>  [7db21d22594175d155692228079f687645013470]

	fix compile failure on FC 5

	svn path=/trunk/icecream/; revision=553496

2006-06-19  Stephan Kulow  <coolo@kde.org>  [a2c07a5517e95dc8c476d61ca66503ca4d4e26c3]

	more news

	svn path=/trunk/icecream/; revision=552935

2006-06-19  Stephan Kulow  <coolo@kde.org>  [96cf417dfad4c0933035a47f87e7216fe7c8f4af]

	merge in newer changes by Dirk

	svn path=/trunk/icecream/; revision=552930

2006-06-19  Stephan Kulow  <coolo@kde.org>  [5ec3d85d9787628413e22d8a6b74a1baf257e589]

	if no scheduler is there, we still want the daemon to handle the workload of localhost

	svn path=/trunk/icecream/; revision=552925

2006-06-19  Stephan Kulow  <coolo@kde.org>  [d6ed5bb4b1757c383209eb6f09755247e44c71ac]

	the -x c is necessary

	svn path=/trunk/icecream/; revision=552924

2006-06-19  Stephan Kulow  <coolo@kde.org>  [8acf5d30e3f3103c5b0b0c366baf186dba367c1e]

	reverted too much

	svn path=/trunk/icecream/; revision=552861

2006-06-19  Stephan Kulow  <coolo@kde.org>  [87f774d04be68d31589cf86c2a02262f188a5cf2]

	go with that number

	svn path=/trunk/icecream/; revision=552857

2006-06-19  Stephan Kulow  <coolo@kde.org>  [8453fa500ccbb18fb513b14e3e9724876b92282c]

	summarize changelog

	svn path=/trunk/icecream/; revision=552853

2006-06-19  Stephan Kulow  <coolo@kde.org>  [342863bb6dcde887ce023673f4bcbbf8da4b667b]

	2006-06-15 12:28 +0000 [r551704]  Dirk Mueller mueller@kde.org

		* services/logging.cpp, services/comm.cpp, services/logging.h: -
		  add log_block() profiling class - some minor cleanups

	2006-06-15 16:03 +0000 [r551792]  Dirk Mueller mueller@kde.org

		* BENCH (added): Some remarkable notes about icecream benchmarks to
		  find out limiting factors.

	2006-06-15 16:07 +0000 [r551794]  Dirk Mueller mueller@kde.org

		* services/comm.cpp: fix major bug causing occasional network
		  failure in multi-cpu daemon setups. 2% overall performance win.

	2006-06-15 16:46 +0000 [r551823-551814]  Dirk Mueller mueller@kde.org

		* client/remote.cpp: more instrumentation, use unique exception
		  numbers

		* daemon/environment.cpp: - remove system() usage - use _exit, not
		  exit()

		* daemon/main.cpp: clarify debug message

		* daemon/workit.cpp: - some static's - safety check

		* daemon/environment.cpp: - safety checks - remove uneccessary
		  checks - cleanups

	2006-06-15 17:10 +0000 [r551828]  Dirk Mueller mueller@kde.org

		* daemon/environment.cpp, daemon/main.cpp, daemon/environment.h:
		  cleanups

	2006-06-15 17:13 +0000 [r551831-551829]  Dirk Mueller mueller@kde.org

		* client/cpp.cpp: don't traverse $PATH

		* daemon/workit.cpp, daemon/serve.cpp, daemon/workit.h,
		  client/icecc-create-env: - early launch the compiler even before
		  the whole preprocessed file has been received - remove the need
		  for g++ wrapper - small fixlets for error cases

		* BENCH: typo

	2006-06-15 20:52 +0000 [r551870]  Dirk Mueller mueller@kde.org

		* services/comm.cpp: yet another one of those unprotected
		  select()'s that fail with EINTR on heavy stress testing

	2006-06-15 21:13 +0000 [r551875]  Dirk Mueller mueller@kde.org

		* daemon/main.cpp: yet another critical bugfix. don't kill clients
		  just because packets got slightly reordered by the network

	2006-06-15 21:16 +0000 [r551877]  Dirk Mueller mueller@kde.org

		* daemon/main.cpp: yet another critical bugfix: the scheduler can
		  go away at any time. If it does, handle it correctly.

	2006-06-15 21:43 +0000 [r551887]  Dirk Mueller mueller@kde.org

		* services/scheduler.cpp: another critical bugfix: - even though we
		  have a preferred host set, we don't want to blow up that host. -
		  also, don't assign jobs to it that it cannot handle anyway.

	2006-06-15 22:20 +0000 [r551892]  Dirk Mueller mueller@kde.org

		* services/comm.cpp: on low-latency connections, make sure that we
		  don't fill the send buffers.

	2006-06-15 22:55 +0000 [r551905]  Dirk Mueller mueller@kde.org

		* client/main.cpp: no place for protocol beauty here

	2006-06-15 23:04 +0000 [r551911]  Dirk Mueller mueller@kde.org

		* daemon/workit.cpp: cleanups

	2006-06-16 00:50 +0000 [r551925]  Dirk Mueller mueller@kde.org

		* daemon/load.cpp: another critical bugfix: a CPU that is waiting
		  100% of its time for I/O is otherwise 100% idle.

	2006-06-16 02:32 +0000 [r551936-551934]  Dirk Mueller mueller@kde.org

		* services/comm.cpp: this is C++

		* daemon/environment.cpp: lets not treat enviroment installation
		  time as icecream time

		* daemon/load.cpp, daemon/load.h, daemon/main.cpp: - more accurate
		  process accounting - code cleanups

	2006-06-16 09:02 +0000 [r551965]  Dirk Mueller mueller@kde.org

		* services/comm.h: use constants instead of hardcoding numbers

	2006-06-16 10:00 +0000 [r551983-551979]  Dirk Mueller mueller@kde.org

		* services/scheduler.cpp: bugfix: make sure the scheduler wakes up
		  in time to care about its children.

		* daemon/main.cpp: much improved idle detection

		* BENCH: Finally fixed another performance bottleneck.

		* daemon/main.cpp: let us detect dead scheduler connections again

		* daemon/main.cpp: argh

	2006-06-16 10:17 +0000 [r551988]  Dirk Mueller mueller@kde.org

		* daemon/main.cpp: kill dead scheduler connections quicker

	2006-06-16 10:20 +0000 [r551989]  Dirk Mueller mueller@kde.org

		* client/main.cpp: if we're debugging the client, throw an error so
		  that make aborts

	2006-06-16 10:45 +0000 [r551994]  Dirk Mueller mueller@kde.org

		* daemon/main.cpp: the whole idle detection is even trickier

	2006-06-17 13:53 +0000 [r552321]  Stephan Kulow coolo@kde.org

		* daemon/main.cpp: consistent logging

	2006-06-17 14:32 +0000 [r552334]  Stephan Kulow coolo@kde.org

		* daemon/main.cpp: I don't think relying on code constants to
		  figure if a connection is dead is a good idea as newer versions
		  of the scheduler might have higher intervals.

	2006-06-17 14:35 +0000 [r552335]  Stephan Kulow coolo@kde.org

		* daemon/main.cpp: the number of microseconds might be a bit random
		  :)

	2006-06-17 18:34 +0000 [r552417-552416]  Stephan Kulow coolo@kde.org

		* daemon/environment.cpp: let root create $BASEDIR/native and chown
		  to nobody

		* client/remote.cpp: let the command line refake

	2006-06-19 09:19 +0000 [r552841]  Stephan Kulow coolo@kde.org

		* daemon/workit.cpp, client/icecc-create-env: Dirk says gcc -x c++
		  isn't good enough - so revert that part


	svn path=/trunk/icecream/; revision=552851

2006-06-19  Stephan Kulow  <coolo@kde.org>  [e09f7d438171825c80a1fd3cf141a2880762e642]

	Dirk says gcc -x c++ isn't good enough - so revert that part

	svn path=/branches/work/icecream-make-it-cool/; revision=552841

2006-06-17  Stephan Kulow  <coolo@kde.org>  [8d7e8ac76e80a4d6eef2a92ce7617667652fee0f]

	let the command line refake

	svn path=/branches/work/icecream-make-it-cool/; revision=552417

2006-06-17  Stephan Kulow  <coolo@kde.org>  [d24ba6f3064113cc206a392ca6f1faf865ca6915]

	let root create $BASEDIR/native and chown to nobody

	svn path=/branches/work/icecream-make-it-cool/; revision=552416

2006-06-17  Stephan Kulow  <coolo@kde.org>  [800ade9541d3db539481d5049d45eaf248d7a2a1]

	the number of microseconds might be a bit random :)

	svn path=/branches/work/icecream-make-it-cool/; revision=552335

2006-06-17  Stephan Kulow  <coolo@kde.org>  [49e1182980499f92cda7688d94e41fdfce118388]

	I don't think relying on code constants to figure if a connection is dead is a good idea as newer versions of the scheduler might have higher intervals.

	svn path=/branches/work/icecream-make-it-cool/; revision=552334

2006-06-17  Stephan Kulow  <coolo@kde.org>  [b7c10a9ec6e87425a8a3703a3572fc583b9f22b6]

	consistent logging

	svn path=/branches/work/icecream-make-it-cool/; revision=552321

2006-06-16  Dirk Mueller  <mueller@kde.org>  [67ec74dcd60d818dbd42ee4921e3db6c885df1dd]

	the whole idle detection is even trickier

	svn path=/branches/work/icecream-make-it-cool/; revision=551994

2006-06-16  Dirk Mueller  <mueller@kde.org>  [9786d03da519a90728312b83aa5bf2e721377427]

	if we're debugging the client, throw an error so that make aborts

	svn path=/branches/work/icecream-make-it-cool/; revision=551989

2006-06-16  Dirk Mueller  <mueller@kde.org>  [639498a26dfc781db6ea495750ef1eac0bb38eef]

	kill dead scheduler connections quicker

	svn path=/branches/work/icecream-make-it-cool/; revision=551988

2006-06-16  Dirk Mueller  <mueller@kde.org>  [16cf62fe2bc62b40c665558615af780a0fd651b7]

	argh

	svn path=/branches/work/icecream-make-it-cool/; revision=551983

2006-06-16  Dirk Mueller  <mueller@kde.org>  [b83941f4236f1f72128640b232b26457044734a3]

	let us detect dead scheduler connections again

	svn path=/branches/work/icecream-make-it-cool/; revision=551982

2006-06-16  Dirk Mueller  <mueller@kde.org>  [18b2d9ad058aec4d04940f3a2e11796ee1dc17c2]

	Finally fixed another performance bottleneck.

	svn path=/branches/work/icecream-make-it-cool/; revision=551981

2006-06-16  Dirk Mueller  <mueller@kde.org>  [7ba986a6bdd99e35a99fcb72956b7e2693bba1b4]

	much improved idle detection

	svn path=/branches/work/icecream-make-it-cool/; revision=551980

2006-06-16  Dirk Mueller  <mueller@kde.org>  [7bc14e5724d416dcb0a7acb7992585827e5532b4]

	bugfix: make sure the scheduler wakes up in time to care about its children.

	svn path=/branches/work/icecream-make-it-cool/; revision=551979

2006-06-16  Dirk Mueller  <mueller@kde.org>  [0d841c20dff44a6c19535a71f4522f43cccc8e69]

	use constants instead of hardcoding numbers

	svn path=/branches/work/icecream-make-it-cool/; revision=551965

2006-06-16  Dirk Mueller  <mueller@kde.org>  [4af8d375c4717f4b8bb2ccaa528a12f9812e20c4]

	- more accurate process accounting - code cleanups

	svn path=/branches/work/icecream-make-it-cool/; revision=551936

2006-06-16  Dirk Mueller  <mueller@kde.org>  [0f97596407552a33ebc8c73823c2ba3cbfa17ae8]

	lets not treat enviroment installation time as icecream time

	svn path=/branches/work/icecream-make-it-cool/; revision=551935

2006-06-16  Dirk Mueller  <mueller@kde.org>  [dbe610f4b5acc76de32b7e80f22e521a5e0b6535]

	this is C++

	svn path=/branches/work/icecream-make-it-cool/; revision=551934

2006-06-16  Dirk Mueller  <mueller@kde.org>  [e933bc0f12dc92c2025f8a9d824a184cb11da596]

	another critical bugfix: a CPU that is waiting 100% of its time for I/O is otherwise 100% idle.

	svn path=/branches/work/icecream-make-it-cool/; revision=551925

2006-06-15  Dirk Mueller  <mueller@kde.org>  [efe1754f8ef2409dd353117bca9aa77f3e882f24]

	cleanups

	svn path=/branches/work/icecream-make-it-cool/; revision=551911

2006-06-15  Dirk Mueller  <mueller@kde.org>  [9362d208a611987db267ccf40ed6907fe0fae0e3]

	no place for protocol beauty here

	svn path=/branches/work/icecream-make-it-cool/; revision=551905

2006-06-15  Dirk Mueller  <mueller@kde.org>  [8247385de1cbbccb3f41625da81827fe81e77999]

	on low-latency connections, make sure that we don't fill the send buffers.

	svn path=/branches/work/icecream-make-it-cool/; revision=551892

2006-06-15  Dirk Mueller  <mueller@kde.org>  [86d9db640b21bb5131bf4151be12bde0a6e5919b]

	another critical bugfix:

	- even though we have a preferred host set, we don't want to blow up that
	  host.
	- also, don't assign jobs to it that it cannot handle anyway.

	svn path=/branches/work/icecream-make-it-cool/; revision=551887

2006-06-15  Dirk Mueller  <mueller@kde.org>  [e8316c902b092aee5152604c9a886b1a15a3b674]

	yet another critical bugfix: the scheduler can go away at any time. If it does, handle it correctly.

	svn path=/branches/work/icecream-make-it-cool/; revision=551877

2006-06-15  Dirk Mueller  <mueller@kde.org>  [37de4fb90aaa3f17ab5b423217350b203757abb6]

	yet another critical bugfix. don't kill clients just because packets got slightly reordered by the network

	svn path=/branches/work/icecream-make-it-cool/; revision=551875

2006-06-15  Dirk Mueller  <mueller@kde.org>  [6dddca6a8957655220b171816ccb061952fe7bfb]

	yet another one of those unprotected select()'s that fail with EINTR on heavy stress testing

	svn path=/branches/work/icecream-make-it-cool/; revision=551870

2006-06-15  Dirk Mueller  <mueller@kde.org>  [d151500ad2b692480d0ec1d311feb53cec49ffc2]

	typo

	svn path=/branches/work/icecream-make-it-cool/; revision=551831

2006-06-15  Dirk Mueller  <mueller@kde.org>  [bcf633527292f4c7a8402f5ff38680fa220d1f08]

	- early launch the compiler even before the whole preprocessed file has   been received - remove the need for g++ wrapper - small fixlets for error cases

	svn path=/branches/work/icecream-make-it-cool/; revision=551830

2006-06-15  Dirk Mueller  <mueller@kde.org>  [24d730afef5e71debb38b1f5c35bee2d79febec5]

	don't traverse $PATH

	svn path=/branches/work/icecream-make-it-cool/; revision=551829

2006-06-15  Dirk Mueller  <mueller@kde.org>  [0f4b71575889336d4c196f601e703ac6b2691a65]

	cleanups

	svn path=/branches/work/icecream-make-it-cool/; revision=551828

2006-06-15  Dirk Mueller  <mueller@kde.org>  [85b02167cdbc9835a0d07448c133f2f0d901e363]

	- safety checks - remove uneccessary checks - cleanups

	svn path=/branches/work/icecream-make-it-cool/; revision=551823

2006-06-15  Dirk Mueller  <mueller@kde.org>  [db7296f6842f4dca01185fe073b0ea82a52a0888]

	- some static's - safety check

	svn path=/branches/work/icecream-make-it-cool/; revision=551821

2006-06-15  Dirk Mueller  <mueller@kde.org>  [dbefa0eda28fd47a54deaf521e313807ad3caf7d]

	clarify debug message

	svn path=/branches/work/icecream-make-it-cool/; revision=551817

2006-06-15  Dirk Mueller  <mueller@kde.org>  [3fa36271b292216d8f9a85c3942fbc7bbea77f5f]

	- remove system() usage - use _exit, not exit()

	svn path=/branches/work/icecream-make-it-cool/; revision=551816

2006-06-15  Dirk Mueller  <mueller@kde.org>  [fe17e5049e8abd3ebadca8dc8e53501b0e6e1cfa]

	more instrumentation, use unique exception numbers

	svn path=/branches/work/icecream-make-it-cool/; revision=551814

2006-06-15  Dirk Mueller  <mueller@kde.org>  [294baa9c45da990cc51ce834c1c56371d7f5fb1f]

	fix major bug causing occasional network failure in multi-cpu daemon setups. 2% overall performance win.

	svn path=/branches/work/icecream-make-it-cool/; revision=551794

2006-06-15  Dirk Mueller  <mueller@kde.org>  [9785a432af18c7f4755eb6235d45e07bcc6954cd]

	Some remarkable notes about icecream benchmarks to find out limiting factors.

	svn path=/branches/work/icecream-make-it-cool/; revision=551792

2006-06-15  Dirk Mueller  <mueller@kde.org>  [40a042451bb186f0e656bb01b63dfcf13cdee229]

	- add log_block() profiling class - some minor cleanups

	svn path=/branches/work/icecream-make-it-cool/; revision=551704

2006-06-12  Stephan Kulow  <coolo@kde.org>  [ced6700be34739242c31109165191cceda335810]

	lib64 fix

	svn path=/trunk/icecream/; revision=550600

2006-06-09  Stephan Kulow  <coolo@kde.org>  [68faaefc596f40ebc237b8ddc3ead7929ee946ef]

	found more variables :)

	svn path=/trunk/icecream/; revision=549607

2006-06-09  Dirk Mueller  <mueller@kde.org>  [d2562f1debfb1e285bbb2030995ed57908412bae]

	we invent new environment variables on a daily basis

	svn path=/trunk/icecream/; revision=549599

2006-06-09  Dirk Mueller  <mueller@kde.org>  [fa7e57effe616cc06e70e0aa8f67e22c39493ce6]

	- update help texts - remove debugging junk

	svn path=/trunk/icecream/; revision=549595

2006-06-09  Dirk Mueller  <mueller@kde.org>  [1eb020b68d4bb48494b16ec58564a6f979963be5]

	give the full compiler path for debugging purposes

	svn path=/trunk/icecream/; revision=549594

2006-06-09  Dirk Mueller  <mueller@kde.org>  [b5255f954924f401b39c78fc25a91f9052a28c68]

	manual coverity scan

	svn path=/trunk/icecream/; revision=549593

2006-06-09  Stephan Kulow  <coolo@kde.org>  [ae8df41d51bbe8aeeb86915376670fb0c113afa9]

	"retagging"

	svn path=/trunk/icecream/; revision=549575

2006-06-09  Stephan Kulow  <coolo@kde.org>  [1809f33191c289bb90f564ae7d1d6c3f53ddd110]

	also find a compiler if there is no link in $PATH

	svn path=/trunk/icecream/; revision=549574

2006-06-09  Stephan Kulow  <coolo@kde.org>  [1961dac9a25fa497bc851ecea98ac76b096d830d]

	fix file list

	svn path=/trunk/icecream/; revision=549569

2006-06-08  Stephan Kulow  <coolo@kde.org>  [f2da766f3dd54297c8f555f4af6ba6db2f707067]

	new version justified by moved create-env

	svn path=/trunk/icecream/; revision=549440

2006-06-08  Stephan Kulow  <coolo@kde.org>  [6c3ca0728167a621dae34aa45c563b939a4f3df9]

	document it a bit

	svn path=/trunk/icecream/; revision=549436

2006-06-08  Stephan Kulow  <coolo@kde.org>  [66fb16c525e021664fcf614d83db2b9330ae9156]

	hide it better

	svn path=/trunk/icecream/; revision=549434

2006-06-07  Stephan Kulow  <coolo@kde.org>  [71fa78e7400332306d7196a48cdd48c157865a14]

	give the client a --build-native option that will look for the compiler it would use itself and then pass it to create-env (now renamed to show it's meant to be internal)

	svn path=/trunk/icecream/; revision=549193

2006-06-07  Stephan Kulow  <coolo@kde.org>  [3a79defa50ce48455d96d77d05685f2982be036d]

	found a compromise

	svn path=/trunk/icecream/; revision=549179

2006-06-07  Stephan Kulow  <coolo@kde.org>  [18dc45c7ec41cd43e5e7bdde4f05e4985cc891a8]

	matz loves whitespace changes

	svn path=/trunk/icecream/; revision=549149

2006-06-07  Stephan Kulow  <coolo@kde.org>  [d665162ffa43c6ba3694896f4847977eaeb78427]

	readded necessary system() usage

	svn path=/trunk/icecream/; revision=549103

2006-06-07  Stephan Kulow  <coolo@kde.org>  [a27c3e0e8e59e439757a062683cff029f71e6045]

	strange STL

	svn path=/trunk/icecream/; revision=549101

2006-06-07  Dirk Mueller  <mueller@kde.org>  [b87dea839ef01be7b18db99a73f950b89f282776]

	print a version number, dude

	svn path=/trunk/icecream/; revision=549045

2006-06-07  Stephan Kulow  <coolo@kde.org>  [fad9aa72e68761dd54fe2ea30706242e96668d09]

	praise maintainer

	svn path=/trunk/icecream/; revision=549044

2006-06-07  Dirk Mueller  <mueller@kde.org>  [680a639c26833dbb8fa0a6fcabbe8763a3034e47]

	coding style++

	svn path=/trunk/icecream/; revision=549043

2006-06-07  Dirk Mueller  <mueller@kde.org>  [0406e8057dd1381f1479daa771687629d09f91e6]

	assert sanity and make colorgcc nesting possible.

	svn path=/trunk/icecream/; revision=549042

2006-06-07  Dirk Mueller  <mueller@kde.org>  [d88b03a40730e9a61401d91352cde8910194d2e0]

	praise duplication

	svn path=/trunk/icecream/; revision=549041

2006-06-07  Stephan Kulow  <coolo@kde.org>  [e90e0f90bf4b53981be8882f82256ca95062007f]

	the bare minimum

	svn path=/trunk/icecream/; revision=549038

2006-06-07  Stephan Kulow  <coolo@kde.org>  [e2e36e6e52782ee5445b299486fc32ab8e53d3f4]

	set ICECC_PREFERRED_HOST=mybigfathost to let the scheduler ignore all rules - this is meant to be a debugging aid

	svn path=/trunk/icecream/; revision=549012

2006-06-06  Dirk Mueller  <mueller@kde.org>  [c5407abbe16270c1b32b721035195a8758325fdf]

	- handle native environments in PATH but not in /usr/bin better - fix error handling

	svn path=/trunk/icecream/; revision=548926

2006-06-06  Dirk Mueller  <mueller@kde.org>  [51ae289c8877f727d16558f6152dfbd0fc5280cc]

	fix performance problem

	svn path=/trunk/icecream/; revision=548925

2006-06-06  Stephan Kulow  <coolo@kde.org>  [2b70cc8e75fd0ba74dc7d1488ab089e0dff892a5]

	split devel

	svn path=/trunk/icecream/; revision=548880

2006-06-06  Stephan Kulow  <coolo@kde.org>  [347543c68da9101cf2454dcbfee2660becbce600]

	hunting performance problem

	svn path=/trunk/icecream/; revision=548873

2006-06-06  Stephan Kulow  <coolo@kde.org>  [57b7c32e6162dd77c32a858ababf8b2a497b2457]

	okok

	svn path=/trunk/icecream/; revision=548861

2006-06-06  Stephan Kulow  <coolo@kde.org>  [b0e6456d337a66de0b3a3d5d18fa55694afd8a5b]

	mon is no more

	svn path=/trunk/icecream/; revision=548860

2006-06-06  Stephan Kulow  <coolo@kde.org>  [df7240638afeb4096fdfec76cc2777d74ee93b93]

	somehow I need ltmain.sh

	svn path=/trunk/icecream/; revision=548857

2006-06-06  Stephan Kulow  <coolo@kde.org>  [a34730090f65ed271da2dfe89deb33c092209d94]

	0.7.1

	svn path=/trunk/icecream/; revision=548849

2006-06-06  Stephan Kulow  <coolo@kde.org>  [254a646779209017eb77045ec08c590f088e9b37]

	icecream does not need no admin/

	svn path=/trunk/icecream/; revision=548836

2006-06-06  Stephan Kulow  <coolo@kde.org>  [415525a5615b2d4bc3ffdd93440b3e433e2f3cc7]

	moved monitor to svn+ssh://svn.kde.org/home/kde/trunk/playground/devtools/icemon-kde3

	svn path=/trunk/icecream/; revision=548832

2006-06-06  Stephan Kulow  <coolo@kde.org>  [552fa9a7ac28d99637f52a531e7c95b0a9389cb8]

	add pkg-config file

	svn path=/trunk/icecream/; revision=548829

2006-06-06  Dirk Mueller  <mueller@kde.org>  [04a5e63a1819a929be74c039f72cf89385245374]

	some pfingsten thoughts

	svn path=/trunk/icecream/; revision=548813

2006-06-06  Stephan Kulow  <coolo@kde.org>  [c3ad379c39c7adfd7f0de3d996861cb4223bcbb0]

	prepare an out of source monitor

	svn path=/trunk/icecream/; revision=548713

2006-06-06  Dirk Mueller  <mueller@kde.org>  [8eb331ae52b6374bd85b661e93319dbba17de65f]

	add missing file

	svn path=/trunk/icecream/; revision=548686

2006-06-05  Dirk Mueller  <mueller@kde.org>  [694154c5845239af8df3da6460f6eb25714443ba]

	never exit() or return from fork()'ed code paths, always use _exit()

	svn path=/trunk/icecream/; revision=548560

2006-06-05  Dirk Mueller  <mueller@kde.org>  [54e33810b84b05dfe7ee6732b1790e61ebd0a61e]

	some extra extern's just for fun

	svn path=/trunk/icecream/; revision=548559

2006-06-05  Dirk Mueller  <mueller@kde.org>  [87f20b9be12efd4f6527afa230dbca06b35d46ca]

	- always check for error cases correctly - remove unnecessary system() usage - never use exit() or return from fork'ed code paths, always use _exit()

	svn path=/trunk/icecream/; revision=548558

2006-06-05  Dirk Mueller  <mueller@kde.org>  [94b3179bfc95df4f405f50c84b4bc94cb2574975]

	always handle aborted syscalls

	svn path=/trunk/icecream/; revision=548555

2006-06-05  Dirk Mueller  <mueller@kde.org>  [311277999e24a7e6c1f1028821b982adcdcee150]

	real type correctness

	svn path=/trunk/icecream/; revision=548553

2006-06-05  Dirk Mueller  <mueller@kde.org>  [cb17669c8bb656600d3489ad22bae146311f3987]

	Qt4 port. Not fully functional yet. TODO: cmake port.

	svn path=/trunk/icecream/; revision=548552

2006-06-05  Dirk Mueller  <mueller@kde.org>  [3fee41e1c2ab1d88d29ea98f724dabe43cd21971]

	upgrade to a version that isn't 3 years old

	svn path=/trunk/icecream/; revision=548551

2006-06-05  Dirk Mueller  <mueller@kde.org>  [6ff1b95cf765d745e612203837c6940260369eff]

	make it static

	svn path=/trunk/icecream/; revision=548550

2006-06-05  Stephan Kulow  <coolo@kde.org>  [4a4324d4ad477b1dba9643d78c67733cd10d7ad5]

	type correctness

	svn path=/trunk/icecream/; revision=548304

2006-06-05  Stephan Kulow  <coolo@kde.org>  [aeb73805ef7190c2aa4ad8646e42a6cbb6446cd0]

	don't make non-existant cross compilers fatal, but just use the other environments in ICECC_VERSION

	svn path=/trunk/icecream/; revision=548303

2006-06-01  Dirk Mueller  <mueller@kde.org>  [68acee459dfcf9596ebae35f4591e903d72250bb]

	use the package version number

	svn path=/trunk/icecream/; revision=547244

2006-06-01  Dirk Mueller  <mueller@kde.org>  [e315e9e2333d8be4fab3ab51bc662fea9f6e988f]

	its 0.7 now

	svn path=/trunk/icecream/; revision=547243

2006-06-01  Stephan Kulow  <coolo@kde.org>  [7ac11c1a5c2c2bf2751934a6e0d57dd2e7ad67a1]

	found the first bug :)

	svn path=/trunk/icecream/; revision=547210

2006-06-01  Stephan Kulow  <coolo@kde.org>  [0bdbe8bf0514ac3b2fee7a926fc5761bf21a8574]

	0.7.0:         - WARNING: the protocol is not compatible with earlier versions,           old clients will refuse to connect, so update the full farm

	        - protocol reworked to no longer require a client->scheduler
	          connection (the daemon will proxy it all)
	        - all local jobs are now scheduled by the local daemon to make
	          sure multiprocessor machines are handling as many jobs as they have
	          jobs configured (# processors). They used to be "scheduled" by lock
	          file
	        - fixed grave bug that removed all daemon environments when the
	          cache
	          grew over limit
	        - new telnet interface command: internals to output daemon
	          states
	        - stricter error handling to avoid suprises
	        - SIGHUP to daemon and scheduler will reopen the log file to
	          allow logrotate
	        - a restart of the daemon and scheduler won't flush the log
	          file, but append
	          to it
	        - create-env will create .tar.gz now - the client allows
	          environments to be
	          .tar, .tar.bz2 and .tar.gz


	svn path=/trunk/icecream/; revision=547196

2006-05-31  Stephan Kulow  <coolo@kde.org>  [f518ed939eba1b7b461aaa07cf7b7b7ae4b6cdab]

	reviewed some possible lack of error handling

	svn path=/branches/work/icecream/; revision=546991

2006-05-31  Stephan Kulow  <coolo@kde.org>  [ac96a64290ddcbde8cbbb3042fd92a390542a273]

	next issue fixed

	svn path=/branches/work/icecream/; revision=546969

2006-05-31  Stephan Kulow  <coolo@kde.org>  [d0e07ec391bd56dfa773287d694357730447bbad]

	finally took the time to think of a way to reproduce and debug the "environments vanish while in use" problem we face since ages on cache fills. And I found plenty of bugs in it, but now I'm pretty sure it works

	svn path=/branches/work/icecream/; revision=546968

2006-05-31  Stephan Kulow  <coolo@kde.org>  [1e166c12442fab7e01848b1687af0a911a766601]

	this is the way it was meant to be (and now the bug is really gone)

	svn path=/branches/work/icecream/; revision=546857

2006-05-31  Dirk Mueller  <mueller@kde.org>  [43e2ecffbaef9daeb8b1519232688ad17104ab40]

	the amount of copy&paste programming in icecream is amazing

	svn path=/branches/work/icecream/; revision=546850

2006-05-31  Dirk Mueller  <mueller@kde.org>  [8d7339176e4e55f0b6a924b80384f368b8e69011]

	give at least some helpful advice to the user

	svn path=/branches/work/icecream/; revision=546846

2006-05-31  Stephan Kulow  <coolo@kde.org>  [5587ef0a281d12e2501bf0435855e00c9779b7a1]

	the penalty is max

	svn path=/branches/work/icecream/; revision=546840

2006-05-31  Dirk Mueller  <mueller@kde.org>  [01cfa61ac66b8f37291046a5e253264cdac12235]

	more checks for failing syscalls

	svn path=/branches/work/icecream/; revision=546779

2006-05-31  Dirk Mueller  <mueller@kde.org>  [204423616e91ac6ced8008aac9f581dd09567113]

	fix packing of cc1 and cc1plus when non-standard gcc installations are involved. just put them into /usr/bin, the wrappers will find them there after a while of stat'ing.

	svn path=/branches/work/icecream/; revision=546773

2006-05-30  Dirk Mueller  <mueller@kde.org>  [ec0d3addd1e188054e8137f77b007fd99d018e30]

	fix md5sum calculation

	svn path=/branches/work/icecream/; revision=546767

2006-05-30  Dirk Mueller  <mueller@kde.org>  [b107817942706c4979270392cf4213101bb83d51]

	don't leak our tcp filedescriptors to the daemon clients

	svn path=/branches/work/icecream/; revision=546764

2006-05-30  Michael Matz  <matz@kde.org>  [bdafe12e64bb7b659b4eabba3f713220163cc9d3]

	Get rid of pidmap.

	svn path=/branches/work/icecream/; revision=546702

2006-05-30  Michael Matz  <matz@kde.org>  [f193d19a959516e5faf7b61e8f1b6e505f5af114]

	More verbose error message.

	svn path=/branches/work/icecream/; revision=546696

2006-05-30  Michael Matz  <matz@kde.org>  [c23e7e3a42697ff476010e24fdeb04b2e1eb6952]

	I don't think we can send non-blocking here.

	svn path=/branches/work/icecream/; revision=546672

2006-05-30  Stephan Kulow  <coolo@kde.org>  [67d55ffb01afd4f0efcbd15b61873eff14245aae]

	take the real one

	svn path=/branches/work/icecream/; revision=546667

2006-05-30  Stephan Kulow  <coolo@kde.org>  [736a2e7ab6038409c8c21f7b364f3e0d62b97364]

	init script with reload and logrotate

	svn path=/branches/work/icecream/; revision=546646

2006-05-30  Stephan Kulow  <coolo@kde.org>  [dd0c14c641e6e191ea33deeaeeb09662040660ee]

	- fix Dirk's security fixes (he will enhance it even more - good luck!) - support .tar and .tar.gz as we found out bunzip is expensive

	svn path=/branches/work/icecream/; revision=546639

2006-05-30  Dirk Mueller  <mueller@kde.org>  [4c78e41eb5bd77c1f73603902ddc8e615214856a]

	fix various security issues.

	svn path=/branches/work/icecream/; revision=546617

2006-05-30  Dirk Mueller  <mueller@kde.org>  [d3db39b71ee6e0957ff93f2513be65703c413488]

	strip the files

	svn path=/branches/work/icecream/; revision=546616

2006-05-30  Michael Matz  <matz@kde.org>  [57872c62f319e954d2bc4a7658f49f2b52b557ea]

	JobDoneMsg now knows from which daemon it comes (server or submitter), so we can be strict in scheduler's consistency checking.

	svn path=/branches/work/icecream/; revision=546596

2006-05-30  Stephan Kulow  <coolo@kde.org>  [27ad140a25b6815b29dffb8acd6fbc9d9fd245ec]

	easier to check

	svn path=/branches/work/icecream/; revision=546581

2006-05-30  Stephan Kulow  <coolo@kde.org>  [6a157bf85179f9cc6dca3cb725f843a798b159b2]

	major rework of the daemon data structure

	svn path=/branches/work/icecream/; revision=546575

2006-05-29  Stephan Kulow  <coolo@kde.org>  [1de18afcf8bfd7320a3da6b3cfcc58e9e84bb9ae]

	fix crash

	svn path=/branches/work/icecream/; revision=546347

2006-05-29  Stephan Kulow  <coolo@kde.org>  [e198a409e08b71b230038af323aed719037b0893]

	another possibility

	svn path=/branches/work/icecream/; revision=546338

2006-05-29  Stephan Kulow  <coolo@kde.org>  [d0b9d4aaed47e87b8f519b5688181d9b288ad750]

	perhaps this avoid the null byte mess I see

	svn path=/branches/work/icecream/; revision=546333

2006-05-29  Stephan Kulow  <coolo@kde.org>  [dd74f62cc0c1c1dca3aadc5fbf9043436fc9c853]

	next try

	svn path=/branches/work/icecream/; revision=546310

2006-05-29  Stephan Kulow  <coolo@kde.org>  [d2f05d46c56aa8444ce3104eb3b699911447738c]

	current_kids is too fragil

	svn path=/branches/work/icecream/; revision=546307

2006-05-29  Stephan Kulow  <coolo@kde.org>  [48bdab7f0b606b50088ab9ce8fe5b78fe552b708]

	local jobs are handled differently now

	svn path=/branches/work/icecream/; revision=546273

2006-05-29  Stephan Kulow  <coolo@kde.org>  [3a6da488cbbc577459819a21061f16815dd3aba8]

	left over

	svn path=/branches/work/icecream/; revision=546257

2006-05-29  Stephan Kulow  <coolo@kde.org>  [dd26fd36274d46dcc6e7150161198b4992c5d71f]

	fix memory management

	svn path=/branches/work/icecream/; revision=546256

2006-05-29  Stephan Kulow  <coolo@kde.org>  [a66bc5dffc4e44f82e3610c2b491fa453f856533]

	how to crash your application using debug output

	svn path=/branches/work/icecream/; revision=546200

2006-05-29  Stephan Kulow  <coolo@kde.org>  [d1d6e403e4c9121a54e28425a5c59dd7ecf5536a]

	I don't like iterators

	svn path=/branches/work/icecream/; revision=546197

2006-05-29  Stephan Kulow  <coolo@kde.org>  [21fa964986d432928558304ddde4c54e18f4a1dd]

	crossing fingers

	svn path=/branches/work/icecream/; revision=546108

2006-05-29  Stephan Kulow  <coolo@kde.org>  [ec7a82d556ee37b821b84e7e7b04a7911a16de81]

	filling one gap of leaving stale jobs (yet another map)

	svn path=/branches/work/icecream/; revision=546107

2006-05-29  Stephan Kulow  <coolo@kde.org>  [0e3283cb83b8a37c5da5690245cd4c0ad303abce]

	avoid access to it

	svn path=/branches/work/icecream/; revision=546092

2006-05-29  Stephan Kulow  <coolo@kde.org>  [a579420f080c1e7e5fc529337cf120151b7210e2]

	can't hurt

	svn path=/branches/work/icecream/; revision=546090

2006-05-28  Stephan Kulow  <coolo@kde.org>  [80c7c96fa49b39a1acb6fc269796b6c62c16c837]

	another grr

	svn path=/branches/work/icecream/; revision=546027

2006-05-28  Stephan Kulow  <coolo@kde.org>  [1a5da5a579f06f7003b5d64b3da85c9e229079b5]

	more debug output hunting the problem

	svn path=/branches/work/icecream/; revision=546018

2006-05-28  Stephan Kulow  <coolo@kde.org>  [6db8605ac23c60ca70bc7701ed388ac39958313b]

	the scheduler should know if we forget about something

	svn path=/branches/work/icecream/; revision=545986

2006-05-28  Stephan Kulow  <coolo@kde.org>  [8051962ddbfdf41b0c5364bddd2804b2a4f85478]

	don't eat /.

	svn path=/branches/work/icecream/; revision=545952

2006-05-28  Stephan Kulow  <coolo@kde.org>  [835857f80fefc6c30fc213ad6ab6384a8629b2fc]

	make sure we don't have stale entries in requests

	svn path=/branches/work/icecream/; revision=545924

2006-05-28  Stephan Kulow  <coolo@kde.org>  [b86fa05ed933c138c5345b286e0a637195e7d88a]

	noise--

	svn path=/branches/work/icecream/; revision=545836

2006-05-28  Stephan Kulow  <coolo@kde.org>  [9417d11e639cbee935343738a87208101193bb58]

	make logrotate possible

	svn path=/branches/work/icecream/; revision=545706

2006-05-27  Stephan Kulow  <coolo@kde.org>  [e8b2f07c29835b4b942c13b6fc1f3cdd6ed13984]

	test rpms

	svn path=/branches/work/icecream/; revision=545236

2006-05-26  Stephan Kulow  <coolo@kde.org>  [d4f1750e6199d1bd4bbd4773331f83308518de34]

	more debug

	svn path=/branches/work/icecream/; revision=545082

2006-05-26  Stephan Kulow  <coolo@kde.org>  [5c2f0723e4179c4aed21c6f983f92be83d919a56]

	eek

	svn path=/branches/work/icecream/; revision=545081

2006-05-26  Stephan Kulow  <coolo@kde.org>  [1e09ea24e5f5976df7b18b76cd1d1a35f89a3d1d]

	that explains the endless loop I'm seeing

	svn path=/branches/work/icecream/; revision=545080

2006-05-26  Stephan Kulow  <coolo@kde.org>  [cb9212ad1cd8fd3802780305c029a003266c3a45]

	trying to get some debug output

	svn path=/branches/work/icecream/; revision=545072

2006-05-26  Stephan Kulow  <coolo@kde.org>  [c9f3f4a385d7a691ed803b19df75cb3aea0afc65]

	adding one telnet command: internals

	svn path=/branches/work/icecream/; revision=545059

2006-05-26  Stephan Kulow  <coolo@kde.org>  [443305c2bb0fdddc15cafe4f7aef40682d630b6a]

	don't crash if the protcol changed slightly

	svn path=/branches/work/icecream/; revision=545055

2006-05-26  Stephan Kulow  <coolo@kde.org>  [28076c25a50b92aae959672429abe0ea26f61f64]

	build on non-SUSE rpm

	svn path=/branches/work/icecream/; revision=544941

2006-05-26  Stephan Kulow  <coolo@kde.org>  [f3cbf59347d489c779131bcc3247c7cedaf9a70c]

	reminder

	svn path=/branches/work/icecream/; revision=544882

2006-05-25  André Wöbbeking  <woebbeking@kde.org>  [1a1f5e72d3d9a85cd92fff879ff15beb567f759d]

	create links for cc and c++ too.

	svn path=/trunk/icecream/; revision=544552

2006-05-25  Stephan Kulow  <coolo@kde.org>  [5e3259df4332c75201e85dfd6ba1027f87d20b33]

	support for $CC and $CXX to overwrite the compiler you want to use (by Adam Kemp)

	svn path=/branches/work/icecream/; revision=544515

2006-05-24  Stephan Kulow  <coolo@kde.org>  [538a0a4d9879d467d8fc2c8032f2b7d65f24b09e]

	my fault

	svn path=/branches/work/icecream/; revision=544410

2006-05-24  Stephan Kulow  <coolo@kde.org>  [ff2919235de18af5cf9b9199a5c8fcefea633531]

	don't leave stale link jobs

	svn path=/branches/work/icecream/; revision=544391

2006-05-24  Stephan Kulow  <coolo@kde.org>  [57217e040b5d0ca0f310e8fd5a9e61bf673f034d]

	wrong message

	svn path=/branches/work/icecream/; revision=544335

2006-05-24  Stephan Kulow  <coolo@kde.org>  [acf7ab352afb6b59ed9f983f26e7f7eccdecb09e]

	trying to tell the monitor about local jobs

	svn path=/branches/work/icecream/; revision=544284

2006-05-23  Stephan Kulow  <coolo@kde.org>  [f48826d1aa293db8057d82fe55acc0dcbf9f9d21]

	make sure the self compiling clients are taken into account

	svn path=/branches/work/icecream/; revision=544170

2006-05-23  Stephan Kulow  <coolo@kde.org>  [263e5d7fd5fa8d8956502701aeb689eb85d0537f]

	avoid file locking in not so bad errors

	svn path=/branches/work/icecream/; revision=544089

2006-05-23  Michael Matz  <matz@kde.org>  [75889334b86938f5d01bc27c039315499f96949f]

	Now the daemon is the central load balancer for local jobs.  Client notifies daemon that a local job should be started and waits for the daemon to agree on that (40 minutes currently).  If anything breaks it falls back to the old method.

	svn path=/branches/work/icecream/; revision=543875

2006-05-22  Michael Matz  <matz@kde.org>  [9004e12a340491d337d985a0f27dc6f3566a90a9]

	Let's not use a random glibc when we are user.  The chances of it not working at all because of mismatches in the dynamic linker are quite high.

	svn path=/branches/work/icecream/; revision=543825

2006-05-22  Michael Matz  <matz@kde.org>  [f1dc98d9b1973a1ef7e862d6307b74e1618cfed4]

	Don't delete something which belongs to the caller (fixes a valgrind error and a segfault).  Don't hide a variable named 'ret' with a new decl of the same name.  Fixes the reconnect to scheduler after each job.

	svn path=/branches/work/icecream/; revision=543741

2006-05-22  Michael Matz  <matz@kde.org>  [238d9170a28cf46e6a49dfb99d81b8f9c31a1da5]

	Preserve modtime and other fileattributes, so that the env file doesn't depend on the time it was created.

	svn path=/branches/work/icecream/; revision=543732

2006-05-22  Michael Matz  <matz@kde.org>  [823ab32aac220c9375bd96903f3044006a4376d3]

	switches need breaks

	svn path=/branches/work/icecream/; revision=543720

2006-05-22  Michael Matz  <matz@kde.org>  [9834a7ba7246d12733f8d19734cf6cd37a6cb72e]

	And here its now also the local daemon, not the scheduler.

	svn path=/branches/work/icecream/; revision=543707

2006-05-22  Michael Matz  <matz@kde.org>  [365d3a6173536af2dd32af4733a674a986d8260d]

	Sometimes gotos are okay.  And it's called local_daemon now, not scheduler.

	svn path=/branches/work/icecream/; revision=543705

2006-05-22  Michael Matz  <matz@kde.org>  [8140a0d501d73a345c1d3debc6e00d2bbd470db2]

	Testing compilation is a good idea.

	svn path=/branches/work/icecream/; revision=543697

2006-05-22  Michael Matz  <matz@kde.org>  [543530a35b0c19e8a23c72b598160fdcd0f6cd9d]

	Don't SEGV.

	svn path=/branches/work/icecream/; revision=543674

2006-05-21  Stephan Kulow  <coolo@kde.org>  [5e2effb6db2fa42e1ba4c9842d1ebc878d749034]

	too much icecream after dinner is evil

	svn path=/branches/work/icecream/; revision=543354

2006-05-21  Stephan Kulow  <coolo@kde.org>  [444d315b68b24a886d4f8a6c4fd0a0662033d546]

	fix own jobs

	svn path=/branches/work/icecream/; revision=543282

2006-05-21  Stephan Kulow  <coolo@kde.org>  [d4fb32a14243f98e4880d85d319534d8a092afe3]

	some more work on little scheduler

	svn path=/branches/work/icecream/; revision=543147

2006-05-21  Stephan Kulow  <coolo@kde.org>  [e934ea7d5cb6d86e2beea1259115803510065f75]

	first steps to make the daemon handle several clients at once

	svn path=/branches/work/icecream/; revision=543083

2006-05-20  Stephan Kulow  <coolo@kde.org>  [9f99dc25475b9339a6078e39c1fd40a42b243bc2]

	more refactoring

	svn path=/branches/work/icecream/; revision=542982

2006-05-20  Stephan Kulow  <coolo@kde.org>  [e506b8dc9082a72ede8fb87a8bc54d6f2d83ab0a]

	in the progress of redefining the protocol

	svn path=/branches/work/icecream/; revision=542973

2006-05-19  Stephan Kulow  <coolo@kde.org>  [e1bfb666e1f1d38211dd283cf67740b0dcb0fde7]

	it takes a two year old to figure self references, so how can a shell script know

	svn path=/trunk/icecream/; revision=542559

2006-05-19  Stephan Kulow  <coolo@kde.org>  [7d2dddd14772e42f41b38442e057fc6cb86e364d]

	fix sed

	svn path=/trunk/icecream/; revision=542558

2006-05-19  Stephan Kulow  <coolo@kde.org>  [93cdc55266918b9a55e5e0ae9ee52f75126b8780]

	trying to package man pages without additional requirements

	svn path=/trunk/icecream/; revision=542555

2006-05-19  Stephan Kulow  <coolo@kde.org>  [440b805037f1ddda0af38d39a827ba47f5c5be8a]

	syncing

	svn path=/trunk/icecream/; revision=542551

2006-05-01  Jonathan Riddell  <jr@jriddell.org>  [5aaa9b7795c31dde9f7779f19a3c204f8fa50354]

	Add GPL licence, as approved by Kulow

	svn path=/trunk/icecream/; revision=536366

2006-04-29  André Wöbbeking  <woebbeking@kde.org>  [dede10abd8082c9656a4781dfb3feae8aa1c6d30]

	Wow, it still builds :)

	svn path=/trunk/icecream/; revision=535548

2006-03-17  Dirk Mueller  <mueller@kde.org>  [0730a6301fb0c0daf3117464c62b4912a9d997ec]

	fix segmentation fault upon "gcc -o"

	svn path=/trunk/icecream/; revision=519567

2006-03-17  Dirk Mueller  <mueller@kde.org>  [2b91c72de2bc22a9627c1e8248dccbc41db711ac]

	obsolete

	svn path=/trunk/icecream/; revision=519565

2006-03-17  Dirk Mueller  <mueller@kde.org>  [bcfeea2029327e79f18bbbc850d420233560ea1d]

	moved README

	svn path=/trunk/icecream/; revision=519564

2006-03-17  Dirk Mueller  <mueller@kde.org>  [46ed2b06e8ff09acde5dab136240cbdef9b20c97]

	so much for atomic commits ;(

	svn path=/trunk/icecream/; revision=519562

2006-03-17  Dirk Mueller  <mueller@kde.org>  [f9939900eda402b48a18544308fd1e38ab07487f]

	more restructuring

	svn path=/trunk/icecream/; revision=519560

2006-03-17  Dirk Mueller  <mueller@kde.org>  [9ddae62506d472ff381f6e338da81a9afca035fb]

	trying to get something that builds

	svn path=/trunk/icecream/; revision=519557

2006-01-26  Jan Holesovsky  <kendy@suse.cz>  [1296a17458e000d71e9b4b6bffc3ab36b59aff66]

	Improve out of memory detection by checking stderr against "virtual memory exhausted: Cannot allocate memory" message.

	svn path=/trunk/kdenonbeta/icecream/; revision=502547

2006-01-25  Dirk Mueller  <mueller@kde.org>  [f6dd080054190a93d9942f88f9207f1c3bbf0ecf]

	-fdump-tree also have side effects. compile locally then.

	svn path=/trunk/kdenonbeta/icecream/; revision=502327

2006-01-16  Stephan Kulow  <coolo@kde.org>  [1799fe7c9ece42b631c11473cce2026e9aae7b40]

	more debug

	svn path=/trunk/kdenonbeta/icecream/; revision=498780

2006-01-15  Stephan Kulow  <coolo@kde.org>  [98186f8f02f069b2f743141e7122453f5d613a5a]

	some more debug profiling

	svn path=/trunk/kdenonbeta/icecream/; revision=498289

2006-01-14  Stephan Kulow  <coolo@kde.org>  [04fb8b4cbcff0f78793bf518c4b4c3c0f37835d7]

	try hard not to erase currently uesd environments - even if they exceed cache size

	svn path=/trunk/kdenonbeta/icecream/; revision=498079

2006-01-14  Stephan Kulow  <coolo@kde.org>  [5d73494a95e2f77e7fbf1b47318522e66946a346]

	optimizing debug output for big throughput :)

	svn path=/trunk/kdenonbeta/icecream/; revision=498066

2006-01-10  Stephan Kulow  <coolo@kde.org>  [47a53414afab5c2fa77e1e16b1d83e227a4c30f2]

	and now the bug free version

	svn path=/trunk/kdenonbeta/icecream/; revision=496475

2006-01-10  Stephan Kulow  <coolo@kde.org>  [5c7803ffa216fde4ccf6c1cea2c96d270170b905]

	it's still not enough for them

	svn path=/trunk/kdenonbeta/icecream/; revision=496473

2006-01-10  Stephan Kulow  <coolo@kde.org>  [b30642f54b0129c46be0c45f9de7ebef33c3978b]

	we decided we should do this more sane

	svn path=/trunk/kdenonbeta/icecream/; revision=496458

2005-12-09  Stephan Kulow  <coolo@kde.org>  [d182a1f453145abc2a9c934076bfd27da0f58898]

	hopefully catch the last bothering issue: no more pending DONE jobs (that you only see if you have really lots of compile jobs) CCMAIL: matz@suse.de

	svn path=/trunk/kdenonbeta/icecream/; revision=487155

2005-12-09  Stephan Kulow  <coolo@kde.org>  [8707dfc46d0e968fbc40f307879a9bac1f3d08ed]

	ease debugging

	svn path=/trunk/kdenonbeta/icecream/; revision=486992

2005-12-09  Stephan Kulow  <coolo@kde.org>  [6ef0923334577f7f8fe58443ce5cbeb411fa0061]

	my first attempt to the fix the "s390 lockdown" didn't work, try something more expensive but more correct

	svn path=/trunk/kdenonbeta/icecream/; revision=486911

2005-11-15  Stephan Kulow  <coolo@kde.org>  [6f04284d56d706e8ac54c83a62fab1c5f029045e]

	some profiling and trying to fix one huge problem. Not sure I managed to though ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=480542

2005-11-15  Stephan Kulow  <coolo@kde.org>  [b97221e85ed2a1cadf110825930d42e4446be28e]

	use int32 everwhere. No idea how long I have this patch applied without actually commiting

	svn path=/trunk/kdenonbeta/icecream/; revision=480541

2005-10-13  Stephan Kulow  <coolo@kde.org>  [de21920f15c287efaef9fe5e867e363149e201dd]

	copy over the latest spec file

	svn path=/trunk/kdenonbeta/icecream/; revision=470188

2005-10-03  Luboš Luňák  <l.lunak@kde.org>  [f6e79f62d43bd7575e77c6b2fd11ea6932c949f9]

	No division by zero with -m 0. I hope just this is ok. CCMAIL: coolo@kde.org

	svn path=/trunk/kdenonbeta/icecream/; revision=466829

2005-09-19  André Wöbbeking  <woebbeking@kde.org>  [e65639b6ce0fc7c05cf2a5a11b9abeb345df4015]

	create admin dir via Makefile.cvs

	svn path=/trunk/kdenonbeta/icecream/; revision=462082

2005-09-19  André Wöbbeking  <woebbeking@kde.org>  [7c14de46a04c2b954cc783abc3bc552c60c65776]

	admin must be in . not ..

	svn path=/trunk/kdenonbeta/icecream/; revision=462073

2005-09-02  David Faure  <faure@kde.org>  [5c70a6268b5bd23e10ad7e44505da2310fef00dd]

	SVNSILENT typo

	svn path=/trunk/kdenonbeta/icecream/; revision=456319

2005-09-02  Grzegorz Jaskiewicz  <gj@pointblue.com.pl>  [d46ca21fb35c17f717f235853db2484d6053b70f]

	get the comment correctly

	svn path=/trunk/kdenonbeta/icecream/; revision=456310

2005-09-02  Stephan Kulow  <coolo@kde.org>  [6aa0be1e608a6498d2ccc6ca63b4867a4eea2b1e]

	add it to the error message

	svn path=/trunk/kdenonbeta/icecream/; revision=456285

2005-09-02  Grzegorz Jaskiewicz  <gj@pointblue.com.pl>  [bba8362eb68d0227b580dfdb406ad80d2a8fa849]

	it's upper case

	svn path=/trunk/kdenonbeta/icecream/; revision=456268

2005-09-02  Grzegorz Jaskiewicz  <gj@pointblue.com.pl>  [0ba1ac2bf8c3e684b45656ddf0d236d8d0bca7e3]

	export ICECC=no  will switch on local job. I got coloo's blessing

	svn path=/trunk/kdenonbeta/icecream/; revision=456267

2005-09-02  Grzegorz Jaskiewicz  <gj@pointblue.com.pl>  [064f0c07d16eb80f56fc1d181100c1d889e93c8f]

	describe new option in iceccd

	svn path=/trunk/kdenonbeta/icecream/; revision=456259

2005-09-02  Grzegorz Jaskiewicz  <gj@pointblue.com.pl>  [9b7152ca616f9daf478181c141496ed0d4e04ae8]

	-N allows you to change name _on the_ network

	svn path=/trunk/kdenonbeta/icecream/; revision=456253

2005-09-01  Jonathan Riddell  <jr@jriddell.org>  [c7365287666bc430fbb315ef958bc0a06360675b]

	Add back line, with a comment

	svn path=/trunk/kdenonbeta/icecream/; revision=455989

2005-09-01  Jonathan Riddell  <jr@jriddell.org>  [5cd509a47919955e7a660fad9650e0b9afb43682]

	Remove unnecessary line to fix compile

	svn path=/trunk/kdenonbeta/icecream/; revision=455821

2005-07-20  Michael Matz  <matz@kde.org>  [9e90265e3d6c086d056351c36496c4cd7994e360]

	This was happening on my machine.

	svn path=/trunk/kdenonbeta/icecream/; revision=436930

2005-07-19  Stephan Kulow  <coolo@kde.org>  [9cd1f626f422ed95ce48c5f5be21353adb880283]

	one idea not obvious ;)

	svn path=/trunk/kdenonbeta/icecream/; revision=436329

2005-05-27  Stephan Kulow  <coolo@kde.org>  [75ef806db9839a65fa77069f1547190df733d528]

	more todo

	svn path=/trunk/kdenonbeta/icecream/; revision=418822

2005-04-25  Cornelius Schumacher  <schumacher@kde.org>  [0bd6625b624e53732baf338ab610af0f66b129f4]

	Add first version of icecream man pages.

	svn path=/trunk/kdenonbeta/icecream/; revision=407772

2005-04-25  Stephan Kulow  <coolo@kde.org>  [5d6c48f7a88170d299aa6a8f95e5a296dfc465e4]

	make it clear where the error comes from

	svn path=/trunk/kdenonbeta/icecream/; revision=407720

2005-04-13  Stephan Kulow  <coolo@kde.org>  [ad5bbb0b71e489ecf1e76cdb3312352b782f6c02]

	2GB are just too much for a cache - try to keep the cache size below 100MB

	svn path=/trunk/kdenonbeta/icecream/; revision=405292

2005-03-02  David Faure  <faure@kde.org>  [e3a0c527d2a754cb7562291735bbffc14f1c9589]

	Don't stop at a tiny permission problem.

	svn path=/trunk/kdenonbeta/icecream/; revision=394447

2005-03-02  David Faure  <faure@kde.org>  [b837e6c20491db5308dd3dc842f0054059b5096e]

	Actually this FreeBSD code seems to work on Mac OS :)

	A configure check for the sysctlfoobar function might not be enough though,
	since by default the code should probably use /proc...

	svn path=/trunk/kdenonbeta/icecream/; revision=394253

2005-03-02  David Faure  <faure@kde.org>  [1b7e3d05aa0a68d4f505048047e7468e0e3b8f83]

	Compilation fixes on Mac OSX, but now I hit the /proc error message - is getting the load of the machine really necessary? :/

	svn path=/trunk/kdenonbeta/icecream/; revision=394249

2005-03-02  David Faure  <faure@kde.org>  [6a06373327bb05e4a24c7be1a3e42de8878e7270]

	You call this a configure check?

	svn path=/trunk/kdenonbeta/icecream/; revision=394242

2005-02-22  Stephan Kulow  <coolo@kde.org>  [3c4320e9eeec5fa4f5b391d49e986091481d573b]

	after 24 million jobs with the current scheduler, I think I can say this TODO is no more CCMAIL: matz@suse.de

	svn path=/trunk/kdenonbeta/icecream/; revision=392167

2005-02-22  Stephan Kulow  <coolo@kde.org>  [e200a8a8a3ec9dcfe91ddaf70a433b897181fb5f]

	no more LD_ASSUME_KERNEL hacks. Assume specific libraries are in subdirs and the parent directory has the more generic one that runs on more platforms.

	svn path=/trunk/kdenonbeta/icecream/; revision=392141

2005-02-17  Stephan Kulow  <coolo@kde.org>  [4ccf5601bc04eba53f95d1d0111b3e77e1cbfc0a]

	off by one - it was supposed to say: if the machine has more than 4 CPUs, we only share the mem with 3 of them. Now we did the exact opposite: even used only 25% of the mem on single processor machines. Interesting no-one noticed so far (before bearingpoint.com)

	svn path=/trunk/kdenonbeta/icecream/; revision=390287

2005-02-17  Stephan Kulow  <coolo@kde.org>  [4fb95c8c3cf94ad0edfc9b077e74d398cc7cefaa]

	if no ticks happened assume the machine just doesn't count idle (virtual machine and such). Patch by Andreas HÃ¶fler at bearingpoint.com

	svn path=/trunk/kdenonbeta/icecream/; revision=390195

2005-02-14  Holger Freyther  <holger+kde@freyther.de>  [b8641ad307cf1ab316a54281ce70f184c348c8f5]

	Support for native-to-target cross compilers. These compilers run on the host but produce code for the target architecture (e.g ARM cores).

	One can select the precompiler and local compiler by setting ICECC_CC
	and ICECC_CXX. This allows to use both the native and cross compiler
	for distributed compiling at once.

	svn path=/trunk/kdenonbeta/icecream/; revision=389360

2005-01-25  Stephan Kulow  <coolo@kde.org>  [49d1dc803aedf8a6d340d86040b33fa059b9b2f9]

	gcc got a bit strange command line parser. It first parses for -O arguments and then later for other options. The consequence is that gcc -I -O2 -c t.c optimizes with gcc but not icecream. So I compile always when -O* is used as second argument CCMAIL: matz@suse.de

	svn path=/trunk/kdenonbeta/icecream/; revision=382310

2005-01-17  Stephan Kulow  <coolo@kde.org>  [40db211c63849fd650c0aac48314b17984aeacaa]

	don't f*** the system just because the kernel's Makefiles say so (no idea why they think gcc -o /dev/null doesn't do anything to that file)

	svn path=/trunk/kdenonbeta/icecream/; revision=379369

2005-01-13  Stephan Kulow  <coolo@kde.org>  [b5d31ffdd22e76c2303993e1407f26956988eae3]

	they say gcc4 has no specs file anymore

	svn path=/trunk/kdenonbeta/icecream/; revision=378092

2005-01-05  Stephan Kulow  <coolo@kde.org>  [7bcb46b4650907e4956836b71d9f7c07e6db9610]

	I guess the kernel is fixed by now

	svn path=/trunk/kdenonbeta/icecream/; revision=375730

2004-12-31  André Wöbbeking  <woebbeking@kde.org>  [4a6fcf7087a0f007ce24c904e267281c55d9b556]

	don't rename create-env as icecc uses this name

	svn path=/trunk/kdenonbeta/icecream/; revision=374458

2004-12-31  André Wöbbeking  <woebbeking@kde.org>  [42c5f913766faa4070bb0cfa33c835079e83066c]

	tabs instead of spaces

	svn path=/trunk/kdenonbeta/icecream/; revision=374456

2004-12-31  André Wöbbeking  <woebbeking@kde.org>  [2762fb3332e7956edfb15954d74cca5a0bc97d1f]

	- it's "false" and not "no" - create user icecc if it doesn't exist

	svn path=/trunk/kdenonbeta/icecream/; revision=374454

2004-12-23  André Wöbbeking  <woebbeking@kde.org>  [97dce31f150c689ac29411f9b7c5c6eb612df15c]

	scheduler is in /usr/sbin now.

	svn path=/trunk/kdenonbeta/icecream/; revision=373007

2004-12-16  André Wöbbeking  <woebbeking@kde.org>  [930f3b0a0b30ebe30b86ddf47b73b5b9083506f0]

	upstream installs the daemon and scheduler to /usr/sbin now

	svn path=/trunk/kdenonbeta/icecream/; revision=371203

2004-12-16  Stephan Kulow  <coolo@kde.org>  [7a4a50ee08ec71620a245a179f5b651a3c1f83a0]

	daemons are in sbin

	svn path=/trunk/kdenonbeta/icecream/; revision=371076

2004-12-14  André Wöbbeking  <woebbeking@kde.org>  [f4c567bacd7c1557c6c74af15f8ca7d07a94e1e0]

	+ icemonui.rc

	svn path=/trunk/kdenonbeta/icecream/; revision=370654

2004-12-09  André Wöbbeking  <woebbeking@kde.org>  [c847909d63b8c0d977c24c7d2e900033f1c97428]

	+ icemon.desktop

	svn path=/trunk/kdenonbeta/icecream/; revision=369511

2004-11-30  Helio Castro  <helio@kde.org>  [a53abd1ba4c21cf71b9ec611389c504b652ba75d]

	Some glibc just use LD_ASSUME_KERNEL < then 2.4.19, not 2.4.20. This cause fault on some old K6 AMD architectures relying on wrong tls libraries

	svn path=/trunk/kdenonbeta/icecream/; revision=367410

2004-11-29  André Wöbbeking  <woebbeking@kde.org>  [9d36c11cf738be1443e04311dd0bf6b740d1bfce]

	install scheduler in /usr/sbin

	svn path=/trunk/kdenonbeta/icecream/; revision=367319

2004-11-27  Adriaan de Groot  <groot@kde.org>  [439e47650a5a900ca4ea7708aeac687f343117bf]

	Make it compile (again) on FreeBSD 5.3-STABLE. I don't know if it _works_ yet (has it ever?), but at least it builds.

	svn path=/trunk/kdenonbeta/icecream/; revision=366750

2004-11-27  André Wöbbeking  <woebbeking@kde.org>  [c5d9c0d26d648146d4e84e50e440f1b75c81e756]

	no non ASCII chars

	svn path=/trunk/kdenonbeta/icecream/; revision=366711

2004-11-27  André Wöbbeking  <woebbeking@kde.org>  [0daa03f9a032cfe57a3a79d404472c9c939f11cd]

	no indep at all

	svn path=/trunk/kdenonbeta/icecream/; revision=366710

2004-11-27  André Wöbbeking  <woebbeking@kde.org>  [47d216dfa73275019778720e22fae8e71564be68]

	nothing for install-indep

	svn path=/trunk/kdenonbeta/icecream/; revision=366695

2004-11-27  André Wöbbeking  <woebbeking@kde.org>  [5a6955f375f1c72c0a2296768ced7cce9346addc]

	fixed some small glitches

	svn path=/trunk/kdenonbeta/icecream/; revision=366684

2004-11-27  André Wöbbeking  <woebbeking@kde.org>  [5b5b8f679f73736f0f65aa997bbd8bd2ff850f5c]

	OK, I don't know what I'm doing here but somehow it works for me. As I don't want to lose these files again (yeah, cvs-clean is nice but not when the files aren't in the repository :-( ) I commit them, and hope that someone will help me polishing them.

	These debian files are inspired by distcc and KDE debian packages.

	CCMAIL: Chris Cheney <ccheney@cheney.cx>, Woebbeking@web.de

	TODO: man pages, documentation, ...

	svn path=/trunk/kdenonbeta/icecream/; revision=366665

2004-11-26  Scott Wheeler  <wheeler@kde.org>  [a8352290c16cee55ae7f2e4574e8903780f8b403]

	build

	svn path=/trunk/kdenonbeta/icecream/; revision=366286

2004-11-18  Stephan Kulow  <coolo@kde.org>  [e01050f05574b28aec4d98b7d5b789808dc32b34]

	ok, $HOME sucks for lock files. First: NFS sucks for locking in general and second: with HOME=/dev/null it's way too easy to screw icecream CCMAIL: schwab@suse.de

	svn path=/trunk/kdenonbeta/icecream/; revision=363947

2004-11-17  David Faure  <faure@kde.org>  [ffc252c147d842ff81dc7761e6f9922c0ff6476f]

	Not very interesting to see [Wed Nov 17 12:41:38 2004] select Interrupted system call [Wed Nov 17 12:41:40 2004] select Interrupted system call [Wed Nov 17 12:41:44 2004] select Interrupted system call [Wed Nov 17 12:41:53 2004] select Interrupted system call

	svn path=/trunk/kdenonbeta/icecream/; revision=363711

2004-11-17  Stephan Kulow  <coolo@kde.org>  [d0e78ca535d0f7acff6392a1f497505ab13b6154]

	don't loop forever on clients that cancel their connection before doing anything

	svn path=/trunk/kdenonbeta/icecream/; revision=363640

2004-11-02  Stephan Kulow  <coolo@kde.org>  [f4d7fd3307a50188aa9d3f67f71a5f7f3f8b67d1]

	ignoring duplicated platforms. As the platform is the key for the transfered environment, this becomes a problem

	svn path=/trunk/kdenonbeta/icecream/; revision=359852

2004-10-18  Stephan Kulow  <coolo@kde.org>  [408d2162384d01c1a6ba652646c4bd6106e6aa8c]

	adding TODO

	svn path=/trunk/kdenonbeta/icecream/; revision=355713

2004-10-13  Stephan Kulow  <coolo@kde.org>  [9f7f871ed445ff7a7033b99aebb59e25e0bc8891]

	ld.so is a bit stupid

	svn path=/trunk/kdenonbeta/icecream/; revision=354234

2004-10-11  Stephan Kulow  <coolo@kde.org>  [ae7de71f774998432a1e255a841830d4016ee3ce]

	make the daemon notice when the client is killed and stop the compilation

	svn path=/trunk/kdenonbeta/icecream/; revision=353716

2004-10-11  Stephan Kulow  <coolo@kde.org>  [ee624a304369ee05383c9dbeadb4d8ff49bc9f73]

	first /var then /var/tmp

	svn path=/trunk/kdenonbeta/icecream/; revision=353715

2004-10-11  Stephan Kulow  <coolo@kde.org>  [a4f67f62b25858f7aaa128b4fa0d53fee46c7b67]

	if a job fails, output the hostname at the end of the error message to help keeping the farm clean

	svn path=/trunk/kdenonbeta/icecream/; revision=353676

2004-10-10  Stephan Kulow  <coolo@kde.org>  [dc74c46b2c6b98f9cd849e501bd60b0664129193]

	gcc 4 is a bit noisy

	svn path=/trunk/kdenonbeta/icecream/; revision=353324

2004-10-01  Helio Castro  <helio@kde.org>  [c0cd6f94f49dabe5aea55ebd239bad2189894e05]

	Change old regexp to match all cases on current nptl glibc

	ldd now outputs ld as /lib/ld-linux.so.xx on current nptl based glibc
	this regexp parse the outputs like:

	ldd /usr/bin/gcc
			linux-gate.so.1 =>  (0xffffe000)
			libc.so.6 => /lib/tls/libc.so.6 (0xb7e81000)
			/lib/ld-linux.so.2 (0xb7fe8000)

	covering both situations ( with => and without )

	svn path=/trunk/kdenonbeta/icecream/; revision=350918

2004-09-22  Stephan Kulow  <coolo@kde.org>  [843a14fc633242458fc15d7522b498c7af308078]

	"Workaround cfg bug in gcc."

	svn path=/trunk/kdenonbeta/icecream/; revision=348394

2004-09-17  Michael Matz  <matz@kde.org>  [99ae6a1151b3f2e64dd1aee96f848cdc6cb2e261]

	Something I noticed.

	svn path=/trunk/kdenonbeta/icecream/; revision=347304

2004-09-17  Michael Matz  <matz@kde.org>  [a4f8ccf942170268e659cfa38fe99acdc8aa81f0]

	Small change.

	svn path=/trunk/kdenonbeta/icecream/; revision=347303

2004-09-17  Michael Matz  <matz@kde.org>  [b547fc10bf192f4d036170d8db846f1857ecebc5]

	Move protocol setup into the general message support, so it can be non-blocking. Also laying around since aKademy, but at least basically tested and works somewhat ;)

	svn path=/trunk/kdenonbeta/icecream/; revision=347302

2004-09-17  Michael Matz  <matz@kde.org>  [2f48f514fc38a21f8fd25ad5787a6e1a79904aae]

	If the client for which we install disconnects, reset the busy_installing flag. Not really tested.  I go on vacation and need to check this in, it's lingering around since aKademy ;-)

	svn path=/trunk/kdenonbeta/icecream/; revision=347301

2004-09-09  Daniel Molkentin  <molkentin@kde.org>  [81e59867a1619a0abd45620aeee39f4599c8c051]

	CVS_SILENT adjust comment

	svn path=/trunk/kdenonbeta/icecream/; revision=345180

2004-09-06  Stephan Kulow  <coolo@kde.org>  [3acaa3d8a0e2e1eda019fe6d8337d4c3dd0c9114]

	scons is a mean tool: it unsets all kind of environment variables including $PATH, $HOME and $ICECC_VERSION - trying to cope with that

	svn path=/trunk/kdenonbeta/icecream/; revision=344316

2004-09-06  Stephan Kulow  <coolo@kde.org>  [2e8f3bee7166c46d9243c62668f392bbccd1a30c]

	fixing the default output name for -S calls

	svn path=/trunk/kdenonbeta/icecream/; revision=344289

2004-09-05  Stephan Kulow  <coolo@kde.org>  [b7d1b284a31bd9c5f102721b4df51c011f16b40a]

	something that crossed my mind

	svn path=/trunk/kdenonbeta/icecream/; revision=344182

2004-09-05  Stephan Kulow  <coolo@kde.org>  [5464ebafa000334f16869a881835961dd7853713]

	Changelogs are quite interesting if you want to figure what happened till last version - and autogenerated Changelogs are cool too

	svn path=/trunk/kdenonbeta/icecream/; revision=344104

2004-09-05  Stephan Kulow  <coolo@kde.org>  [d4882fc4e2d421660993642d338d9926246a6e75]

	don't make up exit codes

	svn path=/trunk/kdenonbeta/icecream/; revision=344099

2004-09-04  Stephan Kulow  <coolo@kde.org>  [2858088325fe9c125f8a5cd1cb74b38144d12d16]

	less debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=343984

2004-09-04  Stephan Kulow  <coolo@kde.org>  [b124101684502c8cea85aa9e7472d7c75b35d123]

	avoid a race between select and wait - loosing data on the road

	svn path=/trunk/kdenonbeta/icecream/; revision=343982

2004-09-04  Stephan Kulow  <coolo@kde.org>  [3320a4cb61c4ff80aa36fab9d892b67781c99fd3]

	tell the scheduler about local jobs in a child proces that is started right away to avoid any kind of delay (there is nothing the client waits on anyway)

	This speeds up calling configure in kdelibs by around 20% in my test system
	Said differently: This makes the icecream overhead for configure go from 50%
	to 11% (for a ~100% for teambuilder)

	svn path=/trunk/kdenonbeta/icecream/; revision=343948

2004-09-04  Stephan Kulow  <coolo@kde.org>  [2c28652d6507584f6eb4facbc8370d8f7c9c3d0c]

	transfer min_flt too and summarize it in the scheduler log so I can figure what memory limits gcc fails on

	svn path=/trunk/kdenonbeta/icecream/; revision=343932

2004-09-04  Stephan Kulow  <coolo@kde.org>  [76db2d309ab16e8ed4f394b458e8b92f77f577f8]

	another error not caused by the user but by the network

	svn path=/trunk/kdenonbeta/icecream/; revision=343869

2004-09-03  Stephan Kulow  <coolo@kde.org>  [4f6e539d09677b0aa2ba7edb6e743c36727f3172]

	one class less to destruct

	svn path=/trunk/kdenonbeta/icecream/; revision=343667

2004-09-02  Stephan Kulow  <coolo@kde.org>  [7fc76aab8bf526cda27e8f76891eb8a876a0b905]

	for whatever reason these unblocking connects generate more problems than they are worth on most parts of the code - so use them only for the parts we need them

	svn path=/trunk/kdenonbeta/icecream/; revision=343434

2004-09-02  Stephan Kulow  <coolo@kde.org>  [ae57d071597b1c22afaad428924b98de6251181e]

	these short time out are causing a lot of trouble. And as soon as the trouble starts, it's getting worse and worse ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=343402

2004-09-01  David Faure  <faure@kde.org>  [cb4b9079cfb9fb31ebbecd278619f59975a8c023]

	More informative than just the assert. The problem was solved by "rm -rf /tmp/icecc-envs" btw.

	svn path=/trunk/kdenonbeta/icecream/; revision=343258

2004-09-01  Stephan Kulow  <coolo@kde.org>  [0fc5a48a31475c489df2135bd5277004e6ba83d6]

	--enable-final rules the world

	svn path=/trunk/kdenonbeta/icecream/; revision=343248

2004-09-01  Stephan Kulow  <coolo@kde.org>  [71cb6c2f60283f45bc7f733b7a12d191c840c92c]

	do not sleep just because we're overloaded

	svn path=/trunk/kdenonbeta/icecream/; revision=343174

2004-09-01  Stephan Kulow  <coolo@kde.org>  [3bc79371e722ca056c635def94e266b42ae64199]

	I think I know now who eats my child pids (never hack in keynotes :) No child pids -> no job done messages

	svn path=/trunk/kdenonbeta/icecream/; revision=343141

2004-08-31  Stephan Kulow  <coolo@kde.org>  [cb2c75423e2f7d0e36029469267ea6f4282e0a71]

	trying to make sense of the log files

	svn path=/trunk/kdenonbeta/icecream/; revision=342998

2004-08-31  Stephan Kulow  <coolo@kde.org>  [eaca5c37a3ec61a99811408416b807124e23ecf5]

	mean, mean regression: don't hang forever (and eat client connections) While I looked at the code I noticed a TODO to do

	svn path=/trunk/kdenonbeta/icecream/; revision=342990

2004-08-31  Stephan Kulow  <coolo@kde.org>  [ff877b9343aebace1ad2c03c34e5880e2762774a]

	* ignore the load of the submitter (it's all his fault) * increase grace interval

	svn path=/trunk/kdenonbeta/icecream/; revision=342908

2004-08-31  Stephan Kulow  <coolo@kde.org>  [67b16444d4169a4904b8bd1bbcc5a8c7d3a7f34b]

	don't use log_error for things caused by the network not by the user

	svn path=/trunk/kdenonbeta/icecream/; revision=342901

2004-08-30  Thomas Capricelli  <orzel@kde.org>  [f6062bdbeb59408e1a337c850f8a84d8a5db2908]

	compile fix

	svn path=/trunk/kdenonbeta/icecream/; revision=342860

2004-08-30  Stephan Kulow  <coolo@kde.org>  [93a01dbdce1777664543ab4202d8ad1cee3769d2]

	prefer servers with fewer load

	svn path=/trunk/kdenonbeta/icecream/; revision=342795

2004-08-30  Stephan Kulow  <coolo@kde.org>  [4be6020c0e9c645d52972f267745ba3953a0a764]

	less debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=342793

2004-08-30  Stephan Kulow  <coolo@kde.org>  [0cf3a035a881d1dba34fb4ec41ea5d42b24474e3]

	try to calculate the load a bit more accurate so we take jobs that run niced in account and only substract our own load.

	svn path=/trunk/kdenonbeta/icecream/; revision=342792

2004-08-30  Stephan Kulow  <coolo@kde.org>  [72de2db9ac14a444ece851228fd5cda2282a4d28]

	don't support this strange -w feature any longer (doesn't work with NFS, etc, etc)

	svn path=/trunk/kdenonbeta/icecream/; revision=342741

2004-08-30  Stephan Kulow  <coolo@kde.org>  [8acf45f0790055e83a5ab1e5bfe566e7dd475d1d]

	if the client exited, we give the job a different state. I see lately the effect, that the daemon misses to send the jobdone message, so this will help to indicate the problem

	svn path=/trunk/kdenonbeta/icecream/; revision=342727

2004-08-30  Stephan Kulow  <coolo@kde.org>  [574a2097a9ac36b77445b19b708814314c18709b]

	put less output in the default debug

	svn path=/trunk/kdenonbeta/icecream/; revision=342723

2004-08-30  Stephan Kulow  <coolo@kde.org>  [3215fdab407836bc993522e83828800123c6ad1c]

	use log_perror everywhere

	svn path=/trunk/kdenonbeta/icecream/; revision=342697

2004-08-30  Stephan Kulow  <coolo@kde.org>  [fdddf93ae0fc503280aa695fbbdc6a6b054abc5b]

	fixing comments

	svn path=/trunk/kdenonbeta/icecream/; revision=342684

2004-08-30  Stephan Kulow  <coolo@kde.org>  [121cbca0721cbefb836a343b6ad3ff56375f3113]

	the daemon already did a DNS lookup, so spare this for the client and return the IP right away

	svn path=/trunk/kdenonbeta/icecream/; revision=342671

2004-08-30  Stephan Kulow  <coolo@kde.org>  [d81411053bb1105b2870b167e0c05eb6dc57edef]

	before I forget

	svn path=/trunk/kdenonbeta/icecream/; revision=342670

2004-08-30  Stephan Kulow  <coolo@kde.org>  [6497c881e2543d227bc5565dd40783a86826b34b]

	tricky. If you make -j, it goes in the client dir to create icecc from there while another make is busy doing it from the toplevel -> ugly file corruptions

	svn path=/trunk/kdenonbeta/icecream/; revision=342665

2004-08-29  Stephan Kulow  <coolo@kde.org>  [8fdba51b555aa7b20a169a2c60895e8b76a40f13]

	really remove debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=342583

2004-08-29  Stephan Kulow  <coolo@kde.org>  [394a8405ed17441cddf9233b0240f94c6ab26077]

	removing debug output as I verified the 10s timeout works

	svn path=/trunk/kdenonbeta/icecream/; revision=342582

2004-08-29  Stephan Kulow  <coolo@kde.org>  [3c35bd8e2fba4671bd975b664b303a4f20148053]

	trying to support shorter time outs in connect

	svn path=/trunk/kdenonbeta/icecream/; revision=342580

2004-08-29  Stephan Kulow  <coolo@kde.org>  [f421c0524cb5837031b8a50fe24d1b4828471d5e]

	firewalls are mean and crash the client on timeout

	svn path=/trunk/kdenonbeta/icecream/; revision=342561

2004-08-29  Stephan Kulow  <coolo@kde.org>  [a537e34e70fa009b228b1374934a9815195e5802]

	this doesn't seem to work

	svn path=/trunk/kdenonbeta/icecream/; revision=342516

2004-08-29  Stephan Kulow  <coolo@kde.org>  [7dff0f7a1c59ac0ca987d02ca5a75216ebbe757e]

	improving debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=342512

2004-08-29  Stephan Kulow  <coolo@kde.org>  [c53c2a3eecb8915a0dfef6573c390b512ee8171a]

	fixing mem leak on error case

	svn path=/trunk/kdenonbeta/icecream/; revision=342499

2004-08-29  Stephan Kulow  <coolo@kde.org>  [e8955c91a47dec73ad1441c792e68a37e7125cfc]

	run as user is dead (maybe we will later require a setuid wrapper to be installed, but that's another story) adding API cleanup as release critical

	svn path=/trunk/kdenonbeta/icecream/; revision=342495

2004-08-29  Stephan Kulow  <coolo@kde.org>  [bc6d8e273489048fe3bdba2212914fb73d147974]

	fixing (rather unlikely) memory corruption in the client found by Andreas Schwab CCMAIL: schwab@suse.de

	svn path=/trunk/kdenonbeta/icecream/; revision=342493

2004-08-29  Stephan Kulow  <coolo@kde.org>  [c03002e8de3b84d0619e13589a0978c084026b85]

	create the log file as user icecream before starting the scheduler as user

	svn path=/trunk/kdenonbeta/icecream/; revision=342449

2004-08-29  Stephan Kulow  <coolo@kde.org>  [6759ff3cc7be4ed30bb54b1d60dc59be852b90ff]

	support more features of the daemon through sysconfig

	svn path=/trunk/kdenonbeta/icecream/; revision=342443

2004-08-29  Stephan Kulow  <coolo@kde.org>  [84c9cbb20724cdbfec92fddd94c3d4f8319922f9]

	clean up

	svn path=/trunk/kdenonbeta/icecream/; revision=342436

2004-08-28  Stephan Kulow  <coolo@kde.org>  [e833aece26b709029da4bb91a1fa2c07b6b0541f]

	rename the option to -r for consistency

	svn path=/trunk/kdenonbeta/icecream/; revision=342313

2004-08-28  Michael Matz  <matz@kde.org>  [48cb9682a28e9495e4a26cb0e7d0b96ba837d530]

	Maybe this looks better.

	svn path=/trunk/kdenonbeta/icecream/; revision=342204

2004-08-28  Stephan Kulow  <coolo@kde.org>  [4e13fe3b88dda8e2ed2f794c294241e26d2ef734]

	making it _way_ harder to accuse me of having caused a rootkit: * changed the -u option to a -r option (still useful for homogenous networks) * added -u <nobody_uid> (defaults to 65534) that it runs all processes under   that handle any client data.

	So now the compilations runs as nobody in a chroot environment together with
	the "rootkit", this should make a sniffing attack quite complex, but of course
	it still allows DoS (even though the memory usage is limited and the CPU usage
	is niced).

	svn path=/trunk/kdenonbeta/icecream/; revision=342053

2004-08-27  Michael Matz  <matz@kde.org>  [d0d84f282019d652d051b6fd751a3fc2bd8d9d11]

	More commands.

	svn path=/trunk/kdenonbeta/icecream/; revision=341986

2004-08-27  Michael Matz  <matz@kde.org>  [992c5d675b1b404eecd7c48d4fcc210beb2c932c]

	Ui.  Ugly bug.

	svn path=/trunk/kdenonbeta/icecream/; revision=341904

2004-08-27  Stephan Kulow  <coolo@kde.org>  [c0fb01c685a5bfc4483ad60bd42a5bf78176cd51]

	add some consistency check

	svn path=/trunk/kdenonbeta/icecream/; revision=341853

2004-08-27  Stephan Kulow  <coolo@kde.org>  [2b9d51ee94f66c77a45291d4a271b5096308bec1]

	fixing layout

	svn path=/trunk/kdenonbeta/icecream/; revision=341819

2004-08-27  Stephan Kulow  <coolo@kde.org>  [da7d6819af0ad16d3963d0cae95fd4993f449a5d]

	seems, monitors aren't removed cleanly from fd2chan

	svn path=/trunk/kdenonbeta/icecream/; revision=341816

2004-08-27  Stephan Kulow  <coolo@kde.org>  [3c4505fe70bac7fd2f1186f756225aafe56f111d]

	work correctly

	svn path=/trunk/kdenonbeta/icecream/; revision=341788

2004-08-27  Stephan Kulow  <coolo@kde.org>  [2ba5dd696d3f6595e446a2889841f8753abdf204]

	trying to improve ways to debug

	svn path=/trunk/kdenonbeta/icecream/; revision=341787

2004-08-26  Stephan Kulow  <coolo@kde.org>  [edbc4a91646fb2575e999f44894de8aac2b8ce14]

	yes, the network is flacky and icecream can handle it

	svn path=/trunk/kdenonbeta/icecream/; revision=341468

2004-08-26  Stephan Kulow  <coolo@kde.org>  [aa1e77319bf33ad78ee82966779ae71dec37613e]

	give better hint

	svn path=/trunk/kdenonbeta/icecream/; revision=341467

2004-08-25  Simon Hausmann  <hausmann@kde.org>  [51aa9385b15b768eb6635e641c4d49b127f60660]

	- this one is done

	svn path=/trunk/kdenonbeta/icecream/; revision=341029

2004-08-25  Stephan Kulow  <coolo@kde.org>  [7e5eb263f4be2bc39a3d15ed9e050614a49fdcd6]

	try some times more if bind fails - not forever though

	svn path=/trunk/kdenonbeta/icecream/; revision=340968

2004-08-25  Simon Hausmann  <hausmann@kde.org>  [b238eee42992093baaf92cc5510b5c4f570fe1ba]

	- when ICECC_VERISON is not set we want to pick the same compiler as   create-env, the one in /usr/bin

	svn path=/trunk/kdenonbeta/icecream/; revision=340963

2004-08-25  Stephan Kulow  <coolo@kde.org>  [5f8cedf5499d3d5b93c2b9dcd2a1d909c17ba550]

	trying to fix client fairness again

	svn path=/trunk/kdenonbeta/icecream/; revision=340871

2004-08-24  Simon Hausmann  <hausmann@kde.org>  [c80b1b0153ccf215bccfbdf0a8e77523cda29878]

	- when calling the preprocessor find gcc/g++ from $PATH - added support for --respect-path to create-env, which picks gcc/g++ from   $PATH instead of /usr/bin, allowing the use of icecream with custom   gcc installations

	svn path=/trunk/kdenonbeta/icecream/; revision=340596

2004-08-24  Stephan Kulow  <coolo@kde.org>  [39ad0bb86f23c183a26387bb7c553c8a52d8e838]

	I already said that I'm not sure if it's worth it, no?

	svn path=/trunk/kdenonbeta/icecream/; revision=340341

2004-08-24  Stephan Kulow  <coolo@kde.org>  [629ae2e671f4e6eb5ba3a1cda3110150c76d1a29]

	another protection against stupid KDE developers

	svn path=/trunk/kdenonbeta/icecream/; revision=340324

2004-08-24  Nikolas Zimmermann  <wildfox@kde.org>  [8ba18225ffed092b9c3a1fd2603878c1622db05f]

	Use 127.0.0.1 instead of localhost - we sat nearly two hours in front of Max Howell's laptop   trying to figure out why the heck icecream didn't work.. -> the hosts file somehow contained an entry with a different    ip for 'localhost'; this would avoid such a problem in future...

	svn path=/trunk/kdenonbeta/icecream/; revision=340313

2004-08-23  Stephan Kulow  <coolo@kde.org>  [cda9462a689dadbd017c4788be3647d674e38161]

	the -a is of no importance now that we care for symlinks

	svn path=/trunk/kdenonbeta/icecream/; revision=340224

2004-08-23  Frerich Raabe  <raabe@kde.org>  [1c13149d641f412581a85f120fdac0efd9f14d39]

	- Trying to approximate 'cp -a' as it exists on Linux, so that we can run   gmake -f Makefile.cvs here on FreeBSD boxen, too.

	svn path=/trunk/kdenonbeta/icecream/; revision=340205

2004-08-23  Stephan Kulow  <coolo@kde.org>  [805593392609c2da9ef8e06ab8893bc8adca57f1]

	avoid starting /

	svn path=/trunk/kdenonbeta/icecream/; revision=340195

2004-08-23  Stephan Kulow  <coolo@kde.org>  [290401da256ca9c40e9a8fc4ad324855111155c6]

	try to solve symlinks more globally

	svn path=/trunk/kdenonbeta/icecream/; revision=340177

2004-08-23  Stephan Kulow  <coolo@kde.org>  [29f956907cd9c43e92510792d1c6fdc4721b05bf]

	I was sure it's commited

	svn path=/trunk/kdenonbeta/icecream/; revision=340094

2004-08-23  Stephan Kulow  <coolo@kde.org>  [85ba2050daa98dc6534cafbcb547f08906cf9f24]

	slashes - you can never have enough of it

	svn path=/trunk/kdenonbeta/icecream/; revision=340093

2004-08-23  Stephan Kulow  <coolo@kde.org>  [f1cd2711e6dfa12cbbfec4b8af5c7b8971b820b8]

	trying to support gentoo and debian

	svn path=/trunk/kdenonbeta/icecream/; revision=340082

2004-08-23  Stephan Kulow  <coolo@kde.org>  [ae5c8ff2b5a16d80b3756ec0ffff244402cc8d0e]

	don't rely on $PATH

	svn path=/trunk/kdenonbeta/icecream/; revision=340036

2004-08-23  Stephan Kulow  <coolo@kde.org>  [42f9d1698928482c0f0fd3db84319a6e0cb7aee9]

	investigated again what it would mean to build as non-root and put missing things in categories

	svn path=/trunk/kdenonbeta/icecream/; revision=340028

2004-08-23  Frerich Raabe  <raabe@kde.org>  [50964e9f6bdc8ac9c1ae0f30539926df6a671db6]

	- Typo fix :-)

	svn path=/trunk/kdenonbeta/icecream/; revision=340024

2004-08-23  Stephan Kulow  <coolo@kde.org>  [dd6f667adbe0098402765a7c72744635fef36cfc]

	* don't give out 32bit compilers to hammers (kernel 2.6.8 rules ;( * don't bother me with chroot problems when I said I allow them (old daemons)

	svn path=/trunk/kdenonbeta/icecream/; revision=340007

2004-08-23  Stephan Kulow  <coolo@kde.org>  [697074b10839131ecacf454ca50df56ed6b1e01f]

	f*** - 64GB of free memory are just too much for the little ints ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=340002

2004-08-22  Dirk Mueller  <mueller@kde.org>  [4561db27de7fd48a179e84a952e9d4611c38effe]

	d'oh

	svn path=/trunk/kdenonbeta/icecream/; revision=339800

2004-08-22  Michael Matz  <matz@kde.org>  [987f7f9abd00ab49dd44572ec758f077180e4c3f]

	Don't allow non-chroot-able daemons to connect without cmdline option. And don't give them out as compile hosts.

	svn path=/trunk/kdenonbeta/icecream/; revision=339798

2004-08-22  Dirk Mueller  <mueller@kde.org>  [f4f07184a663d553d590b30e5c7022da2eace13e]

	prepare to be able to reject clients that cannot do chroot - they will always compile on localhost. add command line option that disables the behaviour for very homogenous compiler setups

	svn path=/trunk/kdenonbeta/icecream/; revision=339792

2004-08-22  Dirk Mueller  <mueller@kde.org>  [84c180f3df8525afee9554e5af9b39cef25ab49c]

	add the information if the daemon is running as root (for chroot/environment support) to the login message, so that the scheduler can disconnect clients that do not accept chrooted compiles

	svn path=/trunk/kdenonbeta/icecream/; revision=339785

2004-08-22  Stephan Kulow  <coolo@kde.org>  [b9aae41e5be2fab6f50c9d01a0378ba540cf7dbc]

	this wasn't meant to go into CVS

	svn path=/trunk/kdenonbeta/icecream/; revision=339779

2004-08-22  Michael Matz  <matz@kde.org>  [f83de79cd237fc58aab78477dca0432f1cc94ad4]

	Gentoo has a funny wrapper.  Perhaps this works for them.  Perhaps not OTOH.

	svn path=/trunk/kdenonbeta/icecream/; revision=339778

2004-08-22  Dirk Mueller  <mueller@kde.org>  [91b28894fe5fadbe42d6a2d55048f9f908af4e1f]

	I do believe the safeguard code works - so don't bother me with its debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=339757

2004-08-22  Michael Matz  <matz@kde.org>  [88ce62c4ef215d9bc590f9937cfeb2cfaf9a66c2]

	More info.

	svn path=/trunk/kdenonbeta/icecream/; revision=339748

2004-08-22  Michael Matz  <matz@kde.org>  [45838fa036a2cb912767485be393cded25d75d6d]

	Better.

	svn path=/trunk/kdenonbeta/icecream/; revision=339742

2004-08-22  Michael Matz  <matz@kde.org>  [58432db4c757444841eae789d74bc64362455d77]

	More debug possibilities.

	svn path=/trunk/kdenonbeta/icecream/; revision=339740

2004-08-22  Stephan Kulow  <coolo@kde.org>  [54bf6f96800a9c96701bee88c1261a2687bae10e]

	don't let Dirk f*** the system

	svn path=/trunk/kdenonbeta/icecream/; revision=339725

2004-08-22  Michael Matz  <matz@kde.org>  [ff25c1a04600c85894ecf77d5bb59f8de4fea041]

	Text based control stuff.  Long live telnet.

	svn path=/trunk/kdenonbeta/icecream/; revision=339719

2004-08-21  Michael Matz  <matz@kde.org>  [5e055d8024a9636f82e95bafc2ce1a4a18076489]

	Done.

	svn path=/trunk/kdenonbeta/icecream/; revision=339593

2004-08-21  Stephan Kulow  <coolo@kde.org>  [435443e6d04ffb1e6d66accc7522e109c6ab2d50]

	send stats also while retrieving and unpacking environments to avoid falling out of the network

	svn path=/trunk/kdenonbeta/icecream/; revision=339591

2004-08-21  Michael Matz  <matz@kde.org>  [abee3743725ead760d0e1c5127df7a4ac02480de]

	Not really tested, but anyway.  The lunch is starting soon.

	svn path=/trunk/kdenonbeta/icecream/; revision=339590

2004-08-21  Michael Matz  <matz@kde.org>  [86cd382eaecc1316872b5c4dd9ce818419a19d54]

	Bloody social event.

	svn path=/trunk/kdenonbeta/icecream/; revision=339585

2004-08-21  Stephan Kulow  <coolo@kde.org>  [7e0e47b688066c7f659cd4e67a38aa5b9e8c906b]

	don't bind to random port if there is already a iceccd running. There are just too many conflicts

	svn path=/trunk/kdenonbeta/icecream/; revision=339580

2004-08-21  Stephan Kulow  <coolo@kde.org>  [9f1e59879b74bae4e4857a4e38fbf0229eec10a7]

	don't crash

	svn path=/trunk/kdenonbeta/icecream/; revision=339562

2004-08-21  Stephan Kulow  <coolo@kde.org>  [1b8de5538d9abc55a2d1dc6b9c1fadf412f5b030]

	Martin's bug

	svn path=/trunk/kdenonbeta/icecream/; revision=339556

2004-08-21  Michael Matz  <matz@kde.org>  [b59583c4a2ed13f9159d311bdf9cb9f36e49afba]

	Chris is paranoid

	svn path=/trunk/kdenonbeta/icecream/; revision=339554

2004-08-21  Stephan Kulow  <coolo@kde.org>  [93e911611eb0947635f8c1bd2b689c9a3a0b21c4]

	don't want to brag, but with 100 clients it's quite common that there are undone jobs in the queue

	svn path=/trunk/kdenonbeta/icecream/; revision=339543

2004-08-21  Stephan Kulow  <coolo@kde.org>  [a7287713311fd0ea0f6d6791e3166549c0a4aed0]

	enough faking

	svn path=/trunk/kdenonbeta/icecream/; revision=339538

2004-08-21  Stephan Kulow  <coolo@kde.org>  [212b95484c156cc20d09de81e5a4215150a7ca61]

	finishing what Scott started ages ago (and never tested :): give i386 environments out to i686 and x86_64 hosts

	svn path=/trunk/kdenonbeta/icecream/; revision=339512

2004-08-21  Stephan Kulow  <coolo@kde.org>  [83eec766f27ec05fec93f64c66e8263856948314]

	Success? Aja

	svn path=/trunk/kdenonbeta/icecream/; revision=339482

2004-08-21  Michael Matz  <matz@kde.org>  [a97b730156c5915b1a6a178146cd78265c5a24ec]

	We seem to be unable to recover why this test was there exactly, and when it was still valid.  Currently it doesn't test a fishy condition, but is fishy itself.

	svn path=/trunk/kdenonbeta/icecream/; revision=339474

2004-08-21  Stephan Kulow  <coolo@kde.org>  [be3f11b0aaca0c045aa9d71d9709d5032845ece0]

	don't fool dirk - icecc++ is only my testing symlink

	svn path=/trunk/kdenonbeta/icecream/; revision=339467

2004-08-21  Stephan Kulow  <coolo@kde.org>  [3ed8048d4dd2e4c6a9ce68e33c7fc6cd492d68ae]

	ah, I forgot to commit that - funny that they got the problem just today :)

	svn path=/trunk/kdenonbeta/icecream/; revision=339465

2004-08-21  Stephan Kulow  <coolo@kde.org>  [e4fcfdc5af23512b382e74c69430e1d9283c5871]

	I guess, there are about 3 people wanting this feature

	svn path=/trunk/kdenonbeta/icecream/; revision=339464

2004-08-20  Daniel Molkentin  <molkentin@kde.org>  [e81f771b0a1aa04b2ed2f0964ab3aae87e65e4d0]

	- allow for specifying an env basedir - disallow running icecream as user by default. coolo said it's not supported and it creates problem here at the cluster. The proper fix would probably be to block non-chrooted daemons at the scheduler.

	svn path=/trunk/kdenonbeta/icecream/; revision=339413

2004-08-20  Stephan Kulow  <coolo@kde.org>  [024d58190b2fcdd547cda39adb1f8bfd2bf67030]

	Matz warms up old dreams

	svn path=/trunk/kdenonbeta/icecream/; revision=339323

2004-08-19  Stephan Kulow  <coolo@kde.org>  [cf2ab4d6ebf3a6c76e37f4df5330148dbf3c322f]

	my "I give up" commit was a bit too brute force. Still the same reasoning leads to this commit: remove the channel from all jobs before it's deleted

	svn path=/trunk/kdenonbeta/icecream/; revision=339045

2004-08-19  Stephan Kulow  <coolo@kde.org>  [ed394fcef558ea3f668b938b987eefb0966830eb]

	avoid warnings from valgrind

	svn path=/trunk/kdenonbeta/icecream/; revision=339005

2004-08-18  Stephan Kulow  <coolo@kde.org>  [48400bb93e71f4dc184101cd9501736620ea21db]

	some more detailed debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=338913

2004-08-18  Stephan Kulow  <coolo@kde.org>  [e6128961387bea62d410d65943006e697e0fdd65]

	there are still cases where the client exists before all jobs are done. This leads to a dangling job->channel and it's just not worth the couple of cycles we spare

	svn path=/trunk/kdenonbeta/icecream/; revision=338910

2004-08-18  Stephan Kulow  <coolo@kde.org>  [222c26e39eff46cc5bbce0031ca8d30d5ad15c7c]

	STL is just different - that's all

	svn path=/trunk/kdenonbeta/icecream/; revision=338841

2004-08-18  Stephan Kulow  <coolo@kde.org>  [5e1d44302e83e997e361c8cdad8944b1f2a15504]

	try harder not to crash in strange circumstances

	svn path=/trunk/kdenonbeta/icecream/; revision=338806

2004-08-17  Michael Matz  <matz@kde.org>  [e7825c967f3ce1c12f9f31646d714afdcf4d8ab4]

	Either remove the comment, or don't remove the function call it is talking about.  But I like it better this way.

	svn path=/trunk/kdenonbeta/icecream/; revision=338633

2004-08-17  Stephan Kulow  <coolo@kde.org>  [12783ccd45edbe50808327378ef2379808db6ad9]

	only fake with speeds when there is some history

	svn path=/trunk/kdenonbeta/icecream/; revision=338572

2004-08-17  Stephan Kulow  <coolo@kde.org>  [6f036ef449a942060e14d8e7a12fc127b66aa69d]

	handle --param and make sure we don't mix the order of command line options in case we find a second input file

	svn path=/trunk/kdenonbeta/icecream/; revision=338569

2004-08-16  Scott Wheeler  <wheeler@kde.org>  [eae51fc09d4fdc466498a7aff49cb7477c098db6]

	build

	svn path=/trunk/kdenonbeta/icecream/; revision=338455

2004-08-16  Stephan Kulow  <coolo@kde.org>  [0116e5246b08d9c1e3631e40dfe0f610eb32eca4]

	if it doesn't have a speed yet, take whatever you can get

	svn path=/trunk/kdenonbeta/icecream/; revision=338357

2004-08-16  Stephan Kulow  <coolo@kde.org>  [742d0f612dcbaa389f108653c341c8ac5f457200]

	trying to improve the statistics

	svn path=/trunk/kdenonbeta/icecream/; revision=338351

2004-08-16  Stephan Kulow  <coolo@kde.org>  [a1d94b58518582aaa273aafc8fd33cfa53bd31bf]

	if you can't access the ICECC environment, don't bother the scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=338347

2004-08-16  Michael Matz  <matz@kde.org>  [29d72dc2dd3609f9367fa3744d4a0223c191bd07]

	Smooth out the speed measurement history.  It compiles.  No idea if it works as well as the perl script ;)

	svn path=/trunk/kdenonbeta/icecream/; revision=338343

2004-08-16  Stephan Kulow  <coolo@kde.org>  [4418de143c3f90a4e6c8a4c8e3f9e245e425959f]

	if get_msg() times out, it's quite interesting to know what it waited for: backtrace might help

	svn path=/trunk/kdenonbeta/icecream/; revision=338326

2004-08-16  Stephan Kulow  <coolo@kde.org>  [78c8787e8bb57f4c9d7a812bd93c1d89d31410d3]

	-frepo creates local files

	svn path=/trunk/kdenonbeta/icecream/; revision=338325

2004-08-16  Stephan Kulow  <coolo@kde.org>  [fe5e502782375b17c2f2e266059bfaff8f6e50cd]

	give the preprocessor some time

	svn path=/trunk/kdenonbeta/icecream/; revision=338324

2004-08-16  Stephan Kulow  <coolo@kde.org>  [34064e214fa2900e126b166e82b9f86feb26c8f0]

	noticed something ;)

	svn path=/trunk/kdenonbeta/icecream/; revision=338231

2004-08-15  Stephan Kulow  <coolo@kde.org>  [c2e3a0f167395ade5f39c487d98300e14178e2b9]

	only package the native directory when it's requested by the client

	svn path=/trunk/kdenonbeta/icecream/; revision=338162

2004-08-15  Stephan Kulow  <coolo@kde.org>  [b65b7e1dab0eb33141d107ce24db3120397ecc61]

	some more statistics fishing

	svn path=/trunk/kdenonbeta/icecream/; revision=338112

2004-08-15  Stephan Kulow  <coolo@kde.org>  [e198fc377cba349c21fc5f03569910363b960912]

	didn't mean to commit this debug

	svn path=/trunk/kdenonbeta/icecream/; revision=338087

2004-08-15  Stephan Kulow  <coolo@kde.org>  [a08a9ddf315d184e613391ac07e5ac02f5139695]

	I hope this cures the fd leak I added

	svn path=/trunk/kdenonbeta/icecream/; revision=338085

2004-08-15  Stephan Kulow  <coolo@kde.org>  [91a01e61bd60f21d7699cb5bcef583cc8186aa54]

	collect speed infos also for local jobs. If you're only compiling from your old laptop, you want the scheduler to know it's slow That local jobs also count the preprocessor in it's used time, causes some bias. But as the builtin preprocessor is damn quick, I doubt it weights a lot

	svn path=/trunk/kdenonbeta/icecream/; revision=338058

2004-08-15  Stephan Kulow  <coolo@kde.org>  [fa80d4585eed712e2ea4a6316853cd0e72a087eb]

	don't write to stderr, but catch the error in the log file

	svn path=/trunk/kdenonbeta/icecream/; revision=338041

2004-08-14  Stephan Kulow  <coolo@kde.org>  [a5225a4b94379d38cf544cb43892e28d0be95950]

	better error message

	svn path=/trunk/kdenonbeta/icecream/; revision=337967

2004-08-14  Stephan Kulow  <coolo@kde.org>  [522c7b33531e993b82511796245feb240af0f95d]

	I guess, we only had one place where a correct calculation of the time was necessary. Too bad that one was bogus ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=337960

2004-08-14  Stephan Kulow  <coolo@kde.org>  [f14f1b9a7384b50ba64d6760dcb6890a206c996e]

	catching some failing syscalls. I still get some weired lock ups ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=337959

2004-08-14  Stephan Kulow  <coolo@kde.org>  [c152b0950c04d1a3192e75fce022d3fea1cc2899]

	Michael, that code was filling the log files on ia64. Not sure it's the most elegant solution to fix it, but the warning is gone

	svn path=/trunk/kdenonbeta/icecream/; revision=337954

2004-08-14  Stephan Kulow  <coolo@kde.org>  [fbe6b289c656df10ff3c0ba7bafe0875a853c41b]

	this is bad - the real exit code was only in a local variable, the return value was the status of the preprocessor ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=337921

2004-08-13  Michael Matz  <matz@kde.org>  [4f3dafeaec8e7fce4e16e841fe0174f303d1b429]

	More refactoring.

	svn path=/trunk/kdenonbeta/icecream/; revision=337739

2004-08-13  Michael Matz  <matz@kde.org>  [3f94ea940b9b25de41ab28dc620bd3741edf878e]

	Make the multiple job case also recognize when to build locally. This all has many nearly duplicated code paths handling slightly different conditions.  Factor it a bit at least.

	svn path=/trunk/kdenonbeta/icecream/; revision=337737

2004-08-13  Michael Matz  <matz@kde.org>  [836b41478704b8d74f586f92c319c861361911f9]

	Be a bit more paranoid with file descriptors.  Perhaps it solves the funny hangs of cc1, or makes them more reproducable.

	svn path=/trunk/kdenonbeta/icecream/; revision=337733

2004-08-13  Stephan Kulow  <coolo@kde.org>  [0fb3f97473c4f6ef08fef1027392ca03c89957a0]

	* reducing a bit of debug (100M in a night is just too much for my little $HOME :) * after doing some linear fitting I found some factors to not prefer -g jobs  (hunting further factors)

	svn path=/trunk/kdenonbeta/icecream/; revision=337715

2004-08-12  Stephan Kulow  <coolo@kde.org>  [5930044cd56c9067d86113fd477bd042285a7c6c]

	transfer some important flags with the job, so that the scheduler has a chance to split between non debug build and debug builds (that generate way more bytes in the same time). Now we can start to collect data ;)

	svn path=/trunk/kdenonbeta/icecream/; revision=337630

2004-08-12  Michael Matz  <matz@kde.org>  [41b4e879c051b5e9dbeddcce9f72f8e375269030]

	Ensure an invariant which bit us.

	svn path=/trunk/kdenonbeta/icecream/; revision=337601

2004-08-12  Michael Matz  <matz@kde.org>  [a1e063502ce682a839bdd46b6adc3a773978b433]

	0 is a valid fd.

	svn path=/trunk/kdenonbeta/icecream/; revision=337600

2004-08-12  Stephan Kulow  <coolo@kde.org>  [d86fbe54e1e41b77db68f57873e6aa742f1210bb]

	no comment

	svn path=/trunk/kdenonbeta/icecream/; revision=337587

2004-08-12  Stephan Kulow  <coolo@kde.org>  [fd49382b55ea3273c8af771e02c45ceeedfb6777]

	don't create busy loops while waiting for local jobs to finish

	svn path=/trunk/kdenonbeta/icecream/; revision=337575

2004-08-12  Stephan Kulow  <coolo@kde.org>  [212ad9f374486665eeddbefd1d2cec1e39e19364]

	as a matter of fact, now that the compiler is given room for garbage collection, the overhead price isn't as big anymore

	svn path=/trunk/kdenonbeta/icecream/; revision=337557

2004-08-12  Stephan Kulow  <coolo@kde.org>  [5c1d56cde39466493594ec56f5af90f509de93b9]

	always assume the local daemon got the environment - increased minimum protocol version for that

	svn path=/trunk/kdenonbeta/icecream/; revision=337515

2004-08-12  Stephan Kulow  <coolo@kde.org>  [e84bafe5b68d3ab58282242f413b376b84819831]

	fixing grave bug: it's just too hot ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=337509

2004-08-12  Stephan Kulow  <coolo@kde.org>  [90267bc37d195dad035ded965bcf502fc3140644]

	another place that can take longer than 10s

	svn path=/trunk/kdenonbeta/icecream/; revision=337507

2004-08-11  Stephan Kulow  <coolo@kde.org>  [38b61acf31d4a47ef2fc482f3d9c5d5297418c0a]

	this was supposed to go out only shortly

	svn path=/trunk/kdenonbeta/icecream/; revision=337433

2004-08-11  Stephan Kulow  <coolo@kde.org>  [495de881968c7fcc2800620e3bbcd8666dec35ef]

	this looks nicer

	svn path=/trunk/kdenonbeta/icecream/; revision=337427

2004-08-11  Stephan Kulow  <coolo@kde.org>  [aa706d275b3565efcc61e07850571e83d91bc30a]

	better have it there for the moment

	svn path=/trunk/kdenonbeta/icecream/; revision=337426

2004-08-11  Stephan Kulow  <coolo@kde.org>  [f4a8e62a3d74634b7716bd3ec2b5c7fcfeb3e6bb]

	it shouldn't even be there

	svn path=/trunk/kdenonbeta/icecream/; revision=337420

2004-08-11  David Faure  <faure@kde.org>  [9907f8985964a4a2089f0263780ee31d1fbe2019]

	thou shalt compile

	svn path=/trunk/kdenonbeta/icecream/; revision=337388

2004-08-11  Stephan Kulow  <coolo@kde.org>  [cd510f817093f9fe333378e2c9b41d6b19a1719f]

	implementing gcc's heuristics for our compiler, so it works quickly even if run in chroot. That chroot feature caused unexpected slow downs because of missing /proc, now it should have the same speed again

	svn path=/trunk/kdenonbeta/icecream/; revision=337384

2004-08-11  Stephan Kulow  <coolo@kde.org>  [9405af773545b3c641c13090215f2b0d7ce83763]

	interesting debug message

	svn path=/trunk/kdenonbeta/icecream/; revision=337371

2004-08-10  Stephan Kulow  <coolo@kde.org>  [5cd07a4ab60436d78b8395602096d488fdf150f5]

	neat experiment

	svn path=/trunk/kdenonbeta/icecream/; revision=337272

2004-08-10  Stephan Kulow  <coolo@kde.org>  [145db5f4eea8743928f1bc0f2fccf15152b83b0d]

	for the scheduler it's of little importance and the daemon is root only

	svn path=/trunk/kdenonbeta/icecream/; revision=337256

2004-08-10  Stephan Kulow  <coolo@kde.org>  [97afc744c2f245dcb058fb62e6e563b40f647c87]

	waiting for a long time where the other side compiles

	svn path=/trunk/kdenonbeta/icecream/; revision=337240

2004-08-10  Michael Matz  <matz@kde.org>  [bf398795ae4fe3f66b8fcaa389130dc592b07e83]

	Configurable timeout for get_msg. coolo: you need to update at least one of the callers in the client.  The default is now only 10 seconds.

	svn path=/trunk/kdenonbeta/icecream/; revision=337228

2004-08-10  Stephan Kulow  <coolo@kde.org>  [dd3d27223b48155818850459f1b37c8e77111f46]

	be a good guy and use the API

	svn path=/trunk/kdenonbeta/icecream/; revision=337227

2004-08-10  Stephan Kulow  <coolo@kde.org>  [bd6ad2959e8804fd9966aabc4d35bd54fdc590f6]

	* cleanup * pessimism factor * nicer debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=337192

2004-08-10  Michael Matz  <matz@kde.org>  [29aa4a7b28731ae1606f82a72b8604034b447300]

	Ugly bug in stats collection.

	svn path=/trunk/kdenonbeta/icecream/; revision=337182

2004-08-10  Stephan Kulow  <coolo@kde.org>  [f385da42c63b6d100c4edede6fd11ef7c13d4564]

	outdated infos

	svn path=/trunk/kdenonbeta/icecream/; revision=337167

2004-08-10  Stephan Kulow  <coolo@kde.org>  [0ae220e6624ed0a018a01986fd3596ffe4140b13]

	doing some memory leak hunting

	svn path=/trunk/kdenonbeta/icecream/; revision=337166

2004-08-10  Stephan Kulow  <coolo@kde.org>  [a6a34a326dbfc5e2547c4c825ca21f710134b03b]

	this feature requires files that are stored locally

	svn path=/trunk/kdenonbeta/icecream/; revision=337155

2004-08-10  Stephan Kulow  <coolo@kde.org>  [3bf14420e6819f7d5791edac1fdcbf3abc0528a0]

	removing untested feature for now

	svn path=/trunk/kdenonbeta/icecream/; revision=337129

2004-08-09  Stephan Kulow  <coolo@kde.org>  [bab2603cb6ab3fecd62ea906c10777f8317b31a3]

	I swear: I said, divide by 0.7 - what did he do? Math on his own

	svn path=/trunk/kdenonbeta/icecream/; revision=337059

2004-08-09  Stephan Kulow  <coolo@kde.org>  [00676dcfee3df906c31faae4ccf3fb0d483b6262]

	if I say that I'm not proud off it, can I leave it in?

	svn path=/trunk/kdenonbeta/icecream/; revision=337058

2004-08-09  Michael Matz  <matz@kde.org>  [79ae5cf2eb2d4032f0cb614be139c537da469a47]

	Prefer the submitter to compile a job. coolo: About the environment thing we have to talk again.  Depending on the outcome we have to ignore it for the submitter (then we have to rely on the client to use the exact same compiler as what was used for preprocessing, in _every case_), or we can't ignore it, namely when the short-cut is not implemented for all cases.

	svn path=/trunk/kdenonbeta/icecream/; revision=337036

2004-08-09  Michael Matz  <matz@kde.org>  [468d669ffdce5caec6ac36ae2abd134f8d0042aa]

	Surely this was wanted.

	svn path=/trunk/kdenonbeta/icecream/; revision=337033

2004-08-09  Stephan Kulow  <coolo@kde.org>  [9d08ffb1f92d38d2e4aa262960be8fae04915429]

	reworked my saturday night commit - the daemon no longer decides if the client should ask the scheduler, but in case the scheduler decides to give the localhost to the client, it will use a short path within the daemon and compile itself.

	svn path=/trunk/kdenonbeta/icecream/; revision=337032

2004-08-09  Stephan Kulow  <coolo@kde.org>  [b029ba276df4c685de3a4e1025832f62afec6431]

	Matz is right, g++ test.c compiles as C++ not as C

	svn path=/trunk/kdenonbeta/icecream/; revision=336948

2004-08-07  Stephan Kulow  <coolo@kde.org>  [5a4beb9a9bcb4a79f78cb575613f90986afb84cc]

	implementing a neat feature described in TODO (danimo, should be interesting read for you) Michael: I left some MATZ comments in the code

	svn path=/trunk/kdenonbeta/icecream/; revision=336762

2004-08-05  Stephan Kulow  <coolo@kde.org>  [1b87614483a9f2c398ed98a1c232f79b5d308d0e]

	before I forget

	svn path=/trunk/kdenonbeta/icecream/; revision=336381

2004-08-03  Stephan Kulow  <coolo@kde.org>  [705061a2a2760f7085df9dc55598150736f196dd]

	Lubos is right, I was wrong

	svn path=/trunk/kdenonbeta/icecream/; revision=335425

2004-08-02  Stephan Kulow  <coolo@kde.org>  [d82076d1116b592a07c7a197f7e7f4c4239dfb21]

	you can talk to them all day, but they don't listen

	svn path=/trunk/kdenonbeta/icecream/; revision=335250

2004-08-02  Stephan Kulow  <coolo@kde.org>  [4548b186cbdd43f589cea2485438032864937eb7]

	showing the speed the scheduler considers in the starview

	svn path=/trunk/kdenonbeta/icecream/; revision=335172

2004-08-02  Stephan Kulow  <coolo@kde.org>  [8bd0b8447c1af5c4f68d098b6d8dc36ffd3e2b48]

	implemented some heuristic that prevents processes to take all memory. Niced compile jobs are all fine, but if they take 2GB on a 512MB machine, you notice them

	In this case, the client will fall back to compiling locally under this condition
	and will not treat it as hard error (of course you need 2GB then)

	svn path=/trunk/kdenonbeta/icecream/; revision=335147

2004-08-02  Michael Matz  <matz@kde.org>  [f844672de36717a669976fa178296778218bd6b8]

	Hmm, perhaps it might not be a good idea to trigger interesting errors in the public version, as long as they are still there.

	svn path=/trunk/kdenonbeta/icecream/; revision=335143

2004-08-02  Michael Matz  <matz@kde.org>  [7a96aef6766fcd87dc158ddcf496f9b17456074f]

	* Don't optimize cleanups with old clients * ignore load of the submitter when farm is dense * forced throwing out of daemon.  Triggers interesting errors.

	svn path=/trunk/kdenonbeta/icecream/; revision=335141

2004-08-01  Stephan Kulow  <coolo@kde.org>  [5a40b8df71e5fd2996f203c37219ec13ebbdf58e]

	give a little hint to those that are never satisfied

	svn path=/trunk/kdenonbeta/icecream/; revision=334715

2004-07-30  Stephan Kulow  <coolo@kde.org>  [2fced9cd0b1b94050457dd15a7728140f76bd52d]

	these can walk like its older sister too

	svn path=/trunk/kdenonbeta/icecream/; revision=334175

2004-07-30  Stephan Kulow  <coolo@kde.org>  [90398e1432bb79b1afbc7e86930726a9a4ce28fe]

	matz needs a CURRENT

	svn path=/trunk/kdenonbeta/icecream/; revision=334147

2004-07-30  Stephan Kulow  <coolo@kde.org>  [caef88db5ee043120ae9bce77f089c6594496409]

	do not start before you know your network name - we had _tons_ of nodes named linux after a while

	svn path=/trunk/kdenonbeta/icecream/; revision=334098

2004-07-29  Stephan Kulow  <coolo@kde.org>  [c271581691b29b462ea28b39606ca3f4ff07caf3]

	throw an error in case something wild happened. Otherwise the scheduler sees an EndMsg and expects a sane processing (he only does the big cleanup for unexpected errors)

	svn path=/trunk/kdenonbeta/icecream/; revision=333792

2004-07-28  Stephan Kulow  <coolo@kde.org>  [9c3a5ea3913e884cfabc9d759d9ee12cb73605dc]

	.c is a C file too

	svn path=/trunk/kdenonbeta/icecream/; revision=333481

2004-07-26  Michael Matz  <matz@kde.org>  [565f2006f4a5983b4414c1017c88061217f70189]

	This fixes some rare segfaults.

	svn path=/trunk/kdenonbeta/icecream/; revision=332921

2004-07-18  Stephan Kulow  <coolo@kde.org>  [4f9d2ee3f6f61dce0696cf4285a307d1249de904]

	that's nonsense

	svn path=/trunk/kdenonbeta/icecream/; revision=330641

2004-06-29  Stephan Kulow  <coolo@kde.org>  [e8dcabcd72fdc748d62f10b387e649030eb812de]

	gcc allows -o foo -o bar and will output to bar

	svn path=/trunk/kdenonbeta/icecream/; revision=324508

2004-06-19  Cornelius Schumacher  <schumacher@kde.org>  [362c09b9de683d8ac43d3027c576ead6f2ced565]

	Remove untrue message.

	svn path=/trunk/kdenonbeta/icecream/; revision=321982

2004-06-16  Stephan Kulow  <coolo@kde.org>  [2a54f2cd504da48741707934a082a93956485905]

	always sleep when the scheduler goes away

	svn path=/trunk/kdenonbeta/icecream/; revision=321214

2004-06-11  Stephan Kulow  <coolo@kde.org>  [33184960bec18c04b66242fa4f75c16252c5fa58]

	filter out ada and fortran extensions and set unknown extensions to local jobs too

	svn path=/trunk/kdenonbeta/icecream/; revision=319600

2004-06-07  Frerich Raabe  <raabe@kde.org>  [9cdd12ed0864789662acac239f6f727e75d1554c]

	- Simplify, and don't call multimap<T>::upper_bound all that often

	svn path=/trunk/kdenonbeta/icecream/; revision=318554

2004-06-07  Scott Wheeler  <wheeler@kde.org>  [1d77c17a33ecd32b36dc897c44ab5d20d9023292]

	Add some basic support for compatible platforms.

	svn path=/trunk/kdenonbeta/icecream/; revision=318532

2004-06-07  Scott Wheeler  <wheeler@kde.org>  [fb2cf8b8327dc6b293d97585c04edf67f23d6ea7]

	Make things a little more clear.

	svn path=/trunk/kdenonbeta/icecream/; revision=318531

2004-06-07  David Faure  <faure@kde.org>  [879bbc17e5e8786acede5f2a5fbf4f1b58090235]

	Don't bother me for uic, it's not used here.

	svn path=/trunk/kdenonbeta/icecream/; revision=318410

2004-06-07  Stephan Kulow  <coolo@kde.org>  [1ee20f9a022502a3efaeb243e9e5733a2db6f711]

	trying to fix automake build

	svn path=/trunk/kdenonbeta/icecream/; revision=318389

2004-06-04  Scott Wheeler  <wheeler@kde.org>  [62cea06cfbd04586abdea6c237032dfb1000e44e]

	Repeating one out of every 5 jobs 3 times is way too high for the common case.  Default to 1 in 100 and make it possible to override this with an environment variable.

	svn path=/trunk/kdenonbeta/icecream/; revision=317704

2004-06-04  Stephan Kulow  <coolo@kde.org>  [382edc39a90dba55692867bc80494eea16709ce7]

	trying to avoid problems with toplevel kdenonbeta

	svn path=/trunk/kdenonbeta/icecream/; revision=317636

2004-06-02  Cornelius Schumacher  <schumacher@kde.org>  [ef4913535d98ede3f6c999ad5196730e8d9c12f9]

	Add hint how to get debug output.

	svn path=/trunk/kdenonbeta/icecream/; revision=317046

2004-05-29  Stephan Kulow  <coolo@kde.org>  [fd101f1a9668bc02809dfd12ded8c41835518be5]

	trying to be good guys

	svn path=/trunk/kdenonbeta/icecream/; revision=315686

2004-05-28  Stephan Kulow  <coolo@kde.org>  [ae76524f61bf11e02229dd65e2defb39ae40aec9]

	remove it before link

	svn path=/trunk/kdenonbeta/icecream/; revision=315438

2004-05-17  Stephan Kulow  <coolo@kde.org>  [85beb29b62414eb74a4b426000e5e7f2d4552421]

	you want tricks? You can have them

	svn path=/trunk/kdenonbeta/icecream/; revision=311977

2004-05-14  Stephan Kulow  <coolo@kde.org>  [249553794b931e2cd98840abdf3f05ea0c2a1ba6]

	needed

	svn path=/trunk/kdenonbeta/icecream/; revision=311312

2004-05-14  Stephan Kulow  <coolo@kde.org>  [009656f7ba9698993128cb10f8baea35c2941baa]

	using ../admin

	svn path=/trunk/kdenonbeta/icecream/; revision=311289

2004-05-13  Otto Bruggeman  <bruggie@gmail.com>  [573f231fb30bd350ceef4a1c504acc455bcacca8]

	Last commit to fix this, i swear :)

	svn path=/trunk/kdenonbeta/icecream/; revision=310853

2004-05-12  Otto Bruggeman  <bruggie@gmail.com>  [eeee61e30187b370d38efbffabcb5f4a2ebd1975]

	This makes the logic better. Sorry, should not do this when just waking up.

	svn path=/trunk/kdenonbeta/icecream/; revision=310543

2004-05-12  Otto Bruggeman  <bruggie@gmail.com>  [9c44839ed4b3e5280655fa91660e6c4e501f4302]

	Ok now gcc >= 4 should work as well when it comes. Thanks Helge for noticing.

	svn path=/trunk/kdenonbeta/icecream/; revision=310542

2004-05-11  Otto Bruggeman  <bruggie@gmail.com>  [86bac1799eff5f6e04be4a4a44454fd8ea445e9f]

	Need this on our Itanium cluster (for the rest it works just fine there, great work guys!) since gcc 3.2.2 does not understand this option either.

	svn path=/trunk/kdenonbeta/icecream/; revision=310478

2004-05-11  Stephan Kulow  <coolo@kde.org>  [e5c8d45cfa39c82dcbc01d251db0a4d1afbb056c]

	fix compilation of several C files in one compiler call (missed one)

	svn path=/trunk/kdenonbeta/icecream/; revision=310334

2004-05-09  Scott Wheeler  <wheeler@kde.org>  [7ce727a2b749de7015221af9626a6dbf14a6881a]

	build

	svn path=/trunk/kdenonbeta/icecream/; revision=309727

2004-05-04  Stephan Kulow  <coolo@kde.org>  [56204540edffef722ed69bfcf060352ca0f7fd40]

	compile g++ -c *.c as local job instead of aborting

	svn path=/trunk/kdenonbeta/icecream/; revision=308634

2004-05-04  Stephan Kulow  <coolo@kde.org>  [c9ad1feeebacdd81f79f4afe308c4351f8b8d04e]

	some more fairness

	svn path=/trunk/kdenonbeta/icecream/; revision=308557

2004-05-04  Stephan Kulow  <coolo@kde.org>  [28c5fb60442faf65ee49284d09fb8456e63a329a]

	excellent interface micha

	svn path=/trunk/kdenonbeta/icecream/; revision=308550

2004-05-03  Stephan Kulow  <coolo@kde.org>  [add494be3cabfca8984ae2785d043257621f850c]

	make sure not to compare apple and pears

	svn path=/trunk/kdenonbeta/icecream/; revision=308250

2004-05-03  Stephan Kulow  <coolo@kde.org>  [addeeccfcf081f044c81271ea4e794a2675a8af5]

	everything that we can ignore, is a warning. So if you find your farm pretty slow and unused, check ICECC_DEBUG=warnings to find out if the client does something at all :)

	svn path=/trunk/kdenonbeta/icecream/; revision=308230

2004-05-03  Stephan Kulow  <coolo@kde.org>  [70640f1f18c5df4434e14e5172e7e9eb3064d647]

	avoid net storms

	svn path=/trunk/kdenonbeta/icecream/; revision=308229

2004-04-30  Stephan Kulow  <coolo@kde.org>  [91a22c1e75b3fb599325ae4a574aabd4ae9224f6]

	I forgot

	svn path=/trunk/kdenonbeta/icecream/; revision=307623

2004-04-30  Stephan Kulow  <coolo@kde.org>  [d6637f557c419d8353b6ff4bd67d680c9cc5f325]

	or that

	svn path=/trunk/kdenonbeta/icecream/; revision=307560

2004-04-30  Stephan Kulow  <coolo@kde.org>  [0ad3cf8c6ea8bdcda5a77912e9f106483edcac2a]

	great, I cross compiled! :) (you need to update all of your farm, I bumped the minimum protocol)

	svn path=/trunk/kdenonbeta/icecream/; revision=307522

2004-04-30  Stephan Kulow  <coolo@kde.org>  [abf977d956eacf3bf12cff47d0d65e967a82e5ac]

	further preparation for cross compiling

	svn path=/trunk/kdenonbeta/icecream/; revision=307472

2004-04-30  Stephan Kulow  <coolo@kde.org>  [623605371830d3efd4488d266a5c6844e027691e]

	package the local environment for users without ICECC_VERSION - convenient feature (and another nail in the coffin for "let the daemon run as user")

	svn path=/trunk/kdenonbeta/icecream/; revision=307451

2004-04-29  Stephan Kulow  <coolo@kde.org>  [eba13c0b34a83db92018a3b002476052e3e5af98]

	preparation for cross-compiler support - from now on $ICECC_VERSION got a bit different format   (mine is /work/users/coolo/9.1-i386.tar.bz2,x86_64:/work/users/coolo/9.1-x86_64-cross-i386.tar.bz2)

	this is just the first step. Until Michael finished reading his mail,
	the scheduler will ignore all but the environments from the target platform
	(the one without actual prefix in $ICECC_VERSION)

	svn path=/trunk/kdenonbeta/icecream/; revision=307303

2004-04-28  Stephan Kulow  <coolo@kde.org>  [945d1191b74f393df7b77da4ad26164e24583a42]

	that's interesting. 2.4.0 breaks lib64 support :)

	svn path=/trunk/kdenonbeta/icecream/; revision=307002

2004-04-28  Stephan Kulow  <coolo@kde.org>  [90d0f71df180206638523413ac8372d30825e9e5]

	as I said

	svn path=/trunk/kdenonbeta/icecream/; revision=306959

2004-04-28  Stephan Kulow  <coolo@kde.org>  [8f144216778ea017e750e7deb310db428a09b5db]

	oops

	svn path=/trunk/kdenonbeta/icecream/; revision=306954

2004-04-28  Stephan Kulow  <coolo@kde.org>  [3ba8d53f19f83336500c125ded75166bfe512ce2]

	support for differing platforms (by uname's .machine) - require ICECC_VERSION to be set for now (read the TODO file if you're annoyed :)   - which in return means iceccd requires being started as root feedback wanted - especially from those that share i686 and i586 build hosts (those poor souls :)

	svn path=/trunk/kdenonbeta/icecream/; revision=306953

2004-04-26  Stephan Kulow  <coolo@kde.org>  [27528e4a465b744938ea033ebb8e9149a0e52b79]

	trying to protect against recursive calling - Scott, please test

	svn path=/trunk/kdenonbeta/icecream/; revision=306559

2004-04-26  Stephan Kulow  <coolo@kde.org>  [b2ce5b9cc4bd1900f55c3684214e409fa81e7a92]

	building binutils with icecream is no fun - tons of bugs :)

	svn path=/trunk/kdenonbeta/icecream/; revision=306540

2004-04-26  Stephan Kulow  <coolo@kde.org>  [66c48a0f12802f7f0f5a417f5a3a2faf46b4e4cc]

	don't annoy users that do not know ICECC_VERSION

	svn path=/trunk/kdenonbeta/icecream/; revision=306530

2004-04-26  Stephan Kulow  <coolo@kde.org>  [e9e945e279c1e534e54cd4c6fa45f0ab4e415225]

	empty files are absolute too - by definition :)

	svn path=/trunk/kdenonbeta/icecream/; revision=306512

2004-04-26  Stephan Kulow  <coolo@kde.org>  [cac6a78e08d685d2d0cbeeae5558f72730c607f0]

	for whoever finds it interesting to have packages

	svn path=/trunk/kdenonbeta/icecream/; revision=306455

2004-04-26  Stephan Kulow  <coolo@kde.org>  [4b3ec6213b7a830b8ffcffc9eed349b22bb7a6c0]

	adding copyright headers to all files

	svn path=/trunk/kdenonbeta/icecream/; revision=306450

2004-04-26  Stephan Kulow  <coolo@kde.org>  [3873fb70c6b9fe425697eeb49839e8bba5cde649]

	submit the output filename for local jobs too

	svn path=/trunk/kdenonbeta/icecream/; revision=306446

2004-04-25  Scott Wheeler  <wheeler@kde.org>  [3c30c487f76790b267eb7c364d98013fdbd88c68]

	This is no good.  If the user does "icecc foo.c" this currently just prints the usage message and exits.  Only print the usage stuff if it's asked for.

	svn path=/trunk/kdenonbeta/icecream/; revision=306358

2004-04-25  Scott Wheeler  <wheeler@kde.org>  [25802524bf501f2f2fd817d891a27aca418b7928]

	-frandome-seed doesn't exist on GCC < 3.

	svn path=/trunk/kdenonbeta/icecream/; revision=306330

2004-04-25  Stephan Kulow  <coolo@kde.org>  [7b911c9d22ab9ae3113e2ac2ceabb23a8ae365aa]

	found the "make gcc compilation reproducible" option - which gives comparing md5sum of the output kind of a sense for some more advanced usage of C++ :)

	svn path=/trunk/kdenonbeta/icecream/; revision=306203

2004-04-23  Stephan Kulow  <coolo@kde.org>  [689b40eee9cb65ec65c1eeecf9c1cf6acdb7b6ef]

	another case where the farm locked ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=305957

2004-04-23  Stephan Kulow  <coolo@kde.org>  [4f03c5500675e6e6bc049203274c86100c3086de]

	I was hunting this bug for quite a while - which shows what UNIX novice I am ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=305899

2004-04-23  Stephan Kulow  <coolo@kde.org>  [e1d5d09152ca7b8fc57585e4d586462a90e51245]

	I guess, relying on the preprocessor to create always the same output is naiv

	svn path=/trunk/kdenonbeta/icecream/; revision=305862

2004-04-23  Stephan Kulow  <coolo@kde.org>  [8b4a471f6935dfc854a15099f3771b588fd777ab]

	don't let the number of current childs go below 0 just because the scheduler is unavailable for a moment

	svn path=/trunk/kdenonbeta/icecream/; revision=305836

2004-04-23  Stephan Kulow  <coolo@kde.org>  [eaea35173f6522986e538f6dfb8822f76a09e44b]

	too much information even for debug

	svn path=/trunk/kdenonbeta/icecream/; revision=305792

2004-04-22  Stephan Kulow  <coolo@kde.org>  [f3e855081320814b942794e131fdd1a14fac173c]

	jobs started at the same time tend to have the same random - that wasn't my intention :)

	svn path=/trunk/kdenonbeta/icecream/; revision=305541

2004-04-22  Stephan Kulow  <coolo@kde.org>  [06012115a97b2eb73a2f38e976111af9b49582ff]

	cleaning up a bit

	svn path=/trunk/kdenonbeta/icecream/; revision=305540

2004-04-22  Stephan Kulow  <coolo@kde.org>  [0310ff2330c740232e6dd26ad898d6e066a88041]

	finally finished my failsafe feature. every ~5th job is compiled three times and then checked if the resulting object files are all the same.

	Don't worry, I'll make that configurable through ICECC_DEBUG as soon as I
	know it works :)

	svn path=/trunk/kdenonbeta/icecream/; revision=305536

2004-04-21  Stephan Kulow  <coolo@kde.org>  [eb5f1270e4f3b3e4fde41b732e52aa45b22fdca7]

	getting somewhere with my failsafe mode

	svn path=/trunk/kdenonbeta/icecream/; revision=305397

2004-04-21  Stephan Kulow  <coolo@kde.org>  [bbc232b25a5a0de32269cfe8b4a376381fe71ea1]

	a little less conversation...

	svn path=/trunk/kdenonbeta/icecream/; revision=305373

2004-04-21  Stephan Kulow  <coolo@kde.org>  [9f7923a77e7ebfa8e8985b269d053b9e13905425]

	is that part of "off by one"?

	svn path=/trunk/kdenonbeta/icecream/; revision=305362

2004-04-21  Stephan Kulow  <coolo@kde.org>  [242b0fa75f1b502c8189ec833e908881fb075d78]

	fixing the handling of protocol out of rage

	svn path=/trunk/kdenonbeta/icecream/; revision=305358

2004-04-21  Stephan Kulow  <coolo@kde.org>  [65e9d7c7008400c8d527721893c56305a80c7e7d]

	no one can spell --no-detach - default to foreground and make the switch -d, --daemonize

	svn path=/trunk/kdenonbeta/icecream/; revision=305332

2004-04-21  Stephan Kulow  <coolo@kde.org>  [5e3f2e1cfbd4fd3d8285592f11194f93568956ca]

	making the protocol version hand shake more safe

	svn path=/trunk/kdenonbeta/icecream/; revision=305328

2004-04-21  Stephan Kulow  <coolo@kde.org>  [8b96b22c8f2ffef4efcefdfc4f90f32d9ded31e9]

	* introducing at least a concept of different protocol versions talking with   each other in trying to get the minimal version and then chat with that   (requires increased protocol version :) * let the client request x jobs per file and compile it - still experimental

	svn path=/trunk/kdenonbeta/icecream/; revision=305314

2004-04-20  Stephan Kulow  <coolo@kde.org>  [36ffedb5d1c1471611ecad70848db33586d1ec63]

	preparing the client in general to compile all jobs several times (experimental, still disabled)

	svn path=/trunk/kdenonbeta/icecream/; revision=305157

2004-04-20  Frerich Raabe  <raabe@kde.org>  [32bf450ebacae17b1b9ffecb9e2b35e28b5102a8]

	- Make it possible to tell the daemon what host the scheduler runs on via   the commandline.

	svn path=/trunk/kdenonbeta/icecream/; revision=305136

2004-04-19  Scott Wheeler  <wheeler@kde.org>  [8c21ab4d7961a754a1962077bc163f3908d2a79a]

	Mention the --no-detach option.

	svn path=/trunk/kdenonbeta/icecream/; revision=304980

2004-04-19  Stephan Kulow  <coolo@kde.org>  [cc90a0ff9a98f084e420ed47e333ddbabdbef825]

	give the IP too

	svn path=/trunk/kdenonbeta/icecream/; revision=304923

2004-04-18  Stephan Kulow  <coolo@kde.org>  [2152dde1cbe229adfab209ce171404c4a3c7d77c]

	tell the monitor when one node went away - currently unused by most views

	svn path=/trunk/kdenonbeta/icecream/; revision=304577

2004-04-16  Frerich Raabe  <raabe@kde.org>  [1d016b1d800a776620cbaf7d6806e1968d22e46f]

	- Mention --log-file in usage instructions

	svn path=/trunk/kdenonbeta/icecream/; revision=304248

2004-04-16  Stephan Kulow  <coolo@kde.org>  [7c04ba0f8c3bbcc3f6632faf0d4e41219120020f]

	find the server for the local job - we used to compare by IP, but this is no longer good enough

	svn path=/trunk/kdenonbeta/icecream/; revision=304239

2004-04-16  Stephan Kulow  <coolo@kde.org>  [ff27a5d6e3dfa1eeeb8a6c56bec54a54b20e96f5]

	IDs are expensive, spare them for servers

	svn path=/trunk/kdenonbeta/icecream/; revision=304234

2004-04-16  Stephan Kulow  <coolo@kde.org>  [490f2206cccaf7a4ed989d9c4304530a36450755]

	porting monitor to new protocol - only list view activated

	svn path=/trunk/kdenonbeta/icecream/; revision=304208

2004-04-16  Stephan Kulow  <coolo@kde.org>  [d7ed21057e7daea21f7fec7102ac8b1c8401660c]

	raising protocol version for * daemons submit there local node name * the statistics message from scheduler to monitor is free text allowing me   to change the format and the content without raising protocol version (does not compile right now - work in progress)

	svn path=/trunk/kdenonbeta/icecream/; revision=304189

2004-04-16  Stephan Kulow  <coolo@kde.org>  [885f4531996f5bb70d02edd8d7784b504557b7d7]

	make nice level configurable (Lubos, your fault)

	svn path=/trunk/kdenonbeta/icecream/; revision=304151

2004-04-14  Scott Wheeler  <wheeler@kde.org>  [1ea2af75b25240750c4cf6c9c738042ac7eae85a]

	build

	svn path=/trunk/kdenonbeta/icecream/; revision=303751

2004-04-13  Stephan Kulow  <coolo@kde.org>  [a47eddb0b5573b51afe22f88361aab9135e85de9]

	no warnings by default

	svn path=/trunk/kdenonbeta/icecream/; revision=303402

2004-04-13  Stephan Kulow  <coolo@kde.org>  [c3c7ce62acf6947fc2dd7ec77c9c07d6b726796b]

	new protocol version - with working hand shake :)

	svn path=/trunk/kdenonbeta/icecream/; revision=303281

2004-04-13  Stephan Kulow  <coolo@kde.org>  [bf1c5d7f08cd995f0d047477d61d4cdedc97956d]

	just a warning

	svn path=/trunk/kdenonbeta/icecream/; revision=303280

2004-04-13  Stephan Kulow  <coolo@kde.org>  [6cbbb497fa619b214ef6036880faebc5d7503548]

	give feedback for the protocol version - trying to avoid hanging clients

	svn path=/trunk/kdenonbeta/icecream/; revision=303265

2004-04-13  Stephan Kulow  <coolo@kde.org>  [1ee5d74ad0ec24c71fd75863c39e8cc35cae416a]

	trying harder to give any host in the farm a chance to proof he's fastest (if the farm is big enough, we used to stick to the same set of hosts)

	svn path=/trunk/kdenonbeta/icecream/; revision=303256

2004-04-13  Stephan Kulow  <coolo@kde.org>  [b28f4a2a7af30b6b2f516ff1104aee3fc7a93401]

	no cout

	svn path=/trunk/kdenonbeta/icecream/; revision=303245

2004-04-13  Stephan Kulow  <coolo@kde.org>  [d66d74dc25b31b97bf91be27a3b48a6def3e60c6]

	if the scheduler is down, reconnect

	svn path=/trunk/kdenonbeta/icecream/; revision=303243

2004-04-12  Stephan Kulow  <coolo@kde.org>  [f47db1dfc1c2f747e013fa9a56965a8bd77aa363]

	trying harder not to loose track of daemons - ping them and if they still don't answer, kill them.

	svn path=/trunk/kdenonbeta/icecream/; revision=303135

2004-04-12  Stephan Kulow  <coolo@kde.org>  [19beebe19cceee99fbea14e5455ec34804c3c98f]

	oops

	svn path=/trunk/kdenonbeta/icecream/; revision=303072

2004-04-12  Stephan Kulow  <coolo@kde.org>  [e72e4337d217c452efc41074e6b2685e174e823f]

	don't printf

	svn path=/trunk/kdenonbeta/icecream/; revision=303059

2004-04-12  Stephan Kulow  <coolo@kde.org>  [dfa855b4b48092b921c5c3890c2f33c0a057cd26]

	call iceccd as --no-detach -vvv to get the old behaviour

	svn path=/trunk/kdenonbeta/icecream/; revision=303022

2004-04-12  Stephan Kulow  <coolo@kde.org>  [fa17e6ee3a61cb0485b3658350d792c18c02f01a]

	first try to get the protocol version

	svn path=/trunk/kdenonbeta/icecream/; revision=303016

2004-04-12  Stephan Kulow  <coolo@kde.org>  [1f3813c2f925853b4ece72f6177347df58cc1df7]

	trace() the load (to /dev/null)

	svn path=/trunk/kdenonbeta/icecream/; revision=302985

2004-04-12  Stephan Kulow  <coolo@kde.org>  [c8dfe2cb16f0be031742a36c809700199c81a51c]

	more trace() debugs

	svn path=/trunk/kdenonbeta/icecream/; revision=302984

2004-04-12  Stephan Kulow  <coolo@kde.org>  [71a5b703aeb7f2c07e409b75ecd95f3d485583a8]

	log to a file and filter out trace() etc per default

	svn path=/trunk/kdenonbeta/icecream/; revision=302983

2004-03-03  Cornelius Schumacher  <schumacher@kde.org>  [2fd55e512b93dd6b7dbb79ec0a05583c1eb3d20e]

	Fix typo.

	svn path=/trunk/kdenonbeta/icecream/; revision=293421

2004-03-03  Cornelius Schumacher  <schumacher@kde.org>  [489d565c1a9ceecd9053325af5fc9a05c2dd5fae]

	Add some docs about ICECC_VERSION.

	svn path=/trunk/kdenonbeta/icecream/; revision=293289

2004-03-03  Stephan Kulow  <coolo@kde.org>  [b3879b7ed715eb861e4d44ec8ff180129a6e8e26]

	back

	svn path=/trunk/kdenonbeta/icecream/; revision=293287

2004-03-03  Stephan Kulow  <coolo@kde.org>  [9e5753f3af0bd992785b09d1408c9e50308cd256]

	this is now the third time I tell someone he needs to patch PATH before calling this script

	svn path=/trunk/kdenonbeta/icecream/; revision=293281

2004-03-02  Stephan Kulow  <coolo@kde.org>  [0a41daa9be8642637d37d268877f89e5199a9569]

	be more conservative on what hosts you label as free

	svn path=/trunk/kdenonbeta/icecream/; revision=293132

2004-03-02  Stephan Kulow  <coolo@kde.org>  [88943a43d4eb4b8e247b223e5645e38c1dcb9e96]

	don't send an EndMsg to the scheduler if something failed. Just throw an exception, shut down all connections and build local without telling anyone

	svn path=/trunk/kdenonbeta/icecream/; revision=293109

2004-03-02  Stephan Kulow  <coolo@kde.org>  [dff4bda31d3becf766b21b9f087343c98f210c96]

	take canceled jobs out of the monitors

	svn path=/trunk/kdenonbeta/icecream/; revision=293100

2004-03-01  George Staikos  <staikos@kde.org>  [c07efd4c37cb3f401aabb56d8a6e64e98e44ee27]

	more to do :)

	svn path=/trunk/kdenonbeta/icecream/; revision=292753

2004-02-27  David Faure  <faure@kde.org>  [528ccbb47d827f01d764cfde06c4d0ee250405bc]

	Don't crash

	svn path=/trunk/kdenonbeta/icecream/; revision=292013

2004-02-27  Stephan Kulow  <coolo@kde.org>  [2edde1132ff3aeadc4ab9c869168f5c39c14cdd3]

	less debug

	svn path=/trunk/kdenonbeta/icecream/; revision=291766

2004-02-23  Stephan Kulow  <coolo@kde.org>  [1a53c087364f9e0f899822dee8e7e2e4481a2877]

	allow names with .

	svn path=/trunk/kdenonbeta/icecream/; revision=290492

2004-02-20  Stephan Kulow  <coolo@kde.org>  [0d97cff4133ed2ac71feb3815b6329832311214a]

	don't kill the machine if the scheduler can't be reached, but lock the machine and run one job at a time

	svn path=/trunk/kdenonbeta/icecream/; revision=289788

2004-02-20  Michael Matz  <matz@kde.org>  [13c60f50905ea652fa37600835ce4dc73fb11915]

	This should fix it.

	svn path=/trunk/kdenonbeta/icecream/; revision=289774

2004-02-20  Stephan Kulow  <coolo@kde.org>  [25806097ae96939e45796f76e19c7e986a06d695]

	Cornelius was annoyed by this very simple thing we added, but at least he had an idea we like :)

	svn path=/trunk/kdenonbeta/icecream/; revision=289707

2004-02-20  Stephan Kulow  <coolo@kde.org>  [81ac5b7f69280e196d1289d5d499816bd134dec4]

	don't even listen for clients when we're not connected to a scheduler. Otherwise we listen but don't talk - which gives hanging clients

	svn path=/trunk/kdenonbeta/icecream/; revision=289628

2004-02-20  Stephan Kulow  <coolo@kde.org>  [ce03ba3096ef776c56fd72d4d287f7ecfdfacbd8]

	some more debug

	svn path=/trunk/kdenonbeta/icecream/; revision=289622

2004-02-19  Michael Matz  <matz@kde.org>  [ddff4a4507073d0f8d1c2c0ffa0a90e59d4e6a7f]

	I overlooked one path, where this is indeed an login message. Like, ...  erm ..., linking.

	svn path=/trunk/kdenonbeta/icecream/; revision=289454

2004-02-18  Michael Matz  <matz@kde.org>  [954fc240c7ba8d8575167fefa28e4d2c79875cbc]

	Make toanswer a list, not queue. Correctly send end messages for deleted jobs.  Otherwise if a daemon dies all clients currently waiting on that machine would hang.

	svn path=/trunk/kdenonbeta/icecream/; revision=289177

2004-02-18  Michael Matz  <matz@kde.org>  [41203929b436bbc1e1e6b4f264fdaddc52d3074a]

	Would be nice.

	svn path=/trunk/kdenonbeta/icecream/; revision=289086

2004-02-18  Michael Matz  <matz@kde.org>  [04de28c6383e6b32356ef3ae62ea6daa76e32ce3]

	This is done later unconditionally.

	svn path=/trunk/kdenonbeta/icecream/; revision=289073

2004-02-18  Michael Matz  <matz@kde.org>  [638b5dfde9a5811dd4fdcce3a50bb535fe271855]

	No need to two local 100k arrays.

	svn path=/trunk/kdenonbeta/icecream/; revision=289072

2004-02-18  Michael Matz  <matz@kde.org>  [e93b1eb554c2c97628797bd83fe9c98410dd0f6b]

	Installing it is a good idea.

	svn path=/trunk/kdenonbeta/icecream/; revision=289069

2004-02-18  Michael Matz  <matz@kde.org>  [089c967a6a5e1cd14f6f38feab4dbc969ae9613e]

	Done by a script now.

	svn path=/trunk/kdenonbeta/icecream/; revision=289065

2004-02-18  Michael Matz  <matz@kde.org>  [1bf8fc44fb2c6971792fce2fd82b566e27a62a17]

	If the client end normally, don't do cleanups.  (This will break if the daemon exits after sending the .o file, but before sending the job_end message).

	svn path=/trunk/kdenonbeta/icecream/; revision=289021

2004-02-18  Stephan Kulow  <coolo@kde.org>  [23cdc67be16dccb82c99d3fb6b6ee6545ec5c6b6]

	avoid bogus warning

	svn path=/trunk/kdenonbeta/icecream/; revision=289019

2004-02-18  Stephan Kulow  <coolo@kde.org>  [cc4b402a6b0f20f4f78bb48b91de623da46eadf3]

	reannounce environments and ignore meanwhile the servers with installing environments

	svn path=/trunk/kdenonbeta/icecream/; revision=289014

2004-02-18  Michael Matz  <matz@kde.org>  [52ebadb7ad008bf6eb633347cb5b0469f49c9af9]

	I didn't want to check in the use of gzip.

	svn path=/trunk/kdenonbeta/icecream/; revision=289009

2004-02-18  Scott Wheeler  <wheeler@kde.org>  [928473fb175eaa2bfcc7d10b2927c1bc46ce8d04]

	Make icecream build on older systems (glibc 2.2.5, gcc 2.95).  Approved by Matz...

	svn path=/trunk/kdenonbeta/icecream/; revision=289004

2004-02-17  Michael Matz  <matz@kde.org>  [7ade150ad2bd92b86bd296e114c3b63c12358203]

	In retrospective just the scheduler is broken.

	svn path=/trunk/kdenonbeta/icecream/; revision=288889

2004-02-17  Michael Matz  <matz@kde.org>  [b175890c2688d298c231c8502d30a24e4be68fb7]

	Did something.

	svn path=/trunk/kdenonbeta/icecream/; revision=288888

2004-02-17  Michael Matz  <matz@kde.org>  [18e85ab781b070565b8ea68ae26040fb27419010]

	local-job messages to the scheduler were broken.  Client tried to send them after END was already sent.  Not possible.  Working around this exposed some other bugs.

	svn path=/trunk/kdenonbeta/icecream/; revision=288873

2004-02-17  Michael Matz  <matz@kde.org>  [e72de739c953fe86e3b3eab6f2ed09a44d85294d]

	Also removing it from daemons joblist leaves the scheduler in a saner state.

	svn path=/trunk/kdenonbeta/icecream/; revision=288856

2004-02-17  Michael Matz  <matz@kde.org>  [833af0f970831622bd8ceb405287078d8544dd46]

	Rewrite end of socket handling.  Fixes at least one segfault. Still not complete though.

	svn path=/trunk/kdenonbeta/icecream/; revision=288852

2004-02-17  Michael Matz  <matz@kde.org>  [e5537c7be215ade89067ee39b6adf6de42275f98]

	Don't access deleted message.  Send END message only when daemon got successfully contacted.

	svn path=/trunk/kdenonbeta/icecream/; revision=288851

2004-02-17  Stephan Kulow  <coolo@kde.org>  [250f0ea539c879eb75385bf330d5bdf50b4ac045]

	do not fall back in the daemon when the environment doesn't exist

	svn path=/trunk/kdenonbeta/icecream/; revision=288703

2004-02-16  Michael Matz  <matz@kde.org>  [f369f2360462ff15d246dd736a0426e328c9df9e]

	Otherwise we have forgotten in two weeks.

	svn path=/trunk/kdenonbeta/icecream/; revision=288498

2004-02-16  Stephan Kulow  <coolo@kde.org>  [697579542e3ab001bb2a55d8275b00de5b414099]

	don't let linux 2.6.2 DoS us ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=288491

2004-02-16  Michael Matz  <matz@kde.org>  [60c36b258b6f641f69c4cf6e8c319dc25d3cc876]

	I think a script is better.

	svn path=/trunk/kdenonbeta/icecream/; revision=288469

2004-02-09  Stephan Kulow  <coolo@kde.org>  [941761ee9909899c40a6f8dec1611da9c49817d4]

	one part is done

	svn path=/trunk/kdenonbeta/icecream/; revision=286599

2004-02-09  Stephan Kulow  <coolo@kde.org>  [52ed286b978dbdaed47dd5d2bd1c72860008a282]

	make support for versions work. You still better do not update though :)

	svn path=/trunk/kdenonbeta/icecream/; revision=286598

2004-02-09  Stephan Kulow  <coolo@kde.org>  [811c60c01e49815f2c4b6c02edc54ea6898295c2]

	two fixes for the env transfer

	svn path=/trunk/kdenonbeta/icecream/; revision=286557

2004-02-08  Stephan Kulow  <coolo@kde.org>  [f5b6bf1ae100f38dafc0442b0a4afc3f0d3022a7]

	more work on compiler environments

	svn path=/trunk/kdenonbeta/icecream/; revision=286231

2004-02-07  Stephan Kulow  <coolo@kde.org>  [3b9e8eab19a3cfeb5bf02abe505fead1bdd40744]

	adding an option to create a tar ball with the compile environment

	svn path=/trunk/kdenonbeta/icecream/; revision=285956

2004-02-07  Stephan Kulow  <coolo@kde.org>  [2f600f0f8eb52304525920ff633d3e37f701460c]

	let the compiler decide if he can inline

	svn path=/trunk/kdenonbeta/icecream/; revision=285791

2004-02-07  Stephan Kulow  <coolo@kde.org>  [6cbb9505cf1fe1d201e9414481f96df5b9040f47]

	thanks Frerich, but the arguments once are fine

	svn path=/trunk/kdenonbeta/icecream/; revision=285790

2004-02-06  Frerich Raabe  <raabe@kde.org>  [d38745f03fd5e75091c6ecb9c093c4c9e87ac379]

	- Whoever wanted to make this compile on FreeBSD must've been using an editor   window which was only three lines in height.

	svn path=/trunk/kdenonbeta/icecream/; revision=285699

2004-02-06  Frerich Raabe  <raabe@kde.org>  [576450abd549f1f58f59c47db8430eb21a56501c]

	- fixed copy&paste error

	svn path=/trunk/kdenonbeta/icecream/; revision=285691

2004-02-06  Daniel Molkentin  <molkentin@kde.org>  [1f183e55e443fdebdc285ebdf9b9a22dda334faa]

	- allow for selecting a custom port (pending: implement in daemon and monitor) - more verbose help

	svn path=/trunk/kdenonbeta/icecream/; revision=285615

2004-02-06  Daniel Molkentin  <molkentin@kde.org>  [12e2635844be12fea097a7a53183b63702c92445]

	compile

	svn path=/trunk/kdenonbeta/icecream/; revision=285571

2004-02-06  Stephan Kulow  <coolo@kde.org>  [7737b92a0eeaa762b2717b1a2d19586fc2979893]

	trying harder to catch unexpected client errors gracefully

	svn path=/trunk/kdenonbeta/icecream/; revision=285569

2004-02-05  Frerich Raabe  <raabe@kde.org>  [e78a805de6eb465db64da9ba7a648d7eca2f7d40]

	- Fix code duplication (and removed funny appendList implementation, why on   earth is there a dedicated method for such a task?)

	svn path=/trunk/kdenonbeta/icecream/; revision=285276

2004-02-02  Luboš Luňák  <l.lunak@kde.org>  [40b1dc888799aa8a0aa54a55237b2617b27e1c04]

	Handle user break doing local compiles, in order to always send JobLocalDoneMsg. They'd stay stuck in icemon (at least).

	svn path=/trunk/kdenonbeta/icecream/; revision=284472

2004-02-02  Luboš Luňák  <l.lunak@kde.org>  [47201af0c744ac2e4209e0b6f832c74d0857f317]

	Maybe even better - create the data from remote compilation first as a temporary file, rename only after successfully receving it.

	svn path=/trunk/kdenonbeta/icecream/; revision=284469

2004-02-02  Luboš Luňák  <l.lunak@kde.org>  [159760ac994c462a79bb88b3dde152bcc44f8b0f]

	Don't create empty .o files if remote compile failed.

	svn path=/trunk/kdenonbeta/icecream/; revision=284468

2004-02-02  Luboš Luňák  <l.lunak@kde.org>  [a0830e42f7dd9446129133db48100e17f6101338]

	Fix usage when used together with ccache. Gcc has the brai^H^H^Hinteresting feature that g++ -E preprocessed.ii outputs big nothing. Detect .i/.ii files and use cat instead of g++ -E for them.

	svn path=/trunk/kdenonbeta/icecream/; revision=284467

2004-01-31  Frerich Raabe  <raabe@kde.org>  [7c4846affe87bf52cdadd053565d1a8b503c6372]

	- Trying to get /proc-dependant stuff ported to FreeBSD

	svn path=/trunk/kdenonbeta/icecream/; revision=284000

2004-01-30  Luboš Luňák  <l.lunak@kde.org>  [db9b9c1e2abdd34292edfa58016884b2b394db0b]

	1014 -> 1024 . Let's not risk load higher than maximum ;).

	svn path=/trunk/kdenonbeta/icecream/; revision=283789

2004-01-30  Michael Matz  <matz@kde.org>  [a4f290d158f02c4aa6707fabeb46851e0177ead3]

	Too much copy-paste.  No sense in an own process group for the client.

	svn path=/trunk/kdenonbeta/icecream/; revision=283787

2004-01-29  Michael Matz  <matz@kde.org>  [c0deea8d5c99da450009a86ac5fdfb75ee35aca5]

	I prefer it this way.

	svn path=/trunk/kdenonbeta/icecream/; revision=283660

2004-01-29  Luboš Luňák  <l.lunak@kde.org>  [9121a8c6488d03cbd0d830d08e1967b5fb849d57]

	Nice cryptic error message. Either the type is list, or the variable is list, but not both.

	svn path=/trunk/kdenonbeta/icecream/; revision=283651

2004-01-26  George Staikos  <staikos@kde.org>  [1edbbbc7a50ce1cfa5d1d0aa38a1ca5b0d599291]

	compile

	svn path=/trunk/kdenonbeta/icecream/; revision=282811

2004-01-26  George Staikos  <staikos@kde.org>  [63534b25dee9317757dbfcb22c504c20e2cb1201]

	compile

	svn path=/trunk/kdenonbeta/icecream/; revision=282777

2004-01-21  Michael Matz  <matz@kde.org>  [cba0e88fb5554bb297a85f2fba9faee5b2810f8b]

	Forgot.

	svn path=/trunk/kdenonbeta/icecream/; revision=281567

2004-01-21  Michael Matz  <matz@kde.org>  [fa9aad44b487c3eb4d01808a675302a3c83779c6]

	Clean up unused code.

	svn path=/trunk/kdenonbeta/icecream/; revision=281566

2004-01-16  Michael Matz  <matz@kde.org>  [a7f6985e9f3379a64805c94df16eb8522a41b038]

	Subtle.  Obviously people only compile correct code, because with errors the client would segfault.

	svn path=/trunk/kdenonbeta/icecream/; revision=280272

2004-01-09  Stephan Kulow  <coolo@kde.org>  [73605992167865064bf8879e8cc3bc5360cc39b1]

	people are mean ;)

	svn path=/trunk/kdenonbeta/icecream/; revision=278084

2004-01-09  Stephan Kulow  <coolo@kde.org>  [34b3b53013be2d83766f59cbff16be60a49cdfa1]

	do not use more jobs than CPUs (still suggested to overrun machines that are idle most of the time - use -m for that) -w is without option

	svn path=/trunk/kdenonbeta/icecream/; revision=278081

2004-01-05  Stephan Kulow  <coolo@kde.org>  [32cbbd7cbefbd83c126ca09c955930200189cbd7]

	when a daemon exits, remove everything we know about it to avoid crashes (this might not be the perfect solution, better might be to keep it around for a while and mark it offline)

	svn path=/trunk/kdenonbeta/icecream/; revision=276997

2004-01-05  Stephan Kulow  <coolo@kde.org>  [06464afe409240ac5c1171eb3bbe04ec762214b9]

	allowing 0 jobs is all fine, but it does it really have to be the default?

	svn path=/trunk/kdenonbeta/icecream/; revision=276984

2004-01-04  Daniel Molkentin  <molkentin@kde.org>  [35451a854fc4b773fe3b8df9b6b245b6547e432b]

	As long as the scheduler is not smart enough to spare old and slow PC's, allow 0 compile processes. Also allowing negative -m's do not really make sense :)

	svn path=/trunk/kdenonbeta/icecream/; revision=276752

2004-01-04  Daniel Molkentin  <molkentin@kde.org>  [5a9da604e8bfce7aa1bc123e18bdedaa0bdaf6c9]

	fix copyright. Too bad there is no AUTHORS file or any copyright headers. Could somebody please add them?

	svn path=/trunk/kdenonbeta/icecream/; revision=276558

2004-01-04  Daniel Molkentin  <molkentin@kde.org>  [c155f92fac03662da298e0a374356eb428aa28c1]

	add warning about use in untrusted networks

	svn path=/trunk/kdenonbeta/icecream/; revision=276555

2004-01-04  Daniel Molkentin  <molkentin@kde.org>  [ab5531b8cab44d199cd0289ff7c18f4390f218e1]

	Add a small README :)

	svn path=/trunk/kdenonbeta/icecream/; revision=276509

2004-01-04  Daniel Molkentin  <molkentin@kde.org>  [e21dac68d058ba12b6428bc8c2ede16383a36b5a]

	ported to getopt

	svn path=/trunk/kdenonbeta/icecream/; revision=276503

2004-01-03  Daniel Molkentin  <molkentin@kde.org>  [52b71f29b3ffb415238370bad35a1f28ed64cec5]

	don't lie

	svn path=/trunk/kdenonbeta/icecream/; revision=276500

2004-01-03  Daniel Molkentin  <molkentin@kde.org>  [faa911430da122c0557bf1a95a82fa9fc07ed32f]

	port to getopt

	svn path=/trunk/kdenonbeta/icecream/; revision=276495

2004-01-03  Daniel Molkentin  <molkentin@kde.org>  [75cf1ecc32078c0326e6e56400de4673c428155c]

	Ok, everybody sick of hacking his own processor limit in main.cpp: Enter -m (max_processes)

	svn path=/trunk/kdenonbeta/icecream/; revision=276483

2004-01-03  Adriaan de Groot  <groot@kde.org>  [c0bea52f5ae6bc21f8f17cc67d869e069410edb2]

	Administrative

	svn path=/trunk/kdenonbeta/icecream/; revision=276280

2004-01-02  Adriaan de Groot  <groot@kde.org>  [bead88e8b08e48667d17fc3cc8aaba2f063f2903]

	More includes, and what the heck is rs_log_error?

	svn path=/trunk/kdenonbeta/icecream/; revision=276116

2004-01-02  Adriaan de Groot  <groot@kde.org>  [49faacc18e15024a3b2098140370e7fbd0dc1297]

	Get the includes right

	svn path=/trunk/kdenonbeta/icecream/; revision=276108

2004-01-02  Adriaan de Groot  <groot@kde.org>  [0cc3aacb1b8848f589c72204a7daf870a14802aa]

	Need other includes for sendfile; O_LARGEFILE doesn't exist.

	svn path=/trunk/kdenonbeta/icecream/; revision=276085

2004-01-02  Adriaan de Groot  <groot@kde.org>  [5266fc1fbf6c59fa659f70e19929268db66b62c7]

	socklen_t needs includes in BSD

	svn path=/trunk/kdenonbeta/icecream/; revision=276082

2004-01-02  Adriaan de Groot  <groot@kde.org>  [25cc3d596e54a063e1db5e482b301ce3a11c7828]

	stdint.h is a linuxism

	svn path=/trunk/kdenonbeta/icecream/; revision=276079

2003-12-30  Stephan Kulow  <coolo@kde.org>  [26faeaae1d53d83d7ddd4ff294bae68f9b0f43ef]

	At least some fairness. Rotate through the clients when looking for a new job.

	svn path=/trunk/kdenonbeta/icecream/; revision=275616

2003-12-26  Stephan Kulow  <coolo@kde.org>  [dc484743107920263be468cdc0fb51b50b5066d9]

	removing debug output always makes me think it's stable :)

	svn path=/trunk/kdenonbeta/icecream/; revision=274965

2003-12-26  Stephan Kulow  <coolo@kde.org>  [e39984d8b8bf2d35ecc6af70aeb79860bdd04480]

	removing some debug blah blah

	svn path=/trunk/kdenonbeta/icecream/; revision=274953

2003-12-25  Stephan Kulow  <coolo@kde.org>  [fdf618fe439f738481fdd8e39743992f3282e29a]

	relocatable

	svn path=/trunk/kdenonbeta/icecream/; revision=274828

2003-12-25  Stephan Kulow  <coolo@kde.org>  [f7ba3cca19d732140bb850ded3272a6fa750263f]

	show link jobs in the monitor. Triggers some bugs in ganttview and shows nicely how urgently the libtool rewrite needs to be finished :)

	svn path=/trunk/kdenonbeta/icecream/; revision=274827

2003-12-23  Ingo Klöcker  <kloecker@kde.org>  [41c690b83bc51475d3c8b238661d4bcaf517bf44]

	make it compile

	svn path=/trunk/kdenonbeta/icecream/; revision=274594

2003-12-22  Stephan Kulow  <coolo@kde.org>  [193513f59aa6570a31c5bb43c19b4544c3aec518]

	I know I'm abusing my power here, but David said it's fine:

	This directory isn't compiled by the normal KDE build system as
	it's not exactly a KDE application. If you can find out what it is,
	feel free to use it though - happy christmas :)

	The code is missing copyright messages a lot, but it's mostly
	by distcc authors, Michael Matz, Frerich Raabe, Cornelius Schumacher
	and me.

	CCMAIL: cs@kde.org, schumacher@kde.org, matz@kde.org, raabe@kde.org

	svn path=/trunk/kdenonbeta/icecream/; revision=274335

2003-12-12  Stephan Kulow  <coolo@kde.org>  [ad0f3689e0a63bfcc7fcaeb091664b2fd1fc09f7]

	uncommented some debug output and do not abort on empty msgs until matz tells what it is :)

	svn path=/trunk/kdenonbeta/icecream/; revision=272625

2003-12-11  Stephan Kulow  <coolo@kde.org>  [4bcf36e172292fdc73f3f5ff8f5c6ec200305962]

	transfer the max_kids number per host to the mon

	svn path=/trunk/kdenonbeta/icecream/; revision=272466

2003-12-11  Stephan Kulow  <coolo@kde.org>  [53921905a5068d30c764a4af95dcb1fdf499e3bc]

	adding tons of debug output to get closer to a problem that had a simple origin: select can return with errno = EINTR without it being a fatal error

	svn path=/trunk/kdenonbeta/icecream/; revision=272464

2003-11-13  Stephan Kulow  <coolo@kde.org>  [92130e89d2ca921f40d396d68f2c8677a6f19df7]

	argument lists

	svn path=/trunk/kdenonbeta/icecream/; revision=266827

2003-11-13  Stephan Kulow  <coolo@kde.org>  [35e06b9509ddf91008cfda09508ff2b57b4c84c1]

	start process group

	svn path=/trunk/kdenonbeta/icecream/; revision=266814

2003-11-12  Michael Matz  <matz@kde.org>  [ddee9c359a21af2330144c59428be2b4b2e0bc21]

	Blocking write on a non-blocking socket needs more that just some write calls (should fix some strange behaviour of lingering cc1(plus)).

	svn path=/trunk/kdenonbeta/icecream/; revision=266623

2003-11-10  Michael Matz  <matz@kde.org>  [e76f8a085fd51940db2677c2162d4bc95d809e29]

	EOF is also a "message".

	svn path=/trunk/kdenonbeta/icecream/; revision=266119

2003-10-31  Michael Matz  <matz@kde.org>  [9807c81fd0e9bab9d3589164c7fbec84a5a3c959]

	Make use of nonblocking reading.  Didn't check if it's really nonblocking ;-) While doing this it turned out that the lifetime of objects became quite complex and unmanagable.

	svn path=/trunk/kdenonbeta/icecream/; revision=263556

2003-10-31  Michael Matz  <matz@kde.org>  [28c23ddbe40cf3d8dfcc05e0aa8ef888a9facbe6]

	Backbone for nonblocking MsgChannels.  Also has a (mostly) blocking interface (by default) for easy use.

	svn path=/trunk/kdenonbeta/icecream/; revision=263352

2003-10-28  Stephan Kulow  <coolo@kde.org>  [ec0d89c078d23f4e4821ba011c787e6b3a711330]

	bug found

	svn path=/trunk/kdenonbeta/icecream/; revision=262774

2003-10-28  Stephan Kulow  <coolo@kde.org>  [40780b5911cafa755c934a8d276becbe210835dd]

	try to keep the arguments list intact as much as possible

	svn path=/trunk/kdenonbeta/icecream/; revision=262735

2003-10-28  Stephan Kulow  <coolo@kde.org>  [2b769aedc76e1415afaf34ecad3cd6186b5ee279]

	some fixes for make dist

	svn path=/trunk/kdenonbeta/icecream/; revision=262734

2003-10-25  Stephan Kulow  <coolo@kde.org>  [1e428ce194292714121337976ab63b4bf6c6a9d8]

	don't split the args in three list, but in one flags list

	svn path=/trunk/kdenonbeta/icecream/; revision=261859

2003-10-24  Stephan Kulow  <coolo@kde.org>  [3403f4a4a659fb5ac2e77a70d05254d0b7ca657d]

	ugly

	svn path=/trunk/kdenonbeta/icecream/; revision=261542

2003-10-24  Stephan Kulow  <coolo@kde.org>  [3f5f47236b6cd4fb04ff5a23af6ee8fcc42dcbc2]

	local args last - as they contain the link arguments

	svn path=/trunk/kdenonbeta/icecream/; revision=261531

2003-10-22  Michael Matz  <matz@kde.org>  [5d3696737f32ed7191e58a81064a97988e04b8e6]

	Ja ja, nicht wirklich viel.  Kann man zu dieser Zeit auch nicht erwarten.

	svn path=/trunk/kdenonbeta/icecream/; revision=261164

2003-10-22  Stephan Kulow  <coolo@kde.org>  [271ca1482ec9d5a8202f10e308d0c2f59052bcb9]

	moved the file

	svn path=/trunk/kdenonbeta/icecream/; revision=260973

2003-10-21  Stephan Kulow  <coolo@kde.org>  [dde6e6d2d5c1f75600e35e3a3f5b878243177b84]

	note

	svn path=/trunk/kdenonbeta/icecream/; revision=260852

2003-10-21  Stephan Kulow  <coolo@kde.org>  [639be0d82a34df14484eb08409cf701670366826]

	return only the exit status

	svn path=/trunk/kdenonbeta/icecream/; revision=260851

2003-10-21  Stephan Kulow  <coolo@kde.org>  [c5e5311f1c21250336b8b808e83fbea4cceb7ca3]

	return only the exit status

	svn path=/trunk/kdenonbeta/icecream/; revision=260850

2003-10-21  Stephan Kulow  <coolo@kde.org>  [b7ccce45e55f717dd40a55dd9ba32f47b805d720]

	handle failures of preprocessor

	svn path=/trunk/kdenonbeta/icecream/; revision=260847

2003-10-21  Stephan Kulow  <coolo@kde.org>  [7bb9075a4bb31e2b450fce7b74a8d6c915dbb6c4]

	install symlinks

	svn path=/trunk/kdenonbeta/icecream/; revision=260835

2003-10-21  Stephan Kulow  <coolo@kde.org>  [26e2b93ca773000f40e3d886ec6dce16f1da1a48]

	distribute load to the monitors

	svn path=/trunk/kdenonbeta/icecream/; revision=260817

2003-10-21  Michael Matz  <matz@kde.org>  [4c84a2d897adfbc67c135c56c016387d6909b385]

	More stuff

	svn path=/trunk/kdenonbeta/icecream/; revision=260794

2003-10-21  Michael Matz  <matz@kde.org>  [6c470c737fa10b23c93b47e84c0433e85ea82ef2]

	Coolo had to go home, hence the bodies from me.

	svn path=/trunk/kdenonbeta/icecream/; revision=260793

2003-10-21  Stephan Kulow  <coolo@kde.org>  [e18e1bd17ee0d4f8e7d2dbb89c6f0b88b9536d4f]

	more load numbers

	svn path=/trunk/kdenonbeta/icecream/; revision=260786

2003-10-21  Michael Matz  <matz@kde.org>  [aa352b555b0470b5dd58de1c4900854cd1eb367b]

	Output all available netnames.

	svn path=/trunk/kdenonbeta/icecream/; revision=260785

2003-10-21  Michael Matz  <matz@kde.org>  [7b99ca9704f86ba483868a0f1292905d656106c2]

	Factor code and a get_netnames() method.

	svn path=/trunk/kdenonbeta/icecream/; revision=260783

2003-10-21  Stephan Kulow  <coolo@kde.org>  [74cac671a864fdfc56caed87dd4aa386c18c66d8]

	removed debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=260777

2003-10-21  Stephan Kulow  <coolo@kde.org>  [0721c1f151122844ee89bc20f94c6ba38e1f78fd]

	ignore tbcompiler links too

	svn path=/trunk/kdenonbeta/icecream/; revision=260767

2003-10-21  Stephan Kulow  <coolo@kde.org>  [6f00d505ca665cce3ec30114ab8da95d525498e6]

	fixing two TODOs

	svn path=/trunk/kdenonbeta/icecream/; revision=260756

2003-10-21  Stephan Kulow  <coolo@kde.org>  [9b4e49dc8005f5b7b436526639f7453ff51b4f04]

	aetsch

	svn path=/trunk/kdenonbeta/icecream/; revision=260749

2003-10-21  Stephan Kulow  <coolo@kde.org>  [79f4f7bf1810ccb8b4ecd656c6c4412a21a0fede]

	checking

	svn path=/trunk/kdenonbeta/icecream/; revision=260747

2003-10-21  Stephan Kulow  <coolo@kde.org>  [cd30ffc7b46a443aa3b553f46388fc9860505166]

	finding the binary

	svn path=/trunk/kdenonbeta/icecream/; revision=260746

2003-10-21  Michael Matz  <matz@kde.org>  [b2e0f1cd2518fbde33cdc0a20c1812374f97f587]

	Add -n option for giving a netname.

	svn path=/trunk/kdenonbeta/icecream/; revision=260744

2003-10-21  Michael Matz  <matz@kde.org>  [71f6be4c404d0604aa6b71f3c2a8c73b5e1904d2]

	Support searching for a given netname.

	svn path=/trunk/kdenonbeta/icecream/; revision=260742

2003-10-21  Michael Matz  <matz@kde.org>  [5f7625cf3ce6d643d82b90cdcff5cf9ae9f9e232]

	Count nice load as idle, so we ignore our own jobs.

	svn path=/trunk/kdenonbeta/icecream/; revision=260729

2003-10-21  Stephan Kulow  <coolo@kde.org>  [3daaa9e60340193698c111f685f898fcd6a8fe80]

	updated

	svn path=/trunk/kdenonbeta/icecream/; revision=260720

2003-10-21  Stephan Kulow  <coolo@kde.org>  [25e69eafc08ec4aea6f086f9fcbd2d6ea9d8840a]

	trying to catch failed jobs

	svn path=/trunk/kdenonbeta/icecream/; revision=260712

2003-10-20  Michael Matz  <matz@kde.org>  [c6e827ffa4a7d748c33691ac2427ca2ae3328ce7]

	Make the toplevel SIGCHLD handler not restart some syscalls (select() in our case).

	svn path=/trunk/kdenonbeta/icecream/; revision=260548

2003-10-20  Stephan Kulow  <coolo@kde.org>  [ab528c74fd0d0af7be6c90a501044e7a53a4d857]

	the client is important too

	svn path=/trunk/kdenonbeta/icecream/; revision=260545

2003-10-20  Stephan Kulow  <coolo@kde.org>  [30a9ec767d29de696dc4da793b33544a844232e4]

	finished

	svn path=/trunk/kdenonbeta/icecream/; revision=260539

2003-10-20  Stephan Kulow  <coolo@kde.org>  [d24a0ac9e429fd9fb3fa7dc2b2f0dec034125f8b]

	JobBegin

	svn path=/trunk/kdenonbeta/icecream/; revision=260531

2003-10-20  Stephan Kulow  <coolo@kde.org>  [5714016de3551c4256f436e8867255c5eaadb3e9]

	GetCS message

	svn path=/trunk/kdenonbeta/icecream/; revision=260529

2003-10-20  Michael Matz  <matz@kde.org>  [64ef139aa02254d30d9a4691501a7a542955b44d]

	Monitor messages.

	svn path=/trunk/kdenonbeta/icecream/; revision=260502

2003-10-20  Stephan Kulow  <coolo@kde.org>  [1d9431f8ababa3095417f836c99e5048ecdaab76]

	nice 5, safer cut offs

	svn path=/trunk/kdenonbeta/icecream/; revision=260457

2003-10-20  Michael Matz  <matz@kde.org>  [d02a10ab0513de1c7f9d2368d953f6949a0910e9]

	Output the supported compiler version when daemon connects.

	svn path=/trunk/kdenonbeta/icecream/; revision=260438

2003-10-20  Stephan Kulow  <coolo@kde.org>  [a602a50710fcdff2c932510377a9e327dc1b6b02]

	total=

	svn path=/trunk/kdenonbeta/icecream/; revision=260431

2003-10-20  Stephan Kulow  <coolo@kde.org>  [f5028b35a89f9196757ea3ccba283e76d0e857a6]

	memory load

	svn path=/trunk/kdenonbeta/icecream/; revision=260430

2003-10-20  Michael Matz  <matz@kde.org>  [34cbeae30d70fca16ac467757c4507a6c2a16639]

	collect and use statistics.

	svn path=/trunk/kdenonbeta/icecream/; revision=260422

2003-10-20  Michael Matz  <matz@kde.org>  [4c8ff69ad1c73d7c1f8689f24d732fa69630e467]

	max_load is no more.

	svn path=/trunk/kdenonbeta/icecream/; revision=260420

2003-10-20  Stephan Kulow  <coolo@kde.org>  [b81655f206b04dc0f4ed7c5596510cbbbbc8ef97]

	compile

	svn path=/trunk/kdenonbeta/icecream/; revision=260412

2003-10-20  Stephan Kulow  <coolo@kde.org>  [1acfa69f4940fed5318d4656b3d68b57bc98e5dd]

	load is 0-1000 now

	svn path=/trunk/kdenonbeta/icecream/; revision=260406

2003-10-20  Michael Matz  <matz@kde.org>  [e500577396bb7344819ea1cab1835a651817cf4f]

	First build, then commit.

	svn path=/trunk/kdenonbeta/icecream/; revision=260383

2003-10-20  Michael Matz  <matz@kde.org>  [424f30c64d4b404a21f6a592ea3d441837a15fb0]

	Transmit RSS in KB.

	svn path=/trunk/kdenonbeta/icecream/; revision=260375

2003-10-15  Stephan Kulow  <coolo@kde.org>  [8010c5848814432d63c6990a14663e4ac144ce7a]

	let handle_* return bool, I always mix if a 1 is good or bad :)

	svn path=/trunk/kdenonbeta/icecream/; revision=259081

2003-10-14  Stephan Kulow  <coolo@kde.org>  [999028d8396bd4735b7fe085b03924717b216f57]

	checking for gnu indent style :)

	svn path=/trunk/kdenonbeta/icecream/; revision=258837

2003-10-13  Stephan Kulow  <coolo@kde.org>  [8c2d75541373950df8e4defa6cc7e6a0cb1b65b1]

	fixing get_absname

	svn path=/trunk/kdenonbeta/icecream/; revision=258630

2003-10-13  Stephan Kulow  <coolo@kde.org>  [4e21e7ebfbf860b7990abe5d81a83059f9941801]

	don't try to div 0

	svn path=/trunk/kdenonbeta/icecream/; revision=258619

2003-10-13  Stephan Kulow  <coolo@kde.org>  [8923cd71d121382c43541a08f29d179f59cad313]

	cooler debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=258618

2003-10-13  Stephan Kulow  <coolo@kde.org>  [369d7802b8f06cc47569bff742dc5f6e7cd2d0a8]

	removing some debug output - fixing select in daemon

	svn path=/trunk/kdenonbeta/icecream/; revision=258609

2003-10-13  Stephan Kulow  <coolo@kde.org>  [b8a97a82cbbb5817b63ef98ead821096a985570a]

	more infos in JobDoneMsg

	svn path=/trunk/kdenonbeta/icecream/; revision=258576

2003-10-13  Stephan Kulow  <coolo@kde.org>  [55b6fa7e7ef2b0ddcb7ecf2c8a0c554d658fa8ed]

	filling JobDoneMsg with flesh

	svn path=/trunk/kdenonbeta/icecream/; revision=258574

2003-10-13  Stephan Kulow  <coolo@kde.org>  [6923f85edff0e3a42d358a37d767cbb3c7e1ff24]

	const

	svn path=/trunk/kdenonbeta/icecream/; revision=258542

2003-10-13  Michael Matz  <matz@kde.org>  [b6d4a18a6ffbf1bf86d34777ce7059d75a18a56d]

	Make scheduler send a netname (currently hardcoded to "ICECREAM").

	svn path=/trunk/kdenonbeta/icecream/; revision=258528

2003-10-10  Stephan Kulow  <coolo@kde.org>  [b3fb1b985d7ed00b422119738f6188ea5a9d8104]

	don't leak fds and channels

	svn path=/trunk/kdenonbeta/icecream/; revision=257845

2003-10-10  Stephan Kulow  <coolo@kde.org>  [d0b242396c24e41155961ea74a01a96f3e610a25]

	correctly spread jobs

	svn path=/trunk/kdenonbeta/icecream/; revision=257837

2003-10-10  Stephan Kulow  <coolo@kde.org>  [b6daa4f37b1842260bd2a5a86c172bb6ce54bcfe]

	trying to use the envs

	svn path=/trunk/kdenonbeta/icecream/; revision=257834

2003-10-10  Stephan Kulow  <coolo@kde.org>  [6535639ab9778c2dd22db8b5777bac3346fb00f9]

	find and distribute the list of environments

	svn path=/trunk/kdenonbeta/icecream/; revision=257822

2003-10-10  Stephan Kulow  <coolo@kde.org>  [f178d6f17bb572b59864ebdf4be45511fe521ff4]

	notes

	svn path=/trunk/kdenonbeta/icecream/; revision=257775

2003-10-10  Stephan Kulow  <coolo@kde.org>  [df8b50a5eb67140d9339415a65b515e3145d1fc4]

	spread the version

	svn path=/trunk/kdenonbeta/icecream/; revision=257768

2003-10-10  Stephan Kulow  <coolo@kde.org>  [eab3f55c348cf45013fe946ad7c8c5be118e7cff]

	trying more gnu style :)

	svn path=/trunk/kdenonbeta/icecream/; revision=257651

2003-10-09  Stephan Kulow  <coolo@kde.org>  [3260cba4f69ffd0a7ba7f1508637a2485bc41524]

	trying harder to broadcast, but meanwhile I blame the firewall ;(

	svn path=/trunk/kdenonbeta/icecream/; revision=257547

2003-10-09  Stephan Kulow  <coolo@kde.org>  [fe86d9625322e763fbe59413c09c1ee740ed2c19]

	copyright Frerich Raabe

	svn path=/trunk/kdenonbeta/icecream/; revision=257527

2003-10-09  Stephan Kulow  <coolo@kde.org>  [3a56f09cdf1835066be53fdaca19eac27462ab03]

	don't fork off the scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=257512

2003-10-09  Stephan Kulow  <coolo@kde.org>  [263175153c1d40c9cdc09817dfdf5e2d5567402e]

	trying to cope better with errors in the scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=257480

2003-10-09  Stephan Kulow  <coolo@kde.org>  [a0c0948aeca1a03bcb6dc8fb527db9fa26097ca2]

	trying to be a bit smarter in error handling

	svn path=/trunk/kdenonbeta/icecream/; revision=257471

2003-10-09  Stephan Kulow  <coolo@kde.org>  [f3a8bf472d54ffeeb046391236c7d0439ddf9836]

	don't wait too long for the scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=257459

2003-10-09  Stephan Kulow  <coolo@kde.org>  [28efc0cf9a4fa5af8feee290c2f73f11b5e7081a]

	reconnect to scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=257456

2003-10-09  Stephan Kulow  <coolo@kde.org>  [06f11e77fc8a25706cc230dfe89de81cf83b3d86]

	better broadcast

	svn path=/trunk/kdenonbeta/icecream/; revision=257435

2003-10-09  Michael Matz  <matz@kde.org>  [39bad51da72cb0e4f40f468c515edbc2164a3b89]

	Grmbl.

	svn path=/trunk/kdenonbeta/icecream/; revision=257432

2003-10-08  Stephan Kulow  <coolo@kde.org>  [1ef71c234b520449339957d6eb8ee85e7fb29217]

	found the problem: the scheduler queues getcs requests now. I put a limit of 100 unhandled requests in there, after that it stops listening to the crowd :)

	svn path=/trunk/kdenonbeta/icecream/; revision=257316

2003-10-08  Stephan Kulow  <coolo@kde.org>  [cefd83df13b548e42f6cff578753c7e10cf204b4]

	trying to get cs request queueing work - so far no luck

	svn path=/trunk/kdenonbeta/icecream/; revision=257263

2003-10-08  Stephan Kulow  <coolo@kde.org>  [8a8f011c2a47f4815fab5d2ad3cc5775fe1f0653]

	removing wrong comment

	svn path=/trunk/kdenonbeta/icecream/; revision=257249

2003-10-08  Michael Matz  <matz@kde.org>  [9e4afab027b44e951e44847a4e658fee035686ed]

	cosmetic

	svn path=/trunk/kdenonbeta/icecream/; revision=257155

2003-10-07  Stephan Kulow  <coolo@kde.org>  [b642d840edd8d9ea7e19a2f3b85c836e2fa0554d]

	shuffling the code a bit

	svn path=/trunk/kdenonbeta/icecream/; revision=257063

2003-10-07  Stephan Kulow  <coolo@kde.org>  [519d0efa4ab75735e7d9b7f4988979e3a859d608]

	couple MsgChannel and Service much closer together so you don't need to save two pointers for not leaking

	svn path=/trunk/kdenonbeta/icecream/; revision=257059

2003-10-07  Stephan Kulow  <coolo@kde.org>  [f3ad8734d1a579e204b12d24986c38b3ce301b7f]

	cool progress

	svn path=/trunk/kdenonbeta/icecream/; revision=257008

2003-10-07  Stephan Kulow  <coolo@kde.org>  [d2935b71dba880bcc6309e9d5c29ce5ba840782c]

	less debug output less leaking sockets

	svn path=/trunk/kdenonbeta/icecream/; revision=257001

2003-10-07  Stephan Kulow  <coolo@kde.org>  [3e764bcb3db5ad99577f2eea8d2c1e3d7a3285ad]

	even less debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=256999

2003-10-07  Stephan Kulow  <coolo@kde.org>  [0f4d737856c0d52fed3cf21077fab1faad489aaa]

	removing debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=256996

2003-10-07  Stephan Kulow  <coolo@kde.org>  [d807f78f212a3c77634000aed7b406b962090ce7]

	taking out some client debug output

	svn path=/trunk/kdenonbeta/icecream/; revision=256993

2003-10-07  Stephan Kulow  <coolo@kde.org>  [7140d03d42fd4ecdc9280cab5031af9d27babd44]

	make two iceccds on one machine work

	svn path=/trunk/kdenonbeta/icecream/; revision=256990

2003-10-07  Michael Matz  <matz@kde.org>  [f6807776388d2dbd6917fd281e506790f3d001d3]

	Randomize compile host.

	svn path=/trunk/kdenonbeta/icecream/; revision=256975

2003-10-07  Stephan Kulow  <coolo@kde.org>  [64055429b8f20ed7f579f8dd12e5235d8ffbfbc0]

	debug output for stats

	svn path=/trunk/kdenonbeta/icecream/; revision=256974

2003-10-07  Stephan Kulow  <coolo@kde.org>  [67972ac28abe85ac5fc43e4ed73fbb7185c5812e]

	every two seconds the load

	svn path=/trunk/kdenonbeta/icecream/; revision=256973

2003-10-07  Stephan Kulow  <coolo@kde.org>  [06102ee4f1deb591b2f0f0a2041272f0ae781592]

	no more teambuilder

	svn path=/trunk/kdenonbeta/icecream/; revision=256953

2003-10-07  Stephan Kulow  <coolo@kde.org>  [758302390efb3673c25c8bf12a3ff072cf808eda]

	off by one

	svn path=/trunk/kdenonbeta/icecream/; revision=256947

2003-10-07  Stephan Kulow  <coolo@kde.org>  [03c50221440f6197923c1ed6c4b799ec7f95afc0]

	implemented Job{Begin,End}Msg

	svn path=/trunk/kdenonbeta/icecream/; revision=256932

2003-10-07  Stephan Kulow  <coolo@kde.org>  [60c02e35abee23730b1061544dbcb458c84596e9]

	fixing memory leaks

	svn path=/trunk/kdenonbeta/icecream/; revision=256923

2003-10-06  Michael Matz  <matz@kde.org>  [e314f30fa79bb219eebbb786d06f567360bae362]

	close fds, and some timeout while looking for a scheduler.

	svn path=/trunk/kdenonbeta/icecream/; revision=256859

2003-10-06  Michael Matz  <matz@kde.org>  [d541c25b14bf71845a8bd149cb57b8c964edbf06]

	Deleting memory on stack is not very segfault-avoiding, even if it removes leaks.

	svn path=/trunk/kdenonbeta/icecream/; revision=256857

2003-10-06  Michael Matz  <matz@kde.org>  [32a2d16e1d69d5fe1e7e48ed29e9c426d55dc35d]

	broadcast asking for scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=256855

2003-10-06  Stephan Kulow  <coolo@kde.org>  [6baef4b959a7e31b74bccb6238f58b40e4fcfd22]

	memleak--

	svn path=/trunk/kdenonbeta/icecream/; revision=256840

2003-10-06  Stephan Kulow  <coolo@kde.org>  [0e054027c7cf47eb1c664a376739691327d8fb21]

	trying to fix mem leaks

	svn path=/trunk/kdenonbeta/icecream/; revision=256839

2003-10-06  Stephan Kulow  <coolo@kde.org>  [f73748ecd7d590e3740123c96b21c23ce139d9fb]

	do not install

	svn path=/trunk/kdenonbeta/icecream/; revision=256836

2003-10-06  Stephan Kulow  <coolo@kde.org>  [5a7e92d0f46a9c25707ba3aceed6c727a88ae381]

	install

	svn path=/trunk/kdenonbeta/icecream/; revision=256835

2003-10-06  Stephan Kulow  <coolo@kde.org>  [eaa36d1b94f4992caa96f03461081c731f26b058]

	bigger chunks

	svn path=/trunk/kdenonbeta/icecream/; revision=256834

2003-10-06  Stephan Kulow  <coolo@kde.org>  [c347b5a5d14d09e6bb8a0f597eb05f22ae87bc44]

	not needed

	svn path=/trunk/kdenonbeta/icecream/; revision=256829

2003-10-06  Stephan Kulow  <coolo@kde.org>  [36d89e3cdb8392b4ee52bc5bee505e6b8e8d5635]

	compression using minilzo

	svn path=/trunk/kdenonbeta/icecream/; revision=256824

2003-10-06  Stephan Kulow  <coolo@kde.org>  [846a5a5867f8faa827182a4a1e740ecd4dd05cc2]

	less debug

	svn path=/trunk/kdenonbeta/icecream/; revision=256793

2003-10-06  Stephan Kulow  <coolo@kde.org>  [9a6f262a3da9de5a5eb7951ed72d54d90ae88e13]

	make it work again with GET_SCHEDULER

	svn path=/trunk/kdenonbeta/icecream/; revision=256788

2003-10-06  Stephan Kulow  <coolo@kde.org>  [aa656a0f5a4f5401c1481e852f0f6aca85bc90e3]

	compile (on 8.2)

	svn path=/trunk/kdenonbeta/icecream/; revision=256785

2003-10-06  Stephan Kulow  <coolo@kde.org>  [7eec975e325887f00746940cfb31965622b30ff9]

	trying to make M_*_SCHEDULER work

	svn path=/trunk/kdenonbeta/icecream/; revision=256781

2003-10-06  Stephan Kulow  <coolo@kde.org>  [a6209df710e05203ade518d2ccf3baeae6132a24]

	login

	svn path=/trunk/kdenonbeta/icecream/; revision=256764

2003-10-06  Stephan Kulow  <coolo@kde.org>  [045a62a233fc782fd1f8908f1661f796f4429533]

	nonsense

	svn path=/trunk/kdenonbeta/icecream/; revision=256763

2003-10-06  Stephan Kulow  <coolo@kde.org>  [f9491051d7c6a17ce64ce7f04f299f356504aa88]

	it compiles again

	svn path=/trunk/kdenonbeta/icecream/; revision=256761

2003-10-06  Michael Matz  <matz@kde.org>  [1b97e7467645a534988f41eda33eba531b202d67]

	New msg type M_LOGIN. scheduler is now select() based and accepts multiple connections.

	svn path=/trunk/kdenonbeta/icecream/; revision=256748

2003-10-06  Stephan Kulow  <coolo@kde.org>  [4eff4d7e0ee42ab174a232a5c31bc6c9aba387eb]

	using MsgChannel

	svn path=/trunk/kdenonbeta/icecream/; revision=256729

2003-10-06  Michael Matz  <matz@kde.org>  [628b95a40f8e29852b42e3a120c387488a2eeefa]

	Add port member to UseCSMsg (and Service).  Currently it's hardcoded to 10245 (in the Message only).

	svn path=/trunk/kdenonbeta/icecream/; revision=256720

2003-10-06  Stephan Kulow  <coolo@kde.org>  [c1e9f438448aa691c6d81f95003f40644237234d]

	disable static libs

	svn path=/trunk/kdenonbeta/icecream/; revision=256714

2003-10-06  Michael Matz  <matz@kde.org>  [4185862ce2fde66dd9bd1d893cbca1062e048c32]

	Factoring out the connection to a know host function (now it's a Service constructor).

	svn path=/trunk/kdenonbeta/icecream/; revision=256708

2003-10-06  Michael Matz  <matz@kde.org>  [188d33daf5769c504aee74a546af86bac5c5c266]

	They talk.

	svn path=/trunk/kdenonbeta/icecream/; revision=256703

2003-10-06  Stephan Kulow  <coolo@kde.org>  [d96835b3a628be284a2ff179bcf703bba76cfbc8]

	removing unneeded messages

	svn path=/trunk/kdenonbeta/icecream/; revision=256684

2003-10-06  Stephan Kulow  <coolo@kde.org>  [473622a79d85d9e9cf8968d0bdcb3c100cbc1720]

	fixincludes

	svn path=/trunk/kdenonbeta/icecream/; revision=256670

2003-10-06  Stephan Kulow  <coolo@kde.org>  [7c4fbcc436e8779cd5210128fb2246ddfd06f36a]

	removing unneeded stuff

	svn path=/trunk/kdenonbeta/icecream/; revision=256669

2003-10-06  Stephan Kulow  <coolo@kde.org>  [0a6572e5f40505a9029b26a8d1d38a3062498326]

	not needed

	svn path=/trunk/kdenonbeta/icecream/; revision=256668

2003-10-04  Stephan Kulow  <coolo@kde.org>  [b15fd85b832456923133a8201323e15424a3915c]

	little debugging

	svn path=/trunk/kdenonbeta/icecream/; revision=256216

2003-10-03  Stephan Kulow  <coolo@kde.org>  [25c941ecf0f18d49684c8568974c6489c2c6e4c9]

	making the client smarter and the daemon dumber

	svn path=/trunk/kdenonbeta/icecream/; revision=255938

2003-10-02  Michael Matz  <matz@kde.org>  [c222f80c4c2cdc7a858dbf89f0ce25a3d9bf7e45]

	I can connect to it, and get an answer to use host "127.0.0.1"

	svn path=/trunk/kdenonbeta/icecream/; revision=255701

2003-10-01  Michael Matz  <matz@kde.org>  [3ea9d0a03030fdb44456cad6d29d3b518dad60c8]

	Small non-working test program.

	svn path=/trunk/kdenonbeta/icecream/; revision=255423

2003-10-01  Michael Matz  <matz@kde.org>  [120e2fdef6a64ca37b8033cf881e7c01e2ccb9ca]

	Compile!  (plus a non-tested main function for the scheduler)

	svn path=/trunk/kdenonbeta/icecream/; revision=255387

2003-09-30  Stephan Kulow  <coolo@kde.org>  [59b7137738ee93909d6c81df771f265e76e22430]

	some more cleanup

	svn path=/trunk/kdenonbeta/icecream/; revision=255222

2003-09-30  Stephan Kulow  <coolo@kde.org>  [5bff252108e1c25e595abd8bbe587ffd8fe819d7]

	some debug and some strip

	svn path=/trunk/kdenonbeta/icecream/; revision=255221

2003-09-30  Stephan Kulow  <coolo@kde.org>  [a2fb48e8af174b6d69a579f9f2bff402e9392065]

	playing around with args

	svn path=/trunk/kdenonbeta/icecream/; revision=255218

2003-09-30  Stephan Kulow  <coolo@kde.org>  [7ebee9b314072d0a9a0be219570921f62559d4a7]

	some more cleaning up

	svn path=/trunk/kdenonbeta/icecream/; revision=255208

2003-09-30  Stephan Kulow  <coolo@kde.org>  [6f30c61b8cbbeb04745064da120cdd8799846a13]

	compile

	svn path=/trunk/kdenonbeta/icecream/; revision=255125

2003-09-30  Stephan Kulow  <coolo@kde.org>  [914ea3f1a077ab31654d8eda29d6c2c73eb49a9f]

	moving common stuff into client to sort it out there

	svn path=/trunk/kdenonbeta/icecream/; revision=255123

2003-09-30  Stephan Kulow  <coolo@kde.org>  [e2012fb9983b75de8916df7b81a4da598d7fc1ae]

	giving it a Makefile, even when it doesn't compile

	svn path=/trunk/kdenonbeta/icecream/; revision=255056

2003-09-30  Michael Matz  <matz@kde.org>  [74af9518c701b7b5d62c9a8324b4038fcf0bc03d]

	Add volatile.

	svn path=/trunk/kdenonbeta/icecream/; revision=255053

2003-09-30  Stephan Kulow  <coolo@kde.org>  [694293f13a987fb6c74a5fc3b005b41d7089f389]

	zombies ade

	svn path=/trunk/kdenonbeta/icecream/; revision=255038

2003-09-29  Michael Matz  <matz@kde.org>  [1dc29b5bcfe7b93db968024e08c5e716ce634a4c]

	Some TODO, and JobDone handling.

	svn path=/trunk/kdenonbeta/icecream/; revision=254954

2003-09-29  Michael Matz  <matz@kde.org>  [a9e4bfecc19ebe772f1f209efa402975ad6fdb09]

	Communication stuff and some messages.

	svn path=/trunk/kdenonbeta/icecream/; revision=254952

2003-09-29  Stephan Kulow  <coolo@kde.org>  [7a4c1bd8768599bcb9c1af8aa4ea53bd7b255c50]

	I'm getting nowhere

	svn path=/trunk/kdenonbeta/icecream/; revision=254941

2003-09-29  Stephan Kulow  <coolo@kde.org>  [aefa59131ea2c3feb8a7ac794c2fc46a150990bf]

	first work on forking

	svn path=/trunk/kdenonbeta/icecream/; revision=254922

2003-09-29  Michael Matz  <matz@kde.org>  [4af2e4e4754f4aa5692b90d09600016d834d6c6d]

	Some more stuff

	svn path=/trunk/kdenonbeta/icecream/; revision=254893

2003-09-29  Michael Matz  <matz@kde.org>  [b6d7052b5550d007a022190fe67073bfdf2330aa]

	Seleton of the message sender/receivers.

	svn path=/trunk/kdenonbeta/icecream/; revision=254892

2003-09-29  Michael Matz  <matz@kde.org>  [d6a7ff0d9d866d0d5ee820b3c78c9f99cb92cb2b]

	skeleton of a scheduler

	svn path=/trunk/kdenonbeta/icecream/; revision=254879

2003-09-29  Michael Matz  <matz@kde.org>  [b5f98d401353fc7eccf7527c24d95c3d3a05ec5a]

	Some more messages I think I'll need.

	svn path=/trunk/kdenonbeta/icecream/; revision=254878

2003-09-29  Stephan Kulow  <coolo@kde.org>  [b6d910abb81e0d0a1c652a219c4e7918aacf8b10]

	some more work on CompileJob

	svn path=/trunk/kdenonbeta/icecream/; revision=254866

2003-09-29  Stephan Kulow  <coolo@kde.org>  [dcef604dedc7cf5da6dbbcc7f7eb465b83174add]

	some thinking

	svn path=/trunk/kdenonbeta/icecream/; revision=254855

2003-09-28  Stephan Kulow  <coolo@kde.org>  [fd0f5413e7e6988592b49d6383e1a16a2f4c6e71]

	ignoring

	svn path=/trunk/kdenonbeta/icecream/; revision=254661

2003-09-26  Stephan Kulow  <coolo@kde.org>  [cd3a2e63daf3b619bdbd5e7a6b532404d57b7dac]

	remove verbose mode

	svn path=/trunk/kdenonbeta/icecream/; revision=254149

2003-09-26  Stephan Kulow  <coolo@kde.org>  [9b53fe3974d582e287e16789e6f5f40941db3bbe]

	debug

	svn path=/trunk/kdenonbeta/icecream/; revision=254147

2003-09-26  Stephan Kulow  <coolo@kde.org>  [ee2a65ae6aaf19bb500b354b0123277eb9d7a292]

	new files

	svn path=/trunk/kdenonbeta/icecream/; revision=254138

2003-09-26  Stephan Kulow  <coolo@kde.org>  [aaa2bf6cca94d1d5c9f5a8780c294babc34052c1]

	one step closer

	svn path=/trunk/kdenonbeta/icecream/; revision=254103

2003-09-26  Stephan Kulow  <coolo@kde.org>  [b06822c5cd9c4dfb5934567cb227f743bc3220fc]

	some more C<->CD proto work

	svn path=/trunk/kdenonbeta/icecream/; revision=254086

2003-09-26  Stephan Kulow  <coolo@kde.org>  [a2a7f99d04ac929b7fe1454787ed8916021993cf]

	little

	svn path=/trunk/kdenonbeta/icecream/; revision=254083

2003-09-26  Stephan Kulow  <coolo@kde.org>  [7e9a7a763370815ac0c2b46f6b5baf59f1794afe]

	adding daemon

	svn path=/trunk/kdenonbeta/icecream/; revision=254064

2003-09-26  Stephan Kulow  <coolo@kde.org>  [6475d659e2757f0e93a4bd66bd3f91a5e9594b9e]

	I better commit before it becomes serious

	svn path=/trunk/kdenonbeta/icecream/; revision=254063

2003-09-25  Stephan Kulow  <coolo@kde.org>  [9e9d42be107ed7350e3a658f07ecdc7269141093]

	provide a icecc++ too

	svn path=/trunk/kdenonbeta/icecream/; revision=253958

2003-09-25  Stephan Kulow  <coolo@kde.org>  [d8c9f197c0bc875412e1264f04879da1ede9a50e]

	continue from here

	svn path=/trunk/kdenonbeta/icecream/; revision=253882

2003-09-25  Michael Matz  <matz@kde.org>  [77a80f6bbf02b67d277ddc6136629718a96d1dc9]

	tcpdump support

	svn path=/trunk/kdenonbeta/icecream/; revision=253860

2003-09-25  Michael Matz  <matz@kde.org>  [c4df2a32b71dd1772f07ba17268c964d0352d8c3]

	First thoughts.

	svn path=/trunk/kdenonbeta/icecream/; revision=253856

2003-09-25  Stephan Kulow  <coolo@kde.org>  [3f159131861170bcabc1aec3aaa95917335125a2]

	renamed

	svn path=/trunk/kdenonbeta/icecream/; revision=253848

2003-09-25  Stephan Kulow  <coolo@kde.org>  [8723b85dc54e869ffdeded0b64cb6f2831192004]

	more files to build

	svn path=/trunk/kdenonbeta/icecream/; revision=253846

2003-09-25  Stephan Kulow  <coolo@kde.org>  [5dfeb923ff0fc0234f2faddf33840c80878cef6e]

	framework

	svn path=/trunk/kdenonbeta/icecream/; revision=253836

2003-09-25  Stephan Kulow  <coolo@kde.org>  [a87985e8f3065e795e887f9585fb340a084f7a7d]

	importing exploded distcc sources

	svn path=/trunk/kdenonbeta/icecream/; revision=253823
